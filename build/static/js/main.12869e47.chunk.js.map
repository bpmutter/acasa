{"version":3,"sources":["vector-icons/green/woman-with-home-mountain.svg","vector-icons/green/remote-work.svg","vector-icons/green/many-homes.svg","vector-icons/green/conversation.svg","vector-icons/green/news-megaphone.svg","vector-icons/green/control-settings.svg","vector-icons/green/transfer-money.svg","vector-icons/green/hiding-in-trees.svg","vector-icons/green/empty-void.svg","vector-icons/green/location-search.svg","serviceWorker.js","components/Context.js","components/DemoLogin.jsx","components/SignUp.jsx","components/SignUpModal.jsx","components/ProfileMenu.jsx","components/LogIn.jsx","components/LogInModal.jsx","components/MobileNavMenu.jsx","components/Navigation.jsx","components/Hero.jsx","components/Card.jsx","components/ForUsers.jsx","google-maps/geocoder.js","components/GoogleMapsSearchBox.jsx","components/SelectOption.jsx","components/DateSelector.jsx","utils/dateJStoHTML.js","utils/getGeographicLocation.js","components/SearchBar.jsx","components/MainContentWrapper.jsx","components/Homepage.jsx","components/ContentPaper.jsx","utils/dateFormatter.js","components/Button.jsx","config/firebaseConfig.js","config/firebaseApp.js","config/firestoreDb.js","queries/users/getUserByUserName.js","components/ContactModal.js","components/UserProfileInfo.jsx","components/ListingCard.jsx","components/Listings.jsx","queries/listings/getListingsByHostUsername.js","components/UserListings.jsx","testData.js","components/Head.js","components/UserPage.jsx","components/Footer.jsx","components/ProtectedRoute.jsx","components/Profile.jsx","components/Snackbar.jsx","components/SelectMultiple.jsx","config/geofirestore.js","queries/users/updateUserAccountInfo.js","queries/listings/deleteListing.js","queries/listings/deleteListingsByUsername.js","auth/deleteUser.js","queries/users/deleteUser.js","components/DeleteAccountModal.js","config/firebaseStorage.js","utils/uploadFileAndGetURL.js","components/UploadOneImage.jsx","queries/users/updateUserProfilePicture.js","components/UpdateProfilePicture.jsx","components/ProfileSettings.js","utils/useInputHook.js","components/Checkbox.jsx","components/RadioGroup.jsx","queries/listings/postListing.js","utils/bulkUploadFiles.js","components/ImageGrid.jsx","components/UploadManyImages.jsx","components/CreateListing.jsx","components/ImageModal.jsx","components/Testing.jsx","components/FourOhFour.jsx","components/HeartButton.jsx","components/ListingHeader.jsx","components/ListingPhotos.jsx","components/ListingMap.jsx","queries/listings/getListingById.js","components/ListingPage.jsx","queries/listings/getNearbyListings.js","components/SearchResults.jsx","components/SearchPage.jsx","utils/dateStringToObj.js","components/LoginPage.jsx","utils/dateFbToHTML.js","queries/listings/updateListing.js","components/DeleteListingModal.js","components/UpdateListingForm.jsx","components/PersonalContactModal.jsx","components/AboutModal.jsx","components/App.js","theme/theme.js","auth/facebookSignup.js","auth/googleSignup.js","auth/signup.js","auth/login.js","auth/loginOnPageLoad.js","auth/demoLoginFirebase.js","components/AppWithContext.jsx","auth/logout.js","index.js","theme/logo-big.webp"],"names":["module","exports","Boolean","window","location","hostname","match","AppContext","React","createContext","useStyles","makeStyles","theme","button","fontFamily","typography","special","padding","spacing","maxHeight","textAlign","DemoLogin","demoLogin","useContext","context","style","display","alignItems","justifyContent","ThemeButton","onClick","e","children","color","props","classes","Button","className","variant","component","titleWrapper","flexDirection","width","logo","paddingBottom","title","palette","primary","dark","SignUp","loggedIn","logOut","logIn","signUp","uiConfig","signInFlow","signInOptions","firebase","auth","GoogleAuthProvider","PROVIDER_ID","provider","FacebookAuthProvider","scopes","customParameters","auth_type","callbacks","signInSuccessWithAuthResult","authResult","redirectUrl","Box","src","alt","Typography","currentUser","displayName","firebaseAuth","modalContent","position","backgroundColor","background","paper","border","boxShadow","shadows","top","left","transform","outlineColor","secondary","light","buttonLink","marginRight","main","cursor","menuButton","MyModal","useState","open","setOpen","Modal","onClose","aria-labelledby","aria-describedby","disableAutoFocus","StyledMenu","withStyles","Menu","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","CustomizedMenus","buttonStyles","history","useHistory","anchorEl","setAnchorEl","IconButton","aria-controls","aria-haspopup","event","currentTarget","fontSize","id","keepMounted","Link","href","underline","MenuItem","ListItemIcon","ListItemText","push","buttonWrapper","LogIn","align","LoginModal","root","zIndex","height","SearchAppBar","handleClose","edge","aria-label","TransitionComponent","Fade","to","flexGrow","appBar","menuLink","rightNav","profileMenu","MenuAppBar","useTheme","smallScreen","useMediaQuery","breakpoints","down","appContext","AppBar","Toolbar","paddingRight","hero","gridTemplateColumns","default","paddingTop","paddingLeft","heroImg","opacity","backgroundPosition","backgroundSize","backgroundRepeat","marginBottom","heroText","Hero","backgroundImage","womanMountainHome","Divider","maxWidth","minHeight","margin","marginLeft","img","ImgMediaCard","imgTitle","imgAlt","imgStyling","cardTitle","cardContent","buttonContent","Card","CardContent","gutterBottom","CardActions","size","container","sectionWrapper","cardWrapper","flexWrap","ownerLearnMoreWrapper","divider","marginTop","ForUsers","Paper","remoteWork","selectingHome","directCommunication","shareNews","controlSettings","payment","Geocode","setApiKey","setLanguage","geocodeFromLatLng","lat","lng","a","fromLatLng","res","addressInfo","results","console","error","geocodeFromAddress","addressStr","fromAddress","geo","geometry","autocompleteService","current","icon","text","GoogleMapsAutoComplete","formSetter","label","defaultValue","inputVal","helperText","required","value","setValue","inputValue","setInputValue","options","setOptions","loaded","useRef","document","querySelector","script","createElement","setAttribute","appendChild","loadScript","fetch","useMemo","throttle","request","callback","getPlacePredictions","useEffect","active","google","maps","places","AutocompleteService","types","input","newOptions","Autocomplete","getOptionLabel","option","description","filterOptions","x","autoComplete","includeInputInList","filterSelectedOptions","onChange","newValue","geocoder","onInputChange","newInputValue","renderInput","params","TextField","fullWidth","renderOption","matches","structured_formatting","main_text_matched_substrings","parts","parse","main_text","map","offset","length","Grid","item","xs","part","index","key","fontWeight","highlight","secondary_text","formControl","minWidth","selectEmpty","SelectOption","labelText","name","FormControl","InputLabel","htmlFor","Select","native","preventDefault","target","textField","DatePickers","disablePast","date","setDate","dateObj","dateStr","format","InputLabelProps","shrink","getGeographicPosition","setter","getCurrentPosition","coords","alert","Promise","resolve","reject","navigator","geolocation","white","form","formElementWrapper","dateSelect","hometype","searchButton","demoSearch","SearchBar","setSearchResults","browserLocation","useLocation","setLocation","homeType","startDate","processingLocation","setProcessingLocation","queryLocation","search","setTimeout","searchCurrentLocation","getLocation","latitude","longitude","onSubmit","CircularProgress","pathname","MainContentWrapper","searchWrapper","Homepage","ContentPaper","dateFormatter","fbDateObj","toDate","month","getMonth","getDate","getFullYear","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","app","initializeApp","config","analytics","db","firestore","getUserByUserName","username","collection","where","get","empty","users","forEach","doc","data","header","avatar","listWrapper","ContactModal","userToContact","noName","contact","email","user","setUser","userInfo","first_name","Avatar","profile_picture","last_name","uid","List","ListItem","phone","whatsapp","website","startsWith","wrapper","settingsButton","profilePicture","mainProfileContent","progress","alignSelf","justifySelf","primaryInfoWrapper","joinDate","bold","secondaryInfo","UserProfileInfo","profile","joined","secondaryInfoWrapper","languages","join","bio","borderRight","mainContent","topContent","heartButton","pink","price","chips","chip","owner","ownerInfo","contactButton","ListingCard","listing","hearted","setHearted","overview","roommates","type","primary_img","Chip","bedrooms","max_guests","bathrooms","wifi_speed","lgbtq","Listings","listings","uuid","progressWrapper","UserListings","setListings","getListings","useCallback","getUserListings","userListings","endsWith","Date","HelmetHead","additionalNodes","Helmet","content","property","node","UserPage","usernameContext","useParams","getUser","userFromUsername","date_added","firstName","ghIcon","Footer","PrivateRoute","rest","render","state","from","scrollTo","unsubscribe","onAuthStateChanged","profileUser","userVal","Alert","CustomizedSnackbars","msgSeverity","msg","reason","Snackbar","autoHideDuration","severity","noLabel","MenuProps","PaperProps","ITEM_HEIGHT","getStyles","optionName","indexOf","fontWeightRegular","fontWeightMedium","MultipleSelect","setOptionName","multiple","Input","renderValue","selected","geoListings","geofirestore","updateUserInDb","lastName","date_updated","update","getListingsByHostUsername","newUserInfo","message","deleteListing","listingId","setRes","delete","require","deleteListingsByUsername","getListingsByUsername","deleteUserAuth","deleteUser","log","deleteButton","red","DeleteAccountModal","disabled","setMainContent","handleDelete","storage","uploadAndGetURL","file","path","imgSetter","progressSetter","storageRef","ref","fileName","pathRef","child","put","snapshot","getDownloadURL","snapshotUrl","imgWrapper","imgPreview","UploadOneImage","urlSetter","preview","noPreview","setCustomLoading","imgUrl","setImgUrl","setProgress","fileHandler","files","uploadFile","fileURL","accept","hidden","updateProfilePicture","imgURL","uploadWrapper","borderRadius","UpdateProfilePicture","setProfilePicture","uploadNewImage","demoInfo","textInput","sectionDivider","submitButton","EditProfile","setFirstName","setLastName","setUsername","setEmail","setPhone","setWebsite","setWhatsapp","setBio","setLanguages","snackbar","setSnackbar","deactivate","thisUser","inputChangeHandler","updateProfile","updateUserAccountInfo","noValidate","primaryInfo","additionalInfo","multiline","rows","languageList","useUserInput","CheckboxWithLabel","checked","setChecked","FormControlLabel","control","Checkbox","newVal","RadioButtonsGroup","formLabel","ariaLabel","FormLabel","RadioGroup","JSON","stringify","row","Radio","postListing","start_date","end_date","location_description","shared","rules","pets","living_with_host","additional_imgs","payment_methods","timestamp","getTime","titleDash","split","encodeURI","accents","remove","slice","coordinates","GeoPoint","newListing","created_at","updated_at","set","redirectId","bulkUpload","filesResolved","gridListRoot","overflow","gridList","gridImg","modalFrame","imgModal","SingleLineGridList","imgs","modalSrc","setModalSrc","modalAlt","setModalAlt","handleOpen","GridList","cols","i","GridListTile","in","imagesLoading","UploadManyImgs","defaultImages","uploadedPics","setUploadedPics","uploadStatus","setUploadStatus","styles","onDrop","pictures","bulkUploadFiles","urls","withIcon","buttonText","imgExtension","maxFileSize","imgFrame","role","titleLogoWrapper","uploadOneImageWrapper","currentPrimaryImg","primaryImg","todayStr","now","oneToTenOptions","CreateListing","useInput","setType","publish_now","setPublishNow","setStartDate","setEndDate","setShared","setLivingWithHost","setRoommates","setBedrooms","setBathrooms","setMaxGuests","setRules","setPets","setPaymentMethods","setLgbtq","setPrimaryImage","setAdditionalImages","resMsg","setResMsg","createListing","priceInt","parseInt","bathroomsInt","bedroomsInt","maxGuestsInt","roommatesInt","wifiInt","startDateObj","dateParse","endDate","postListingToDb","hometypes","InputProps","inputProps","min","startAdornment","InputAdornment","dates","FormGroup","images","ImageModal","Testing","pageWrapper","subtitle","FourOhFour","dense","fourOhFourImg","boxSizing","actionButtons","ListingHeader","info","primaryImgWrapper","listingTitle","ListingPhotos","additionalImgs","MapWithAMarker","withScriptjs","withGoogleMap","defaultZoom","defaultCenter","defaultOptions","mapTheme","ListingMap","placeName","googleMapURL","loadingElement","containerElement","mapElement","getListingById","contentWrapper","gridTemplateRows","gridColumn","gridRow","availability","contactOwner","listingDescription","locationTopContent","locationDescription","mapWrapper","availableNow","ListingPage","setListing","setAvailableNow","getListing","currentTime","availableFrom","toMillis","wifi","getNearbyListings","kmDistance","query","near","center","radius","resDocs","docs","toLowerCase","filter","result","searchResultsWrapper","resultsWrapper","noResultsImgWrapper","JustifyContent","noResultsImg","SearchResults","searchRadiusKm","loading","setLoading","getAndSetListings","emptyVoid","noQuery","searchImgWrapper","searchImg","SearchResultsPage","parsed","queryString","parseFloat","searchRadius","setQuery","rerender","setRerender","queryObj","locationSearch","LoginPage","fbDateToHtmlStr","fbDate","jsDate","DeleteListingModal","setTitle","setPrice","setDescription","setLocationDescription","setWifiSpeed","setDisableSubmit","fBdateToHtmlString","updateListing","updateListingToDb","bitmojiButton","process","bottom","precache","contactInfo","Transition","forwardRef","Slide","direction","Dialog","dialog","DialogContent","iconButton","aboutInfo","contactIcon","AboutModal","rel","icons","App","utils","DateFnsUtils","exact","ProtectedRoute","themeLight","createMuiTheme","gradients","responsiveFontSizes","themeDark","facebookSignup","additionalUserInfo","isNewUser","newUser","picture","url","creationTime","oAuthInfo","userId","googleSignup","given_name","family_name","createUserInDb","authProvider","providerId","login","userRef","exists","docData","loginOnPageLoad","userData","signInWithEmailAndPassword","catch","errorCode","code","errorMessage","loggedInFromLS","localStorage","getItem","setLoggedIn","errors","setErrors","signupFirebase","loginFirebase","setItem","demoLoginFirebase","loginOnPageLoadFirebase","signOut","Context","Provider","ThemeProvider","ReactDOM","StrictMode","AppWithContext","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.12869e47.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/woman-with-home-mountain.fbfbf632.svg\";","module.exports = __webpack_public_path__ + \"static/media/remote-work.7c5a71b7.svg\";","module.exports = __webpack_public_path__ + \"static/media/many-homes.d845869b.svg\";","module.exports = __webpack_public_path__ + \"static/media/conversation.0dd3c6da.svg\";","module.exports = __webpack_public_path__ + \"static/media/news-megaphone.f4d0d54c.svg\";","module.exports = __webpack_public_path__ + \"static/media/control-settings.6a47a680.svg\";","module.exports = __webpack_public_path__ + \"static/media/transfer-money.a0f26b4c.svg\";","module.exports = __webpack_public_path__ + \"static/media/hiding-in-trees.c9cdc1f1.svg\";","module.exports = __webpack_public_path__ + \"static/media/empty-void.2378110c.svg\";","module.exports = __webpack_public_path__ + \"static/media/location-search.c46ea4fc.svg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\n\nconst AppContext = React.createContext();\n\nexport default AppContext;\n","import React, {useContext} from 'react';\nimport { Button, makeStyles } from \"@material-ui/core\";\nimport context from './Context';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    fontFamily: theme.typography.special,\n    padding: theme.spacing(2),\n    maxHeight: 40,\n    textAlign: \"center\",\n  },\n}));\n\nexport default function DemoLogin(){\n    const {demoLogin} = useContext(context);\n    \n    const loginDemoUser = e => {\n        demoLogin();\n    }\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <ThemeButton onClick={loginDemoUser}>Demo Login</ThemeButton>\n      </div>\n    );\n}\n\n\n\nfunction ThemeButton({ children, color, ...props }) {\n  const classes = useStyles();\n  return (\n    <Button\n      {...props}\n      className={classes.button}\n      variant=\"contained\"\n      color={color || \"primary\"}\n      component=\"div\"\n    >\n      {children}\n    </Button>\n  );\n}","// Import FirebaseAuth and firebase.\nimport React, {useContext, useState} from \"react\";\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\nimport firebase from \"firebase\";\nimport logo from \"../theme/logo-big.webp\";\nimport {Link, Box, Typography, makeStyles, Button} from '@material-ui/core';\nimport context from './Context';\nimport DemoLogin from './DemoLogin';\n\nconst useStyles = makeStyles((theme) => ({\n  titleWrapper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: \"100%\",\n  },\n  logo: {\n    width: 50,\n    paddingBottom: theme.spacing(1)\n  },\n  title: {\n      fontFamily: theme.typography.special,\n      color: theme.palette.primary.dark,\n  }\n}));\n\nconst SignUp = () => {\n    // The component's Local state.\n    // state = {\n    //     isSignedIn: false, // Local signed-in state.\n    // };\n  const classes = useStyles();\n  const {loggedIn, logIn, logOut, signUp} = useContext(context);\n\n  // Configure FirebaseUI.\n  const uiConfig = {\n    // Popup signin flow rather than redirect flow.\n    signInFlow: \"popup\",\n    // We will display Google and Facebook as auth providers.\n    signInOptions: [\n      firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n      {\n        provider: firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n        scopes: [\n          'public_profile',\n          'email',\n        ],\n        customParameters: {\n          // Forces password re-entry.\n          auth_type: 'reauthenticate'\n        }\n    },\n    ],\n    callbacks: {\n      // Avoid redirects after sign-in.\n      signInSuccessWithAuthResult: (authResult, redirectUrl) => {\n        signUp(authResult);\n        return false;\n      },\n    },\n  };\n\n\n    return (\n      <Box>\n        <div\n          className={classes.titleWrapper}\n        >\n          <img src={logo} alt=\"aCasa logo\" className={classes.logo} />\n          <Typography\n            variant=\"h4\"\n            component=\"h3\"\n            className={classes.title}\n          >\n            aCasa\n          </Typography>\n        </div>\n        {!loggedIn ? (\n          <div>\n            <p>Sign up with one of the following methods:</p>\n            <Typography variant=\"p\" component=\"p\" color=\"textSecondary\">\n              NOTE: You only need to sign up if you want to post a listing. If you're just looking for for your next home, you can browse and message the host without an account.\n            </Typography>\n            <StyledFirebaseAuth\n              uiConfig={uiConfig}\n              firebaseAuth={firebase.auth()}\n            />\n            <DemoLogin/>\n          </div>\n        ) : (\n          <div>\n            <p>\n              Welcome {firebase.auth().currentUser.displayName}! You are now\n              signed in!\n            </p>\n            <Button onClick={() => logOut()}>Go to Profile</Button>\n          </div>\n        )}\n      </Box>\n    );\n  \n}\n\nexport default SignUp;","import React from \"react\";\nimport { makeStyles, Link, Typography , Button} from \"@material-ui/core\";\nimport Modal from \"@material-ui/core/Modal\";\nimport SignUp from './SignUp';\n\nconst useStyles = makeStyles((theme) => ({\n  modalContent: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    top: `50%`,\n    left: `50%`,\n    transform: `translate(-50%, -50%)`,\n    outlineColor: theme.palette.secondary.light,\n  },\n  buttonLink: {\n    marginRight: theme.spacing(2),\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.main,\n    cursor: \"pointer\",\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    fontFamily: theme.typography.special,\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n  },\n}));\n\nexport default function MyModal() {\n  const classes = useStyles();\n//   const [modalStyle] = React.useState(getModalStyle);\n  const [open, setOpen] = React.useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <>\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        className={classes.menuButton}\n        onClick={handleOpen}\n      >\n        Sign Up\n      </Button>\n      {/* <Link>\n        <Typography\n          variant=\"h6\"\n          component=\"span\"\n          className={classes.buttonLink}\n          onClick={handleOpen}\n        >\n          Sign Up\n        </Typography>\n      </Link> */}\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"aCasa sign in\"\n        aria-describedby=\"sign in to aCasa here\"\n        disableAutoFocus={true}\n        // className={classes.modal}\n      >\n        <div className={classes.modalContent}>\n          <SignUp />\n        </div>\n      </Modal>\n    </>\n  );\n}\n","import React, {useState, useContext} from \"react\";\nimport AppContext from \"./Context\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Menu from \"@material-ui/core/Menu\";\nimport Link from \"@material-ui/core/Link\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\nimport {useHistoy, useHistory} from 'react-router-dom';\n\nconst StyledMenu = withStyles({\n  paper: {\n    border: \"1px solid #d3d4d5\",\n  },\n})((props) => (\n  <Menu\n    elevation={0}\n    getContentAnchorEl={null}\n    anchorOrigin={{\n      vertical: \"bottom\",\n      horizontal: \"center\",\n    }}\n    transformOrigin={{\n      vertical: \"top\",\n      horizontal: \"center\",\n    }}\n    {...props}\n  />\n));\n\n\nexport default function CustomizedMenus(buttonStyles) {\n\n  const { logOut } = useContext(AppContext);\n  const history = useHistory();\n\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const logOutUser = () => {\n    logOut();\n    history.push('/');\n  }\n\n  \n\n  return (\n    <div>\n      <IconButton\n        aria-controls=\"customized-menu\"\n        aria-haspopup=\"true\"\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={handleClick}\n        style={buttonStyles}\n      >\n        <AccountCircleIcon fontSize=\"large\" />\n      </IconButton>\n      <StyledMenu\n        id=\"customized-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        <Link href=\"/profile\" color=\"inherit\" underline=\"none\">\n          <MenuItem>\n            <ListItemIcon>\n              <PersonIcon fontSize=\"small\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Profile\" />\n          </MenuItem>\n        </Link>\n        <Link href=\"/profile/settings\" color=\"inherit\" underline=\"none\">\n          <MenuItem>\n            <ListItemIcon>\n              <SettingsIcon fontSize=\"small\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Settings\" />\n          </MenuItem>\n        </Link>\n        <Link href=\"/create-listing\" color=\"inherit\" underline=\"none\">\n          <MenuItem>\n            <ListItemIcon>\n              <AddCircleIcon fontSize=\"small\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Create Listing\" />\n          </MenuItem>\n        </Link>\n        {/* <MenuItem>\n          <ListItemIcon>\n            <InboxIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText primary=\"Messages\" />\n        </MenuItem> */}\n        <MenuItem onClick={logOutUser}>\n          <ListItemIcon>\n            <ExitToAppIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText primary=\"Log out\" />\n        </MenuItem>\n      </StyledMenu>\n    </div>\n  );\n}\n","// Import FirebaseAuth and firebase.\nimport React, {useContext, useState} from \"react\";\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\nimport firebase from \"firebase\";\nimport logo from \"../theme/logo-big.webp\";\nimport {Link, Box, Typography, makeStyles, Button} from '@material-ui/core';\nimport context from './Context';\nimport DemoLogin from \"./DemoLogin\";\n\nconst useStyles = makeStyles((theme) => ({\n  titleWrapper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: \"100%\",\n  },\n  logo: {\n    width: 50,\n    paddingBottom: theme.spacing(1)\n  },\n  title: {\n      fontFamily: theme.typography.special,\n      color: theme.palette.primary.dark,\n  },\n  buttonWrapper: {\n    display: 'flex',\n    justifyContent: 'space-evenly',\n    alignItems: 'center',\n  }\n}));\n\nconst LogIn = () => {\n\n  const classes = useStyles();\n  const {loggedIn, logIn} = useContext(context);\n\n  const uiConfig = {\n    signInFlow: \"popup\",\n    // We will display Google and Facebook as auth providers.\n    signInOptions: [\n      firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n      {\n        provider: firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n        scopes: [\"public_profile\", \"email\"],\n        customParameters: {\n          // Forces password re-entry.\n          auth_type: \"reauthenticate\",\n        },\n      },\n    ],\n    callbacks: {\n      // Avoid redirects after sign-in.\n      signInSuccessWithAuthResult: (authResult, redirectUrl) => {\n        logIn(authResult);\n        return false;\n      },\n    },\n  };\n\n    return (\n      <Box>\n        <div\n          className={classes.titleWrapper}\n        >\n          <img src={logo} alt=\"aCasa logo\" className={classes.logo} />\n          <Typography\n            variant=\"h4\"\n            component=\"h3\"\n            className={classes.title}\n          >\n            aCasa\n          </Typography>\n        </div>\n        {!loggedIn ? (\n          <div>\n            <Typography align=\"center\">Log in with one of the following methods</Typography>\n            <StyledFirebaseAuth\n              uiConfig={uiConfig}\n              firebaseAuth={firebase.auth()}\n            />\n            <DemoLogin/>\n          </div>\n        ) : (\n          <div>\n            <Typography align=\"center\">\n              Welcome back! You are now\n              signed in!\n            </Typography >\n            <div className={classes.buttonWrapper}>\n              <Button href=\"/profile\">Go to Profile</Button>\n              <Button href=\"/post\">Post a Home</Button>\n            </div>\n          </div>\n        )}\n      </Box>\n    );\n  \n}\n\nexport default LogIn;","import React from \"react\";\nimport { makeStyles, Link, Typography } from \"@material-ui/core\";\nimport Modal from \"@material-ui/core/Modal\";\nimport LogIn from \"./LogIn\";\n\nconst useStyles = makeStyles((theme) => ({\n  modalContent: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    top: `50%`,\n    left: `50%`,\n    transform: `translate(-50%, -50%)`,\n    outlineColor: theme.palette.secondary.light,\n  },\n  buttonLink: {\n    marginRight: theme.spacing(2),\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.main,\n    cursor: 'pointer'\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark\n  },\n}));\n\nexport default function LoginModal() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <>\n      <Link>\n        <Typography variant=\"h6\" component=\"span\" \n        className={classes.buttonLink}\n        onClick={handleOpen}\n        >\n          Log In\n        </Typography>\n      </Link>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"aCasa log in\"\n        aria-describedby=\"log into your aCasa account here\"\n        disableAutoFocus={true}\n      >\n        <div className={classes.modalContent}>\n          <LogIn/>\n        </div>\n      </Modal>\n    </>\n  );\n}\n","import React, {useContext} from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Fade from \"@material-ui/core/Fade\";\nimport { Link } from \"react-router-dom\";\nimport context from './Context';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: \"static\",\n    zIndex: 10,\n    height: 65,\n    width: \"100%\",\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n\n\n}));\n\nexport default function SearchAppBar(props) {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n\n  const { loggedIn, logOut } = useContext(context);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleLogoutClose = () => {\n      logOut();\n      handleClose();\n  }\n\n  return (\n    <>\n      <IconButton\n        edge=\"start\"\n        className={classes.menuButton}\n        color=\"primary\"\n        href=\"/search\"\n      >\n        <SearchIcon fontSize=\"large\" />\n      </IconButton>\n      <IconButton\n        edge=\"start\"\n        className={classes.menuButton}\n        color=\"primary\"\n        aria-label=\"open drawer\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n      >\n        <MenuIcon fontSize=\"large\" />\n      </IconButton>\n      <Menu\n        id=\"fade-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Fade}\n      >\n        {loggedIn ? (\n          <>\n            <MenuItem onClick={handleClose} component={Link} to={\"/profile\"}>\n              Profile\n            </MenuItem>\n            <MenuItem\n              onClick={handleClose}\n              component={Link}\n              to={\"/profile/settings\"}\n            >\n              Settings\n            </MenuItem>\n            <MenuItem\n              onClick={handleClose}\n              component={Link}\n              to={\"/create-listing\"}\n            >\n              Create Listing\n            </MenuItem>\n            <MenuItem onClick={handleLogoutClose}>Log Out</MenuItem>\n          </>\n        ) : (\n          <>\n            <MenuItem onClick={handleClose} component={Link} to={\"/search\"}>\n              Search\n            </MenuItem>\n            <MenuItem onClick={handleClose} component={Link} to={\"/signup\"}>\n              Sign Up\n            </MenuItem>\n            <MenuItem onClick={handleClose} component={Link} to={\"/login\"}>\n              Log In\n            </MenuItem>\n          </>\n        )}\n      </Menu>\n    </>\n  );\n}\n","import React, { useContext} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Link from \"@material-ui/core/Link\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\nimport logo from \"../theme/logo-big.webp\";\nimport SignUpModal from './SignUpModal';\nimport ProfileMenu from './ProfileMenu';\nimport appContext from './Context';\nimport LogInModal from \"./LogInModal\";\nimport MobileNavMenu from './MobileNavMenu';\nimport { useTheme } from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport AddIcon from \"@material-ui/icons/Add\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    position: \"relative\",\n    zIndex: 3,\n  },\n  appBar: {\n    backgroundColor: theme.palette.secondary.main,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    fontFamily: theme.typography.special,\n  },\n  menuLink: {\n    marginRight: theme.spacing(2),\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.main,\n  },\n  logo: { width: 50 },\n  title: {\n    flexGrow: 1,\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.main,\n  },\n  rightNav: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  profileMenu: {\n    fontSize: \"1.5rem\",\n  },\n}));\n\nexport default function MenuAppBar() {\n  const classes = useStyles();\n  const theme = useTheme();\n  const smallScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  const { loggedIn } = useContext(appContext)\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar className={classes.appBar}>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"menu\"\n            href=\"/\"\n          >\n            <img src={logo} alt=\"aCasa logo\" className={classes.logo} />\n          </IconButton>\n          <Typography variant=\"h4\" component=\"h2\" className={classes.title}>\n            <Link href=\"/\">aCasa</Link>\n          </Typography>\n\n          <div className={classes.rightNav}>\n            {smallScreen ? (\n              <MobileNavMenu />\n            ) : (\n              <>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  className={classes.menuButton}\n                  href=\"/search\"\n                >\n                  <SearchIcon style={{ paddingRight: 10 }} />\n                  Discover Homes\n                </Button>\n                {loggedIn ? (\n                  <>\n                    <Button\n                      variant=\"contained\"\n                      color=\"primary\"\n                      className={classes.menuButton}\n                      href=\"/create-listing\"\n                    >\n                      <AddIcon style={{ paddingRight: 10 }} />\n                      Create Listing\n                    </Button>\n                    <ProfileMenu className={classes.profileMenu} />\n                  </>\n                ) : (\n                  <>\n                    <SignUpModal />\n                    <LogInModal />\n                  </>\n                )}\n              </>\n            )}\n          </div>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Box, Button, Typography } from \"@material-ui/core\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport womanMountainHome from \"../vector-icons/green/woman-with-home-mountain.svg\";\n\nconst useStyles = makeStyles((theme) => ({\n  hero: {\n    display: \"grid\",\n    gridTemplateColumns: \"1.25fr 1fr\",\n    padding: \"6em 5em 0\",\n    alignItems: \"center\",\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n    backgroundColor: theme.palette.background.default,\n    [theme.breakpoints.down(\"md\")]: {\n      paddingTop: theme.spacing(20),\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"flex\",\n      flexDirection: \"column-reverse\",\n      paddingTop: theme.spacing(12),\n      paddingLeft: theme.spacing(0),\n      paddingRight: theme.spacing(0),\n      paddingBottom: theme.spacing(6),\n      width: '100%'\n    },\n  },\n  heroImg: {\n    width: 500,\n    opacity: 0.8,\n    height: 300,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    [theme.breakpoints.down(\"md\")]: {\n      marginBottom: theme.spacing(1),\n      height: 250,\n      width: 'auto'\n    },\n\n    [theme.breakpoints.down(\"sm\")]: {\n      width: 300,\n    },\n  },\n  heroText: {\n    padding: theme.spacing(1.5)\n  },\n  button: {\n    fontFamily: theme.typography.special,\n  },\n}));\n\nconst Hero = () => {\n    const classes = useStyles();\n\n    return (\n      <>\n        <Box className={classes.hero}>\n          <Box className={classes.heroText}>\n            <Typography\n              variant=\"h5\"\n              component=\"p\"\n              style={{ fontFamily: \"inherit\" }}\n            >\n              aCasa\n            </Typography>\n            <Typography\n              variant=\"h4\"\n              component=\"h1\"\n              style={{ fontFamily: \"inherit\" }}\n            >\n              Medium-term furnished rentals\n            </Typography>\n            <p>\n              For when it's longer than a vacation but you don't want to sign the lease.\n            </p>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              href=\"/search\"\n              className={classes.button}\n            >\n              Get Started\n            </Button>\n          </Box>\n          <div className={classes.heroImg} style={{backgroundImage: `url(${womanMountainHome})`}}>\n          </div>\n        </Box>\n        <Divider />\n      </>\n    );\n}\n\nexport default Hero;","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    maxWidth: 325,\n    minHeight: 250,\n    margin: theme.spacing(1),\n    [theme.breakpoints.down(\"sm\")]: {\n      marginLeft: 0,\n      marginRight: 0,\n    }\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n  },\n  img: {\n    height: 140,\n    backgroundPosition: ' 0 -7px',\n    backgroundSize: 'cover', \n\n    width: '100%'\n  }\n\n}));\n\nexport default function ImgMediaCard({img, imgTitle, imgAlt, imgStyling, cardTitle, cardContent, buttonLink, buttonContent  }) {\n  \n  const classes = useStyles();\n\n  return (\n    <Card className={classes.root}>\n        <div  title={imgTitle} alt={imgAlt}\n          className={classes.img}\n          style={{backgroundImage: `url(${img})`, ...imgStyling}}\n        ></div>\n        <CardContent>\n          <Typography gutterBottom variant=\"h5\" component=\"h2\" className={classes.title}>\n            {cardTitle}\n          </Typography>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n            {cardContent}\n          </Typography>\n        </CardContent>\n      { buttonLink && buttonContent && (\n        <CardActions>\n            <Button size=\"small\" color=\"primary\" href={buttonLink}>\n            {buttonContent}\n            </Button>\n        </CardActions>\n      )}\n    </Card>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {Paper, Box, Typography, Divider, Container, Button} from \"@material-ui/core/\";\nimport Card from './Card';\nimport remoteWork from '../vector-icons/green/remote-work.svg'\nimport selectingHome from '../vector-icons/green/many-homes.svg'\nimport directCommunication from '../vector-icons/green/conversation.svg'\nimport shareNews from '../vector-icons/green/news-megaphone.svg'\nimport controlSettings from '../vector-icons/green/control-settings.svg'\nimport payment from '../vector-icons/green/transfer-money.svg'\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    margin: theme.spacing(1.5),\n    padding: theme.spacing(2),\n    maxWidth: \"90vw\",\n    backgroundColor: theme.palette.background.default,\n  },\n  sectionWrapper: {\n    padding: theme.spacing(2),\n    [theme.breakpoints.down(\"sm\")]: {\n      padding: 0,\n    },\n  },\n  cardWrapper: {\n    display: \"flex\",\n    justifyContent: \"space-evenly\",\n    flexDirection: \"row\",\n    padding: \"1rem\",\n    flexWrap: \"wrap\",\n    [theme.breakpoints.down(\"sm\")]: {\n      padding: 0,\n    },\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n  },\n  ownerLearnMoreWrapper: {\n    width: \"1005\",\n    display: \"flex\",\n    justifyContent: \"center\",\n  },\n  divider: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  }\n}));\n\nconst ForUsers = () => {\n  const classes = useStyles();\n\n  return (\n    <>\n      <Paper className={classes.container}>\n        <Box className={classes.sectionWrapper}>\n          <Typography variant=\"h4\" component=\"h3\" className={classes.title}>\n            For Renters\n          </Typography>\n          <Box className={classes.cardWrapper}>\n            <Card\n              img={remoteWork}\n              imgAlt=\"woman working remotely vector art\"\n              imgTitle=\"Remote worker\"\n              cardTitle=\"Digital Nomad Friendly\"\n              cardContent=\"Flexible options and relevant info perfect for digital nomads.\"\n            />\n            <Card\n              img={selectingHome}\n              imgAlt=\"many types of homes vector art\"\n              imgTitle=\"Selecting a home\"\n              imgStyling={{\n                backgroundPosition: \"bottom center\",\n              }}\n              cardTitle=\"Diverse Selection\"\n              cardContent=\"A broad selection of housing options all around the world.\"\n            />\n            <Card\n              img={directCommunication}\n              imgAlt=\"two people talking vector art\"\n              imgTitle=\"Direct communication with owner\"\n              cardTitle=\"Direct Communication\"\n              cardContent=\"Coordinate directly with property owner to accommodate your unique situation.\"\n            />\n          </Box>\n        </Box>\n        <Divider className={classes.divider} />\n        <Box className={classes.sectionWrapper}>\n          <Typography variant=\"h4\" component=\"h3\" className={classes.title}>\n            For Owners\n          </Typography>\n          <Box className={classes.cardWrapper}>\n            <Card\n              img={shareNews}\n              imgAlt=\"man standing out from crowd vector art\"\n              imgTitle=\"Make your listings stand out\"\n              cardTitle=\"Exposure\"\n              cardContent=\"Get views on aCasa and your listings everywhere for maximum exposure.\"\n              imgStyling={{\n                backgroundPosition: \"0 15px \",\n                backgroundRepeat: \"no-repeat\",\n              }}\n            />\n            <Card\n              img={controlSettings}\n              imgAlt=\"woman controlling settings vector art\"\n              imgTitle=\"Control the experience\"\n              cardTitle=\"Full Control\"\n              cardContent=\"Once we connect you with the prospect, you control the whole process.\"\n              imgStyling={{ backgroundPosition: \"0 -25px \" }}\n            />\n            <Card\n              img={payment}\n              imgAlt=\"two people exchanging money vector are\"\n              imgTitle=\"Exchanging payment\"\n              cardTitle=\"Your Payment Process\"\n              cardContent=\"You decide the payment process and we take NO FEES.\"\n              imgStyling={{ backgroundPosition: \"0 -35px \" }}\n            />\n          </Box>\n          {/* <Box className={classes.ownerLearnMoreWrapper}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              href=\"#\"\n            >\n              Learn More\n            </Button>\n          </Box> */}\n        </Box>\n      </Paper>\n    </>\n  );\n};\n\nexport default ForUsers;\n","import Geocode from \"react-geocode\";\n \n// set Google Maps Geocoding API for purposes of quota management. Its optional but recommended.\nGeocode.setApiKey(\"AIzaSyBSHvxwJqoYbeiJTby6ijIkR74Bia1bJ0s\");\n\n// set response language. Defaults to english.\nGeocode.setLanguage(\"en\");\n\nconst geocodeFromLatLng = async (lat, lng) => { \n    \n    try{ \n        const res = await Geocode.fromLatLng(lat, lng);\n        const addressInfo = res.results[0];\n        return addressInfo;\n    } catch(err){\n        console.error(err);\n        return {error: err}\n    } \n}\n\nconst geocodeFromAddress = async (addressStr) => {\n\n    try{\n        const res = await Geocode.fromAddress(addressStr);\n        const geo = res.results[0].geometry;\n        return geo;\n    }catch(err){\n        console.error(err);\n        return {'error': err};\n    }\n}\n\n\nexport default {\n  geocodeFromLatLng,\n  geocodeFromAddress,\n};","import React from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport parse from \"autosuggest-highlight/parse\";\nimport throttle from \"lodash/throttle\";\nimport geocoder from '../google-maps/geocoder';\n\nfunction loadScript(src, position, id) {\n  if (!position) {\n    return;\n  }\n\n  const script = document.createElement(\"script\");\n  script.setAttribute(\"async\", \"\");\n  script.setAttribute(\"id\", id);\n  script.src = src;\n  position.appendChild(script);\n}\n\nconst autocompleteService = { current: null };\n\nconst useStyles = makeStyles((theme) => ({\n  icon: {\n    color: theme.palette.text.secondary,\n    marginRight: theme.spacing(2),\n  },\n}));\n\nexport default function GoogleMapsAutoComplete({formSetter, variant, label,\n                  inputVal, defaultValue, helperText, required}) {\n  const classes = useStyles();\n  const [value, setValue] = React.useState(null);\n  const [inputValue, setInputValue] = React.useState(\n    defaultValue\n  );\n  const [options, setOptions] = React.useState([]);\n  const loaded = React.useRef(false);\n\n  if (typeof window !== \"undefined\" && !loaded.current) {\n    if (!document.querySelector(\"#google-maps\")) {\n      loadScript(\n        \"https://maps.googleapis.com/maps/api/js?key=AIzaSyBSHvxwJqoYbeiJTby6ijIkR74Bia1bJ0s&libraries=places\",\n        document.querySelector(\"head\"),\n        \"google-maps\"\n      );\n    }\n\n    loaded.current = true;\n  }\n\n  const fetch = React.useMemo(\n    () =>\n      throttle((request, callback) => {\n        autocompleteService.current.getPlacePredictions(\n          request,\n          callback\n        );\n      }, 200),\n    []\n  );\n\n  React.useEffect(() => {\n    let active = true;\n\n    if (!autocompleteService.current && window.google) {\n      var autocompleteOptions = {\n        types: [\"establishment\", \"\"],\n      };\n      autocompleteService.current = new window.google.maps.places.AutocompleteService( autocompleteOptions);\n      \n    }\n    if (!autocompleteService.current) {\n      return undefined;\n    }\n\n    if (inputValue === \"\") {\n      setOptions(value ? [value] : []);\n      return undefined;\n    }\n\n    fetch({ input: inputValue }, (results) => {\n      if (active) {\n        let newOptions = [];\n\n        if (value) {\n          newOptions = [value];\n        }\n\n        if (results) {\n          newOptions = [...newOptions, ...results];\n        }\n\n        setOptions(newOptions);\n      }\n    });\n\n    return () => {\n      active = false;\n    };\n  }, [value, inputValue, fetch]);\n\n  return (\n    <Autocomplete\n      id=\"google-map-autocomplete-search\"\n      style={{ width: 300 }}\n      getOptionLabel={(option) =>\n        typeof option === \"string\" ? option : option.description\n      }\n      filterOptions={(x) => x}\n      options={options}\n      autoComplete\n      includeInputInList\n      filterSelectedOptions\n      value={value}\n      onChange={async (event, newValue) => {\n        //NOTE: this 'value' is what we want to track and send to parent\n        setOptions(newValue ? [newValue, ...options] : options);\n        const geo = await geocoder.geocodeFromAddress(newValue.description);\n        newValue.geometry = geo;\n        setValue(newValue);\n        formSetter(newValue);\n        \n      }}\n      onInputChange={(event, newInputValue) => {\n        setInputValue(newInputValue);\n      }}\n      renderInput={(params) => (\n        <TextField\n          {...params}\n          label={label || \"Search locations\"}\n          variant={variant || \"outlined\"}\n          color=\"secondary\"\n          fullWidth\n          defaultValue={inputValue}\n          helperText={helperText}\n          required={required}\n        />\n      )}\n      renderOption={(option) => {\n        const matches =\n          option.structured_formatting\n            .main_text_matched_substrings;\n        const parts = parse(\n          option.structured_formatting.main_text,\n          matches.map((match) => [\n            match.offset,\n            match.offset + match.length,\n          ])\n        );\n\n        return (\n          <Grid container alignItems=\"center\">\n            <Grid item>\n              <LocationOnIcon className={classes.icon} />\n            </Grid>\n            <Grid item xs>\n              {parts.map((part, index) => (\n                <span\n                  key={index}\n                  style={{\n                    fontWeight: part.highlight ? 700 : 400,\n                  }}\n                >\n                  {part.text}\n                </span>\n              ))}\n\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                {option.structured_formatting.secondary_text}\n              </Typography>\n            </Grid>\n          </Grid>\n        );\n      }}\n    />\n  );\n}\n","import React, {useState} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'inline-block'\n  },\n  formControl: {\n    // marginLeft: theme.spacing(1.5),\n    marginRight: theme.spacing(1.5),\n    minWidth: 140,\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\nexport default function SelectOption({labelText, name, options, required, formSetter, defaultValue}) {\n\n  const classes = useStyles();\n\n  const [value, setValue ] = useState();\n  const handleChange = e => {\n    e.preventDefault();\n    setValue(e.target.value);\n    if(formSetter){\n      formSetter(e.target.value)\n    }\n  };\n  return (\n    <div className={classes.root}>\n      <FormControl className={classes.formControl} required={required}>\n        <InputLabel htmlFor={name} color=\"secondary\">\n          {labelText}\n        </InputLabel>\n        <Select\n          native\n          value={value || defaultValue}\n          onChange={handleChange}\n          label={labelText}\n          name={name}\n          color=\"secondary\"\n        >\n          <option aria-label=\"None\" value=\"\" />\n          {options &&\n            options.map((option) => (\n              <option value={option.value}>{option.label}</option>\n            ))}\n        </Select>\n      </FormControl>\n    </div>\n  );\n}\n","import React, {useState} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport dateJStoHTML from '../utils/dateJStoHTML';\nimport {\n  KeyboardDatePicker,\n  MuiPickersUtilsProvider,\n} from \"@material-ui/pickers\";\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    display: \"inline-block\",\n  },\n  textField: {\n    marginLeft: theme.spacing(1.5),\n    marginRight: theme.spacing(1.5),\n    width: 200,\n  },\n}));\nexport default function DatePickers({labelText, formSetter, required, defaultValue, helperText, disablePast}) {\n  const classes = useStyles();\n  const [date, setDate] = useState(defaultValue || null)\n  const changeHandler = (date, value) => {\n    // e.preventDefault();\n    setDate(date);\n    const dateStr = dateJStoHTML(date);\n    formSetter(dateStr);\n  }\n  return (\n    <div className={classes.container}>\n      <KeyboardDatePicker\n        label={labelText}\n        color=\"secondary\"\n        disablePast={disablePast}\n        required={required}\n        value={date}\n        helperText={helperText}\n        onChange={changeHandler}\n        className={classes.textField}\n        InputLabelProps={{\n          shrink: true,\n        }}\n      />\n    </div>\n  );\n}\n","import format from \"date-fns/format\";\n\nexport default function fbDateToHtmlStr(dateObj) {\n  if (dateObj) {\n    \n    const dateStr = format(dateObj, \"yyyy-MM-dd\");\n    return dateStr;\n  }\n  return \"\";\n}\n","\nexport default async function getGeographicPosition(setter){\n\n    try {\n        const { coords } = await getCurrentPosition();\n        return coords;\n\n        // Handle coordinates\n    } catch (error) {\n        // Handle error\n        console.error(error);\n        alert(\"You need to give aCasa access to your location to use this feature. If you'd prefer, you can also just search for your location in the search bar.\")\n    }  \n    \n}\n\nfunction getCurrentPosition(options = {}) {\n  return new Promise((resolve, reject) => {\n    navigator.geolocation.getCurrentPosition(resolve, reject, options);\n  });\n}\n\n","import React, { useState, useEffect } from \"react\";\nimport {Paper, makeStyles, Typography, IconButton, CircularProgress} from '@material-ui/core';\nimport GoogleMapsSearchBox from './GoogleMapsSearchBox';\nimport SelectOption from './SelectOption';\nimport DateSelector from './DateSelector';\nimport { Button, Link } from \"@material-ui/core\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport MyLocationIcon from \"@material-ui/icons/MyLocation\";\nimport hometypes from \"../searchtypes.json\";\nimport format from \"date-fns/format\";\nimport { Redirect, useLocation, useHistory } from 'react-router-dom';\nimport getLocation from '../utils/getGeographicLocation';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginBottom: theme.spacing(1),\n    padding: theme.spacing(2),\n    width: 550,\n    // maxWidth: 450,\n    backgroundColor: theme.palette.background.white,\n    [theme.breakpoints.down(\"sm\")]: {\n      backgroundColor: \"rgba(255,255,255,.7)\",\n      width: \"90%\",\n      paddingBottom: theme.spacing(5),\n    },\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n    paddingBottom: theme.spacing(1.5),\n  },\n  form: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexWrap: \"wrap\",\n    width: \"100%\",\n  },\n  formElementWrapper: {\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n  },\n  dateSelect: {\n    [theme.breakpoints.down(\"xs\")]: {\n      paddingTop: theme.spacing(1.5),\n    },\n  },\n  hometype: {\n    marginLeft: \"1em\",\n  },\n  searchButton: {\n    display: \"inline-flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    [theme.breakpoints.down(\"md\")]: {\n      width: 150,\n    },\n    [theme.breakpoints.down(\"xs\")]: {\n      marginTop: theme.spacing(3),\n      // width: 150,\n    },\n  },\n  demoSearch: {\n    marginTop: theme.spacing(2)\n  }\n}));\n\nconst demoSearch =\n  \"/search?lat=40.7127753&lng=-74.0059728&query=New%20York,%20NY,%20USA&startDate=&homeType=\";\n\nconst SearchBar = ({setSearchResults}) => {\n    const classes = useStyles();\n    const browserLocation = useLocation();\n    const history = useHistory();\n    const [location, setLocation] = useState(\"\");\n    const [homeType, setHomeType] = useState(\"\");\n    const [startDate, setStartDate] = useState(\"\");\n    const [processingLocation, setProcessingLocation] = useState(false);\n\n    const queryLocation = (lat, lng, description, startDate, homeType) => {\n      history.push(\n        `/search?lat=${lat}&lng=${lng}&query=${description}&startDate=${\n          startDate || \"\"\n        }&homeType=${homeType || \"\"}`\n      );\n      if(setSearchResults) setSearchResults({lat, lng, description, startDate, hometype: homeType});\n    }; \n\n    const search = async (e) => {\n      e.preventDefault();\n      \n      if (!location) {\n      setTimeout(()=>{\n          if(!location) return alert(\"Please select a location to search.\");\n          else{ \n            queryLocation(\n              location.geometry.location.lat,\n              location.geometry.location.lng,\n              location.description,\n              startDate,\n              homeType\n            );\n          }\n        }, 500)\n      } else {\n        queryLocation(\n          location.geometry.location.lat,\n          location.geometry.location.lng,\n          location.description,\n          startDate,\n          homeType\n        );\n      }\n      \n    }\n\n    const searchCurrentLocation = async (e) => {\n      e.preventDefault();\n      setProcessingLocation(true);\n      try{\n        const res = await getLocation();\n        queryLocation(res.latitude, res.longitude, \"My current location\", startDate, homeType)\n      }catch(err){}\n      \n      setProcessingLocation(false);\n    }\n    // const todayStr = format(Date.now(), \"y-MM-d\");\n    return (\n      <>\n        <Paper className={classes.root}>\n          <Typography variant=\"h5\" component=\"h3\" className={classes.title}>\n            Find Your Next Home\n          </Typography>\n          <form className={classes.form} onSubmit={search}>\n            <div className={classes.formElementWrapper}>\n              {processingLocation ? (\n                <CircularProgress size={20} />\n              ) : (\n                <IconButton onClick={searchCurrentLocation}>\n                  <MyLocationIcon />\n                </IconButton>\n              )}\n            </div>\n            <div className={classes.formElementWrapper}>\n              <GoogleMapsSearchBox formSetter={setLocation} required />\n            </div>\n            {/* <span className={classes.dateSelect}>\n            <DateSelector\n              labelText=\"Start Date\"\n              formSetter={setStartDate}\n              defaultValue={todayStr}\n              required\n            />\n          </span>\n          <SelectOption\n            labelText=\"Home Type\"\n            formSetter={setHomeType}\n            className={classes.hometype}\n            options={hometypes}\n          /> */}\n          <div className={classes.formElementWrapper}>\n            <Button\n              className={classes.searchButton}\n              variant=\"contained\"\n              color=\"primary\"\n              href=\"#\"\n              onClick={search}\n            >\n              <SearchIcon />\n            </Button>\n          </div>\n          </form>\n          {browserLocation.pathname === \"/\" && \n          <Typography align=\"center\" className={classes.demoSearch}>\n            Don't know where to start? Try <Link href={demoSearch}>New York, NY</Link>\n          </Typography>}\n        </Paper>\n      </>\n    );\n}\n\nexport default SearchBar;","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: 'center',\n    width: \"100%\",\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(3),\n  },\n}));\nconst MainContentWrapper = ({children})=>{\n    const classes = useStyles();\n    return (\n        <main className={classes.main}>\n            {children}\n        </main>\n    )\n\n}\n\nexport default MainContentWrapper;","import React from 'react';\n// import { } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Hero from './Hero';\nimport ForUsers from './ForUsers';\nimport SearchBar from './SearchBar';\nimport MainContentWrapper from './MainContentWrapper';\n\nconst useStyles = makeStyles((theme) => ({\n  searchWrapper: { \n    position: 'absolute',\n    zIndex: 1,\n    width: '100%',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    left: '50%',\n    transform: 'translate(-50%, 0)'\n  }\n}));\n\nconst Homepage = () => {\n    const classes = useStyles();\n\n    return (\n      <>\n        <div className={classes.searchWrapper}>\n          <SearchBar />\n        </div>\n        <Hero />\n        <MainContentWrapper>\n          <ForUsers />\n        </MainContentWrapper>\n      </>\n    );\n}\n\nexport default Homepage;\n","import React from 'react';\nimport {Paper, makeStyles} from '@material-ui/core' ;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(1),\n    maxWidth: \"90vw\",\n    backgroundColor: theme.palette.background.default,\n  },\n}));\n\nexport default function ContentPaper({children, style}){\n\n    const classes = useStyles()\n    return(\n        <Paper className={classes.root} style={style}>\n            {children}\n        </Paper>\n    )\n}","\nexport default function dateFormatter(fbDateObj){\n    const dateObj = fbDateObj.toDate();\n    const months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n    const month = months[dateObj.getMonth()];\n    const dateStr = `${month} ${dateObj.getDate()}, ${dateObj.getFullYear()}`;\n    return dateStr;\n}","import React from 'react';\nimport {Button, makeStyles} from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n    button: { \n        fontFamily: theme.typography.special,\n        padding: theme.spacing(2),\n        maxHeight: 50,\n        textAlign: 'center'\n    }\n}))\n\nexport default function ThemeButton({children, color, ...props}){\n    const classes = useStyles();\n    return (\n      <Button\n        {...props}\n        className={classes.button}\n        variant=\"contained\"\n        color={color || \"primary\"}\n        component=\"div\"\n      >\n        {children}\n      </Button>\n    );\n}","const firebaseConfig = {\n  apiKey: \"AIzaSyAF9WtnzV6ZcalwDz_tXxbS2PNDLUkET-8\",\n  authDomain: \"acasa-bd3af.firebaseapp.com\",\n  databaseURL: \"https://acasa-bd3af.firebaseio.com\",\n  projectId: \"acasa-bd3af\",\n  storageBucket: \"acasa-bd3af.appspot.com\",\n  messagingSenderId: \"425327876901\",\n  appId: \"1:425327876901:web:fef97f39172473c6da18cc\",\n  measurementId: \"G-T7F7CH36QN\",\n};\n\n\n\nexport default firebaseConfig;","import config from './firebaseConfig'\nimport firebase from 'firebase';\n\nconst app = firebase.initializeApp(config);\nfirebase.analytics();\n\nexport default app\n","import app from './firebaseApp';\nimport firebase from 'firebase';\n\nconst db = firebase.firestore(app);\n\nexport default db;\n","import db from \"../../config/firestoreDb\";\n\nexport default async function getUserByUserName(username){ \n    const res = await db.collection('users').where('username', '==', username).get();\n    if (res.empty) return null;\n\n    const users = []\n    res.forEach((doc) => {\n      users.push(doc.data());\n    });\n    return users[0];\n\n}","import React, {useState, useEffect} from 'react';\nimport { makeStyles, Link, Typography, Avatar, List, \n  ListItem, ListItemIcon, ListItemText } from \"@material-ui/core\";\nimport Modal from \"@material-ui/core/Modal\";\nimport ThemeButton from './Button'\nimport getUserByUid from '../queries/users/getUserByUid';\nimport MailIcon from \"@material-ui/icons/Mail\";\nimport PhoneAndroidIcon from \"@material-ui/icons/PhoneAndroid\";\nimport LanguageIcon from \"@material-ui/icons/Language\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport getUserByUserName from '../queries/users/getUserByUserName';\n\nconst useStyles = makeStyles( theme => ({\n    modalContent: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    top: `50%`,\n    left: `50%`,\n    transform: `translate(-50%, -50%)`,\n    outlineColor: theme.palette.secondary.light,\n  },\n  header: {\n    display: 'flex',\n    flexDirection: \"column\",\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  avatar: {\n    height: theme.spacing(12),\n    width: theme.spacing(12),\n    margin: theme.spacing(3)\n    \n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark\n  },\n  listWrapper: {\n    display: 'flex', \n    alignItems: 'center', \n    flexDirection: 'column', \n    justifyContent: 'center'\n  }\n}));\n\nexport default function ContactModal({userToContact, username, noName}){\n\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [user, setUser] = useState(userToContact || { contact: { email: null}})\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  useEffect(()=>{\n    if(username && !user.contact.email){\n        (async ()=>{\n            const userInfo = await getUserByUserName(username);\n            setUser(userInfo);\n        })()\n    }\n  },[user.contact, username])\n\n  return (\n    <>\n      <ThemeButton onClick={handleOpen} style={{padding: '.5em'}}>\n        <>Contact {noName ? \"Owner\" : user.first_name}</>\n      </ThemeButton>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"aCasa log in\"\n        aria-describedby=\"log into your aCasa account here\"\n        disableAutoFocus={true}\n      >\n        <div className={classes.modalContent}>\n          <div className={classes.header}>\n            <Avatar\n              src={user.profile_picture}\n              alt={`${user.first_name} ${user.last_name}`}\n              style={{ marginRight: 10 }}\n              className={classes.avatar}\n            />\n            <Typography className={classes.title} component=\"h3\" variant=\"h5\">\n              Contact {user.first_name} {user.last_name}\n            </Typography>\n          </div>\n          {!user.contact.email && (\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"center\",\n                margin: \"2em\",\n              }}\n            >\n              <CircularProgress color=\"secondary\" />\n            </div>\n          )}\n          { user && user.contact.email && user.uid && (\n            <div className={classes.listWrapper}>\n              <List>\n                {user.contact.email && (\n                  <ListItem>\n                    <ListItemIcon>\n                      <MailIcon />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={\n                        <Link\n                          href={`mailto:${user.contact.email}`}\n                          target=\"_blank\"\n                        >\n                          {user.contact.email}\n                        </Link>\n                      }\n                    />\n                  </ListItem>\n                )}\n                {user.contact.phone && (\n                  <ListItem>\n                    <ListItemIcon>\n                      <PhoneAndroidIcon />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={\n                        <Link href={`tel:${user.contact.phone}`}>\n                          {user.contact.phone}\n                        </Link>\n                      }\n                    />\n                  </ListItem>\n                )}\n                {user.contact.whatsapp && (\n                  <ListItem>\n                    <ListItemIcon>\n                      <WhatsAppIcon />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={\n                        <Link href={`tel:${user.contact.whatsapp}`}>\n                          {user.contact.whatsapp}\n                        </Link>\n                      }\n                    />\n                  </ListItem>\n                )}\n                {user.contact.website && (\n                  <ListItem>\n                    <ListItemIcon>\n                      <LanguageIcon />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={\n                        <Link\n                          href={\n                            user.contact.website.startsWith(\"https://\") ||\n                            user.contact.website.startsWith(\"http://\")\n                              ? user.contact.website\n                              : `http://${user.contact.website}`\n                          }\n                          target=\"_blank\"\n                        >\n                          {\" \"}\n                          {user.contact.website}{\" \"}\n                        </Link>\n                      }\n                    />\n                  </ListItem>\n                )}\n              </List>\n            </div>\n          )}\n        </div>\n      </Modal>\n    </>\n  );\n\n}","import React from 'react';\nimport ContentPaper from './ContentPaper';\nimport {makeStyles, Box, Avatar, Typography, Button, CircularProgress} from '@material-ui/core';\nimport {format} from 'date-fns'\nimport dateFormatter from '../utils/dateFormatter';\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport ContactModal from './ContactModal';\nconst useStyles = makeStyles((theme) => ({\n  wrapper: {\n    display: \"flex\",\n    padding: theme.spacing(2),\n    [theme.breakpoints.down(\"sm\")]: {\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n    },\n  },\n  settingsButton: {\n    position: \"absolute\",\n  },\n  profilePicture: {\n    width: 325,\n    height: 325,\n    [theme.breakpoints.down(\"sm\")]: {\n      width: 300,\n      height: 300,\n    },\n  },\n  mainProfileContent: {\n    padding: theme.spacing(2),\n    paddingLeft: theme.spacing(4),\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: \"100%\",\n    minHeight: 250,\n  },\n  progress: {\n    alignSelf: \"center\",\n    justifySelf: \"center\",\n    margin: theme.spacing(10),\n  },\n  primaryInfoWrapper: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    width: \"100%\",\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n    paddingBottom: theme.spacing(1.5),\n  },\n  joinDate: {\n    fontSize: \"1.25rem\",\n    [theme.breakpoints.down(\"sm\")]: {\n      paddingBottom: theme.spacing(1.5),\n    },\n  },\n  bold: {\n    fontWeight: \"bold\",\n  },\n  secondaryInfo: {\n    paddingBottom: theme.spacing(2),\n    fontSize: \"1.25rem\",\n  },\n  button: {\n    fontFamily: theme.typography.special,\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    position: \"static\",\n    height: 40,\n    minWidth: 80,\n    padding: theme.spacing(2)\n  },\n}));\n\nexport default function UserProfileInfo({user, profile, username}){\n    const classes = useStyles();\n\n    return (\n      <ContentPaper style={{ width: \"100%\" }}>\n        <Box className={classes.wrapper}>\n          <Avatar\n            src={user.profile_picture}\n            alt={`${user.first_name}\n                ${user.last_name}`}\n            className={classes.profilePicture}\n          />\n          <Box className={classes.mainProfileContent}>\n            {!user.username ? ( \n              <CircularProgress className={classes.progress} size={100}/>\n            ):(  \n              <>\n              <Box className={classes.primaryInfoWrapper}>\n                <Box>\n                  <Typography\n                    variant=\"p\"\n                    component=\"p\"\n                    color=\"textSecondary\"\n                    className={classes.joinDate}\n                  >\n                    Joined {user.joined}\n                  </Typography>\n                  <Typography\n                    variant=\"h3\"\n                    component=\"h1\"\n                    className={classes.title}\n                  >\n                    {user.first_name} {user.last_name}\n                  </Typography>\n                </Box>\n                { profile ? (\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.button}\n                    href={\"/profile/settings\"}\n                  >\n                    <SettingsIcon style={{paddingRight: '.25em'}}/> Settings \n                  </Button>\n                ) : (\n                  <ContactModal userToContact={user} username={username}/> \n                )}\n              </Box>\n\n              <Box className={classes.secondaryInfoWrapper}>\n                {user.location && user.location.description && (\n                  <Typography\n                    variant=\"p\"\n                    component=\"p\"\n                    color=\"textPrimary\"\n                    className={classes.secondaryInfo}\n                  >\n                    <span className={classes.bold}>Location:</span>{\" \"}\n                    {user.location.description}\n                  </Typography>\n                )}\n                {!!user.languages && !!user.languages.length && (\n                  <Typography\n                    variant=\"p\"\n                    component=\"p\"\n                    color=\"textPrimary\"\n                    className={classes.secondaryInfo}\n                  >\n                    <span className={classes.bold}>Languages:</span>{\" \"}\n                    {user.languages.join(\", \")}\n                  </Typography>\n                )}\n                {user.bio && (\n                  <Typography\n                    variant=\"p\"\n                    component=\"p\"\n                    color=\"textPrimary\"\n                    className={classes.secondaryInfo}\n                  >\n                    <span\n                      className={classes.bold}\n                      style={{ display: \"block\", marginBottom: \".25em\" }}\n                    >\n                      About {user.first_name}:\n                    </span>\n                    {user.bio}\n                  </Typography>\n                )}\n              </Box>\n              </>\n            )}\n          </Box> \n        </Box>\n      </ContentPaper>\n    );\n}","import React, {useState, useContext} from 'react';\nimport {Paper, Box, makeStyles, Typography, IconButton, Link, Chip, Avatar} from '@material-ui/core';\nimport pink from '@material-ui/core/colors/pink';\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport HotelIcon from \"@material-ui/icons/Hotel\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport BathtubIcon from \"@material-ui/icons/Bathtub\";\nimport WifiIcon from \"@material-ui/icons/Wifi\";\nimport ContactModal from './ContactModal';\nimport context from './Context';\nimport Button from './Button'\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    minHeight: 250,\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    [theme.breakpoints.down(\"sm\")]: {\n      flexDirection: \"column\",\n    },\n  },\n  img: {\n    backgroundPosition: \"center\",\n    //TODO: add a better default img\n    // backgroundImage: `url(https://r-cf.bstatic.com/images/hotel/max1024x768/365/36548015.jpg)`,\n    backgroundRepeat: \"no-repeat\",\n    backgroundSize: \"cover\",\n    minHeight: 225,\n    minWidth: 350,\n    maxWidth: 400,\n    display: \"inline-block\",\n    borderRight: `1px solid #fafafa`,\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100%\",\n      minWidth: \"100%\",\n    },\n  },\n  mainContent: {\n    padding: theme.spacing(2),\n    paddingTop: theme.spacing(4),\n    width: \"95%\",\n    minHeight: 225,\n    [theme.breakpoints.down(\"sm\")]: { \n      paddingTop: theme.spacing(2),\n    },\n  },\n  topContent: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    [theme.breakpoints.down(\"sm\")]: {\n      flexDirection: 'column-reverse',\n      alignItems: 'flex-start'\n    },\n  },\n  heartButton: {\n    color: pink[500],\n    [theme.breakpoints.down(\"sm\")]: {\n      margin: 0,\n      marginRight: theme.spacing(1),\n\n      alignSelf: 'flex-start'\n    },\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    paddingRight: theme.spacing(1.5),\n    [theme.breakpoints.down(\"sm\")]: {\n      flexDirection: \"column-reverse\",\n      // alignItems: 'flex-start',\n    },\n  },\n  price: {\n    minWidth: 150,\n    textAlign: \"center\",\n    marginLeft: theme.spacing(2),\n    [theme.breakpoints.down(\"sm\")]: {\n      alignSelf: \"flex-end\",\n      textAlign: 'right',\n      marginRight: theme.spacing(.5),\n      paddingTop: theme.spacing(1),\n      paddingBottom: theme.spacing(1),\n    },\n  },\n  chips: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n  chip: {\n    backgroundColor: theme.palette.secondary.light,\n    margin: theme.spacing(1),\n    padding: theme.spacing(0.5),\n    [theme.breakpoints.down(\"xs\")]: {\n      margin: theme.spacing(0.25),\n    },\n  },\n  owner: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: 'center',\n    width: \"100%\",\n    marginTop: theme.spacing(4),\n    [theme.breakpoints.down(\"sm\")]: {\n      flexWrap: \"wrap\",\n    },\n  },\n  ownerInfo: {\n    display: \"inline-flex\",\n    justifyContent: \"left\",\n    alignItems: \"center\",\n    [theme.breakpoints.down(\"sm\")]: {\n      flexGrow: 1,\n      paddingRight: theme.spacing(2.5),\n      paddingBottom: theme.spacing(1.5)\n    },\n  },\n  contactButton: {\n    marginTop: theme.spacing(2),\n    alignSelf: \"center\",\n    justifySelf: 'center',\n    // paddingRight: theme.spacing(3),\n  },\n}));\n\nexport default function ListingCard({listing}){\n    const classes = useStyles();\n    const {user: {uid}} = useContext(context);\n    \n    const [hearted, setHearted] = useState(false);\n    const overview = listing.roommates ? `Room in shared ${listing.type}` : `Whole ${listing.type}`\n\n    const toggleFavorite = () => {\n        setHearted(!hearted);\n    }\n    const triggerModal = () => {\n        //TODO add modal for contacting host \n    }\n    return (\n      <Paper className={classes.root} elevation={2}>\n        {listing.primary_img && <div\n          className={classes.img}\n          style={{ backgroundImage: `url(${listing.primary_img})` }}\n        ></div>}\n        <Box className={classes.mainContent}>\n          <Box className={classes.topContent}>\n            <Typography variant=\"p\" component=\"p\" color=\"textSecondary\">\n              {overview}\n              {\"  \"}\n              {listing.location.description}\n            </Typography>\n            <IconButton\n              className={classes.heartButton}\n              onClick={toggleFavorite}\n            >\n              {/* {hearted ? <FavoriteIcon /> : <FavoriteBorderIcon />} */}\n            </IconButton>\n          </Box>\n          <Typography variant=\"h4\" component=\"h3\" className={classes.title}>\n            <Link href={`/listings/${listing.id}`}>{listing.title}</Link>\n            <Typography variant=\"h4\" component=\"p\" className={classes.price}>\n              {`$${listing.price}/mo`}\n            </Typography>\n          </Typography>\n          <Box className={classes.chips}>\n            <Chip\n              icon={<HotelIcon />}\n              label={`${listing.bedrooms} bedroom`}\n              className={classes.chip}\n            />\n            <Chip\n              icon={<GroupIcon />}\n              label={\n                listing.max_guests > 1\n                  ? `${listing.max_guests} guests`\n                  : `${listing.max_guests} guest`\n              }\n              className={classes.chip}\n            />\n            <Chip\n              icon={<BathtubIcon />}\n              label={`${listing.bathrooms} bath`}\n              className={classes.chip}\n            />\n            {listing.wifi_speed && (\n              <Chip\n                icon={<WifiIcon />}\n                label={`${listing.wifi_speed} mb/s`}\n                className={classes.chip}\n              />\n            )}\n            {listing.lgbtq && (\n              <Chip label=\" LGBTQ+ friendly\" className={classes.chip} />\n            )}\n          </Box>\n          <div className={classes.owner}>\n            <div className={classes.ownerInfo}>\n              <Avatar\n                src={listing.owner.profile_picture}\n                alt={`${listing.owner.first_name} ${listing.owner.last_name}`}\n                style={{ marginRight: 5, display: \"inline-block\" }}\n              />\n              Listing by{\" \"}\n              <Link\n                href={`/users/${listing.owner.username}`}\n                style={{ marginLeft: 5 }}\n              >\n                {`${listing.owner.first_name} ${listing.owner.last_name}`}\n              </Link>\n            </div>\n            {listing.owner.uid !== uid ? (\n              <ContactModal\n                username={listing.owner.username}\n                className={classes.contactButton}\n              />\n            ) : (\n              <Link href={`/listings/${listing.id}/edit`}>\n                <Button href={`/listings/${listing.id}/edit`}>\n                  Edit Listing\n                </Button>\n              </Link>\n            )}\n            {/* {<ContactModal username={listing.owner.username} />} */}\n          </div>\n        </Box>\n      </Paper>\n    );\n}","import React from 'react';\nimport { Box, makeStyles } from '@material-ui/core';\nimport ListingCard from './ListingCard';\nimport { v4 as uuid } from \"uuid\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    minHeight: \"10vh\",\n    marginLeft: theme.spacing(10),\n    marginRight: theme.spacing(10),\n    [theme.breakpoints.down(\"sm\")]: {\n      marginLeft: theme.spacing(0),\n      marginRight: theme.spacing(0),\n    },\n  },\n}));\nexport default function Listings({listings}){\n    const classes = useStyles();\n    return(\n        <Box className={classes.root}>\n            {listings && listings.length ?(\n                <>\n                    {listings.map(listing => <ListingCard key={uuid()} listing={listing}/>)}\n                </>\n            ):(\n                <p>No listings yet!</p>\n            ) }\n        </Box>\n        \n    )\n}","import db from \"../../config/firestoreDb\";\n\nexport default async function getUserByUserName(username){ \n    const res = await db.collection('listings').where('owner.username', '==', username).get();\n    \n    if (res.empty) return null;\n    \n    const listings = []\n    res.forEach((doc) => {\n      listings.push(doc.data());\n    });\n    return listings;\n\n}","import React, {useEffect, useState, useCallback} from 'react';\nimport ContentPaper from './ContentPaper';\nimport { Typography, makeStyles, Box, CircularProgress } from '@material-ui/core';\nimport Listings from './Listings';\nimport getUserListings from '../queries/listings/getListingsByHostUsername';\n\nconst useStyles = makeStyles((theme) => ({\n  progressWrapper: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: 300,\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n  },\n  wrapper: {\n    padding: theme.spacing(2)\n  },\n}));\nexport default function UserListings({user}){\n    const classes = useStyles();\n    const [listings, setListings] = useState([]);\n\n    const getListings = useCallback(async ()=>{\n      if(user.username){\n        const userListings = await getUserListings(user.username);\n        setListings(userListings);\n      }\n    }, [user.username])\n\n    useEffect(()=>{\n      getListings();\n    },[getListings])\n\n    return (\n      <ContentPaper style={{ marginTop: \"2rem\", width: \"100%\" }}>\n        {(!listings || !listings.length) ? ( <>\n          { !listings ? <p style={{textAlign:'center'}}>{user.first_name} does not have any listings right now.</p> : (\n            <div className={classes.progressWrapper}>\n            <CircularProgress size={100}/>\n          </div>\n          ) }</>\n          \n        ):(\n          <Box className={classes.wrapper}>\n            <Typography variant=\"h4\" component=\"h2\" className={classes.title}>\n              {user.first_name.endsWith(\"s\")\n                ? `${user.first_name}' `\n                : `${user.first_name}'s `}\n              Listings\n            </Typography>\n            <Box>\n                <Listings listings={listings}/>\n            </Box>\n          </Box>\n        )}\n      </ContentPaper>\n    );\n}","\nconst ben = {\n  first_name: \"Homer\",\n  last_name: \"Simpson\",\n  date_added: new Date(),\n  profile_picture:\n    \"https://okdiario.com/img/2019/09/05/mejores-frases-de-homer-simpson-655x368.jpg\",\n  location: {\n    city: \"Medellin\",\n    country: \"Colombia\",\n  },\n  contact: {\n    email: \"ben@perlmutter.io\",\n    phone: \"+1 (914) 589-5304\",\n    website: \"https://ben.perlmutter.io\",\n    whatsapp: \"+1 (914) 589-5304\",\n  },\n  bio: `Im a passionate software developer with an entrepreneurial and product-oriented mindset. I have experience building web applications with the MERN stack, Flask, Postgres and more. I love transforming an idea into a plan, and that plan into an application. Software development isn't just a job for me, but a vocationit's my creative outlet and a way to add value to the world. I like to write words in addition to code. Check out my recent writings here: https://ben.perlmutter.io/blog`,\n  languages: [\"english\", \"spanish\"],\n  listings: [],\n};\n\nconst listing1 = {\n  active: true,\n  title: \"1 bedroom 2nd floor walkup in Laureles\",\n  primary_img:\n    \"https://pix10.agoda.net/hotelImages/167/167577/167577_15020322560025067789.jpg?s=1024x768\",\n  additional_imgs: [\n    \"https://r-cf.bstatic.com/images/hotel/max1024x768/365/36548015.jpg\",\n    \"https://cdn.decoist.com/wp-content/uploads/2017/03/Modern-apartment-units-inside-heritage-building-Down-Under.jpg\",\n  ],\n  amenities: [\"hot water\"],\n  wifi_speed: 50,\n  bathrooms: 1,\n  bedrooms: 1,\n  beds: 1,\n  max_guests: 2,\n  roommates: 2,\n  price_in_dollars: 500,\n  lgbtq_friendly: true,\n  created_at: new Date(),\n  updated_at: new Date(),\n  dates_available: [\n    {\n      start: new Date(),\n      end: null,\n    },\n  ],\n  description: \"best apartment round town\",\n  living_with_host: false,\n  type: \"apartment\",\n  location: {\n    address: \"124 Jefferson Place\",\n    neighborhood: \"Laureles\",\n    city: \"Medellin\",\n    state_province: \"Antioquia\",\n    country: \"Colombia\",\n    description:\n      \"in the barrio de laureles right near some high quality tiendas and la 70\",\n    geo: [0, 0],\n  },\n  owner: {\n    username: \"ben\",\n    first_name: \"Ben\",\n    last_name: \"Perlmutter\",\n    profile_picture:\n      \"https://avatars0.githubusercontent.com/u/57849986?s=400&u=8897665d835d70b9b506b44e525eebcf0de3053e&v=4\",\n  },\n  payment_methods: [\"cash\", \"Paypal\", \"Bitcoin\"],\n  pets: [\"cat\", \"dog\"],\n  rules: [\"overnight guests allowed\", \"no parties\", \"quiet after 10\"],\n};\n\nconst listing2 = listing1;\nconst listing3 = listing1;\nconst listings = [listing1, listing2, listing3]\n\nconst exports = {\n    ben,\n    listings\n}\nexport default exports","import React from 'react';\nimport Helmet from 'react-helmet';\n\nexport default function HelmetHead({title, description, img, additionalNodes, ...props}){\n\n    return (\n      <Helmet {...props}>\n        {!!title && <title>{title} - aCasa</title>}\n        {!!description && <meta name=\"description\" content={description} />}\n\n        {/* SOCIAL STUFF */}\n        {/* NOTE: ONLY WORKS FOR SERVERSIDE RENDERING */}\n        {!!title && <meta property=\"og:title\" content={`${title} - aCasa`} />}\n        {!!title && <meta property=\"twitter:title\" content={`${title} - aCasa`} />}\n        {!!description && <meta property=\"og:description\" content={description} />}\n        {!!description && <meta property=\"twitter:description\" content={description} />}\n        {!!img && <meta property=\"og:image\" content={img} />}\n        {!!img && <meta property=\"twitter:image\" content={img} />}\n\n        {/* SUPPORTS ADDING ADDITIONAL HEAD TYPES AS WELL */}\n        {additionalNodes &&\n          !!additionalNodes.length &&\n          additionalNodes.map((node) => node)}\n      </Helmet>\n    );\n\n}","import React, {useEffect, useState, useContext} from 'react';\nimport MainContentWrapper from './MainContentWrapper';\nimport UserProfileInfo from './UserProfileInfo';\nimport UserListings from './UserListings';\nimport data from '../testData';\nimport getUser from '../queries/users/getUserByUserName';\nimport {useParams, Redirect} from 'react-router-dom';\nimport dateFormatter from '../utils/dateFormatter';\nimport context from './Context';\nimport Head from './Head';\n\nexport default function UserPage(){\n    //do stuff\n    const {user: { username: usernameContext}} = useContext(context);\n    \n    const [user, setUser] = useState({\n      first_name: \"\",\n      languages: [],\n      contact: {},\n      uid: ''\n    });\n    const { username } = useParams();\n    useEffect(() => {\n      (async () => {\n        const userFromUsername = await getUser(username);\n        if (userFromUsername) {\n          userFromUsername.joined = dateFormatter(userFromUsername.date_added);\n        }\n        setUser(userFromUsername);\n      })();\n    }, [username]);\n\n    if(username === usernameContext){\n        return(\n            <div>\n                <Redirect to=\"/profile\"/>\n            </div>\n        )\n    }\n\n    if(user === null){ \n        return(<div>\n            <Redirect to=\"/404\"/>\n        </div>)\n    }\n    \n\n    return (\n      <MainContentWrapper>\n        {!!user.firstName && <Head \n            title={`${user.first_name} ${user.last_name}`}\n            img={user.profile_picture}\n            description={user.bio || \"\"}\n        />}\n        <UserProfileInfo user={user} username={username} />\n        <UserListings user={user} />\n      </MainContentWrapper>\n    );\n}","import React from 'react';\nimport {Box, Typography, Link} from '@material-ui/core';\nimport {makeStyles} from '@material-ui/core/styles';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport { IconButton } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme=>({\n    //add styles\n    root: {\n        backgroundColor: theme.palette.secondary.light,\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center'\n        // minHeight: 60,\n    },\n    contact: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: '100%',\n        \n    },\n    ghIcon: { \n        margin: '0 .25rem',\n        position: 'relative',\n        top: -3,\n        color: theme.palette.primary.light\n    }\n}))\n\nconst Footer = () =>{\n    const classes = useStyles();\n\n    return (\n      <Box className={classes.root}>\n        <Box className={classes.contact}>\n          <IconButton\n            href=\"https://github.com/bpmutter/acasa\"\n            target=\"_blank\"\n            className={classes.ghIcon}\n          >\n            <GitHubIcon />\n          </IconButton>\n          <Typography>\n            Made by{\" \"}\n            <Link href=\"https://ben.perlmutter.io\" target=\"_blank\">\n              Ben Perlmutter\n            </Link>\n          </Typography>\n        </Box>\n      </Box>\n    );\n}\n\nexport default Footer;","import React, { useContext } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport context from './Context';\nfunction PrivateRoute({ children, ...rest }) {\n  const {loggedIn} = useContext(context);\n  return (\n    <Route\n      {...rest}\n      render={({ location }) =>\n        loggedIn ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: \"/\",\n              state: { from: location },\n            }}\n          />\n        )\n      }\n    />\n  );\n}\n\nexport default PrivateRoute;\n","import React, { useEffect, useState, useContext } from \"react\";\nimport MainContentWrapper from \"./MainContentWrapper\";\nimport UserProfileInfo from \"./UserProfileInfo\";\nimport UserListings from \"./UserListings\";\nimport data from \"../testData\";\nimport getUser from \"../queries/users/getUserProfileByAuth\";\nimport db from \"../config/firestoreDb\";\nimport firebase from 'firebase';\nimport dateFormatter from \"../utils/dateFormatter\";\nimport Head from './Head';\n\nexport default function UserPage() {\n\n  const [user, setUser] = useState({\n    first_name: '',\n    languages: [],\n    contact: {}\n  });\n\n  //make sure goes to top of window on page load\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  useEffect(() => {\n  //   TODO: refactor to put in another component...just throwing code elsewhere\n  // was causing problems...i think it might have to do w fact that this uses\n  // web sockets\n  const unsubscribe = firebase.auth().onAuthStateChanged(async function (user) {\n    if (user) {\n      const uid = firebase.auth().currentUser.uid;\n      const res = await db.collection(\"users\").doc(uid).get();\n      if (res.empty) {\n        setUser(null);\n        return unsubscribe();\n      }\n      const profileUser = res.data();\n      profileUser.joined = dateFormatter(profileUser.date_added);\n \n      setUser(profileUser);\n      return unsubscribe();\n    }\n  });\n  }, []);\n\n  const userVal = user; \n   \n  return (\n    <MainContentWrapper>\n      {!!user.firstName && (\n        <Head\n          title=\"Profile\"\n          img={user.profile_picture}\n          description={user.bio || \"\"}\n        />\n      )}\n      <UserProfileInfo user={userVal} profile />\n      <UserListings user={userVal} />\n    </MainContentWrapper>\n  );\n}\n","import React, {useState} from \"react\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    \"& > * + *\": {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function CustomizedSnackbars({ msgSeverity, msg, onClose}) {\n  const classes = useStyles();\n  const [open, setOpen] = useState(msg ? true : false); \n\n  \n\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpen(false);\n    if (onClose) {\n      onClose();\n    }\n  };\n\n  return (<>\n    {open && <div className={classes.root}>\n      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\n        <Alert onClose={handleClose} severity={msgSeverity}>\n          {msg}\n        </Alert>\n      </Snackbar>\n    </div>}\n  </>);\n}\n","import React, { useEffect } from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Select from \"@material-ui/core/Select\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Chip from \"@material-ui/core/Chip\";\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 250,\n    maxWidth: 350,\n  },\n  chips: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  chip: {\n    margin: 2,\n    backgroundColor: theme.palette.secondary\n  },\n  noLabel: {\n    marginTop: theme.spacing(3),\n  },\n}));\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      minWidth: 300,\n\n\n    },\n  },\n};\n\n\nfunction getStyles(option, optionName, theme) {\n  return {\n    fontWeight:\n      optionName.indexOf(option) === -1\n        ? theme.typography.fontWeightRegular\n        : theme.typography.fontWeightMedium,\n  };\n}\n\nexport default function MultipleSelect({label, name, options, formSetter, style, defaultValue = []}) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [optionName, setOptionName] = React.useState([]);\n\n  useEffect(()=>{\n    setOptionName(defaultValue)\n  }, [defaultValue.length])\n\n  const handleChange = (e) => {\n    setOptionName(e.target.value);\n    if(formSetter){\n      formSetter(e.target.value)\n    }\n  };\n\n  return (\n    <div>\n      <FormControl className={classes.formControl} style={style} color=\"secondary\">\n        <InputLabel>{label}</InputLabel>\n        <Select\n          multiple\n          name={name}\n          value={optionName}\n          defaultValue={defaultValue}\n          onChange={handleChange}\n          input={<Input id=\"select-multiple-chip\" />}\n          renderValue={(selected) => (\n            <div className={classes.chips}>\n              {selected.map((value) => (\n                <Chip key={value} label={value} className={classes.chip} />\n              ))}\n            </div>\n          )}\n          MenuProps={MenuProps}\n        >\n          {options.map((option) => (\n            <MenuItem\n              key={option}\n              value={option}\n              style={getStyles(option, optionName, theme)}\n            >\n              {option}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n    </div>\n  );\n}\n","// import geofirestore from 'geofirestore';\nimport * as geofirestore from \"geofirestore\";\n\nimport firestore from './firestoreDb';\n\nconst GeoFirestore = geofirestore.initializeApp(firestore);\n\n// Create a GeoCollection reference\nconst geoListings = GeoFirestore.collection(\"listings\");\n\nexport default geoListings","import db from \"../../config/firestoreDb\";\nimport firebase from \"firebase\";\nimport {forEach} from 'p-iteration';\nimport getListingsByHostUsername from '../listings/getListingsByHostUsername';\nimport geoListings from \"../../config/geofirestore\";\n\nexport default async function updateUserInDb({uid, firstName, lastName, email, phone, website, whatsapp, bio, languages, location, profilePicture, username}) {\n  if(!firstName || !lastName || !email){\n    return {\n      \"message\":{\n        type: \"error\", \n        content: \"Missing a required field.\"\n      }\n    }\n  }\n  \n  const {currentUser} = await firebase.auth();\n  const uidAuth = currentUser.uid;\n  if(uidAuth !== uid){\n    return {\n      \"message\":{\n        type: \"error\", \n        content: \"You're not authorized to perform this action.\"\n      }\n    }\n  }\n\n  const user = {};\n\n\n  user.first_name = firstName;\n  user.last_name = lastName;\n  user.contact = {};\n  user.contact.email = email;\n  user.contact.phone = phone ||  \"\";\n  user.contact.website = website ||  \"\";\n  user.contact.whatsapp = whatsapp ||  \"\";\n\n  user.bio = bio || \"\";\n  user.location = location || {};\n  user.languages = languages || [];\n\n\n  user.date_updated = new Date();\n \n  try {\n    const res = await db.collection(\"users\").doc(uid).update(user);\n    const userListings = await getListingsByHostUsername(username);\n    const newUserInfo = { \n      first_name: firstName, last_name: lastName, uid, username, \n      profile_picture: profilePicture || \"\"\n    }\n\n    if(userListings && userListings.length){\n      await forEach(userListings, listing => {\n          geoListings.doc(listing.id).update({\n            owner: newUserInfo\n          })\n      })\n    }\n    \n    return {\n      message: {\n        type: \"success\",\n        content: \"Your account has been successfully updated.\",\n      },\n    };\n  } catch (err) {\n    console.error(err);\n    \n    return { \n      message: {\n        type: \"error\",\n        content: \"You're information was not updated. Please try again later.\",\n      },\n    };\n  }\n}\n\n\n","import db from \"../../config/firestoreDb\";\nimport firebase from \"firebase\";\nimport geoListings from \"../../config/geofirestore\";\n\nexport default async function deleteListing(listingId, setRes){\n\n    const unsubscribe = firebase.auth().onAuthStateChanged(async function (user) {    \n        if(user){\n            try{\n                const res = await geoListings.doc(listingId).delete();\n                setRes({\n                    message: {\n                        type: \"success\",\n                        content: \"Your listing was successfully deleted.\",\n                    },\n                });\n            } catch(err){\n                console.error('POSTING PROBLEM::', err);\n                setRes({\n                    message: {\n                        type: \"error\",\n                        content: \"There was a problem deleting your listing. Please try again later\",\n                    },\n                });\n            }\n            unsubscribe();\n        }\n    })\n}","import db from \"../../config/firestoreDb\";\nimport firebase from \"firebase\";\nimport getListingsByUsername from './getListingsByHostUsername';\nimport deleteListing from './deleteListing';\n\nconst { forEach } = require(\"p-iteration\");\n\nexport default async function deleteListingsByUsername(username) {\n  try{\n    await firebase.auth();\n    const userListings = await getListingsByUsername(username);\n    await forEach(userListings, listing => deleteListing(listing.id))\n\n\n    return {message: {type: \"success\", content: \"The listings have successfully been deleted.\"}}\n\n  } catch(err){\n      return {message: {type: \"error\", content: \"there was a problem deleting your listings.\"}}\n  }\n  \n};\n\n// export default async function deleteCollection(username) {\n//   const userListingsSnapshot = await await db\n//     .collection(\"listings\")\n//     .where(\"owner.username\", \"==\", username)\n//     .get();\n  \n//   return new Promise((resolve, reject) => {\n//     deleteQueryBatch(db, userListingsSnapshot, resolve).catch(reject);\n//   });\n// }\n\n// async function deleteQueryBatch(db, snapshot, resolve) {\n  \n//   const batchSize = snapshot.size;\n//   if (batchSize === 0) {\n//     // When there are no documents left, we are done\n//     resolve();\n//     return;\n//   }\n\n//   // Delete documents in a batch\n//   const batch = db.batch();\n//   snapshot.docs.forEach((doc) => {\n//     batch.delete(doc.ref);\n//   });\n//   await batch.commit();\n\n//   // Recurse on the next process tick, to avoid\n//   // exploding the stack.\n//   process.nextTick(() => {\n//     deleteQueryBatch(db, snapshot, resolve);\n//   });\n// }\n","import firebase from 'firebase';\n\nexport default async function deleteUserAuth(){\n    try{\n        const user = await firebase.auth().currentUser;\n        await user.delete()\n    } catch (err){ return }\n}\n","import db from \"../../config/firestoreDb\";\nimport firebase from \"firebase\";\nimport deleteListingsByUsername from '../listings/deleteListingsByUsername';\nimport deleteUserAuth from \"../../auth/deleteUser\";\nexport default async function deleteUser(user) {\n    console.log('user is...', user)\n    try {\n        await firebase.auth();\n        await deleteListingsByUsername(user.username);\n        await db.collection(\"users\").doc(user.uid).delete();\n        deleteUserAuth();\n\n\n        return {\n            message: {\n                type: \"success\",\n                content: \"Your account has been successfully updated.\",\n            },\n        };\n  } catch (err) {\n    console.error(err);\n\n    return {\n        message: {\n            type: \"error\",\n            content: \"There was a problem deleting your account. Please try again later.\",\n        },\n    };\n  }\n}\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport {\n  makeStyles,\n  Link,\n  Typography,\n  CircularProgress,\n  Button as MuiButton,\n} from \"@material-ui/core\";\nimport Button from \"./Button\";\nimport Modal from \"@material-ui/core/Modal\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport red from \"@material-ui/core/colors/red\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport deleteUser from \"../queries/users/deleteUser\";\nimport context from './Context';\n\nconst useStyles = makeStyles((theme) => ({\n  modalContent: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    top: `50%`,\n    left: `50%`,\n    transform: `translate(-50%, -50%)`,\n    outlineColor: theme.palette.secondary.light,\n  },\n  buttonWrapper: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    marginTop: theme.spacing(1.5),\n    marginBottom: theme.spacing(1.5),\n  },\n  deleteButton: {\n    marginRight: theme.spacing(2),\n    fontFamily: theme.typography.special,\n    color: red[500],\n    cursor: \"pointer\",\n    display: \"inline-flex\",\n    alignItems: \"center\",\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n    marginBottom: theme.spacing(2),\n  },\n  progress: {\n    display: \"flex\",\n    justifyContent: \"center\",\n  },\n}));\n\nexport default function DeleteAccountModal({ user, disabled }) {\n  const classes = useStyles();\n  const history = useHistory();\n  const {logOut} = useContext(context);\n  const [open, setOpen] = useState(false);\n  const [res, setRes] = useState({ message: {} });\n  const [mainContent, setMainContent] = useState(\"START\");\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleDelete = async () => {\n    setMainContent(\"LOADING\");\n    await deleteUser(user, setRes);\n    logOut();\n    // setTimeout(() => {\n    //   history.push(\"/\");\n    // }, 3000);\n  };\n\n \n\n  return (\n    <>\n      <MuiButton className={classes.deleteButton} onClick={handleOpen} disabled={disabled}>\n        <DeleteIcon />\n        {\"  \"}Delete Account\n      </MuiButton>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"delete your aCasa account\"\n        aria-describedby=\"delete your aCasa account here\"\n        disableAutoFocus={true}\n      >\n        <div className={classes.modalContent}>\n          <div>\n            <CloseIcon onClick={handleClose} />\n          </div>\n          <Typography\n            component=\"h4\"\n            variant=\"h4\"\n            align=\"center\"\n            className={classes.title}\n            color=\"primary\"\n          >\n            Delete Account\n          </Typography>\n          {mainContent === \"START\" && !res.message.type && (\n            <div>\n              <Typography>\n                <b>Warning:</b> Deletion of accounts is permanent. It will also delete all listings you've created.\n                Once you click delete below, you won't be able to recover the listing.\n              </Typography>\n              <div className={classes.buttonWrapper}>\n                <Button onClick={handleDelete}>Delete Account</Button>\n              </div>\n            </div>\n          )}\n          {mainContent === \"LOADING\" && !res.message.type && (\n            <div className={classes.progress}>\n              <CircularProgress size={100} />\n              <p>Deleting your account...</p>\n            </div>\n          )}\n          {res.message.type && (\n            <div>\n              <Typography>\n                {res.message.content} You'll be redirected to the homepage in a\n                moment.\n              </Typography>\n            </div>\n          )}\n        </div>\n      </Modal>\n    </>\n  );\n}\n","import app from \"./firebaseApp\";\nimport firebase from \"firebase\";\n\nconst storage = app.storage('gs://acasa-bd3af.appspot.com');\n\nexport default storage;\n","import storage from \"../config/firebaseStorage\";\nimport { v4 as uuid } from \"uuid\";\n\nexport default async function uploadAndGetURL(file, path, imgSetter, progressSetter) {\n  const storageRef = storage.ref();\n  const fileName = `${uuid()}-${file.name}`;\n  const pathRef = storageRef.child(`${path}/${fileName}`);\n  const snapshot = await pathRef.put(file);\n  const snapshotUrl = await snapshot.ref.getDownloadURL();\n  if(imgSetter) imgSetter(snapshotUrl);\n  return snapshotUrl;\n}\n","/* eslint-disable jsx-a11y/img-redundant-alt */\nimport React, { useState } from 'react';\nimport ThemeButton from './Button';\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport storage from '../config/firebaseStorage';\nimport { v4 as uuid } from 'uuid'\nimport {makeStyles} from '@material-ui/core';\nimport uploadFile from '../utils/uploadFileAndGetURL'\nimport PhotoCameraIcon from \"@material-ui/icons/PhotoCamera\";\n\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n      display: 'flex',\n      alignItems: 'center',\n      flexDirection: 'row'\n  },\n  button: {\n      display: 'inline-block'\n  },\n  imgWrapper: {\n      padding: '.5em',\n      paddingLeft: '1em',\n      display: 'inline-block',\n      position: 'relative',\n      zIndex: 1,\n      top: 12\n  },\n  imgPreview: {\n    width: 100,\n    height: 100,\n    backgroundPosition: \"center center\",\n    backgroundSize: \"cover\",\n    backgroundColor: theme.palette.text.secondary\n  },\n}));\n\nexport default function UploadOneImage({multiple, required, formSetter, urlSetter, preview, noPreview, disabled, setCustomLoading, ...props}){\n    const id = uuid();\n    const [imgUrl, setImgUrl] = useState(\"\");\n    const [progress, setProgress] = useState(0);\n    const classes = useStyles();\n    const fileHandler = async e => {\n        if(setCustomLoading) setCustomLoading();\n        const file = e.currentTarget.files[0];\n        const setter = inputVal => {\n          setImgUrl(inputVal);\n          if(formSetter) formSetter(inputVal)\n        }\n        if(file){ \n          setImgUrl('loading')\n          const fileURL = await uploadFile(file, \"listings\", setter, setProgress);\n          if(urlSetter) urlSetter(fileURL);\n\n        }\n    }        \n        \n    \n    \n    return (\n      <div>\n        <div className={classes.button}>\n          <input\n            accept=\"image/*\"\n            hidden\n            id={`upload-img-${id}`}\n            multiple={multiple}\n            type=\"file\"\n            onChange={fileHandler}\n            disabled={disabled}\n            {...props}\n          />\n          <label htmlFor={`upload-img-${id}`}>\n            <ThemeButton>\n              <PhotoCameraIcon style={{ marginRight: 10 }} />\n              Upload{required ? \"*\" : null}\n            </ThemeButton>\n          </label>\n        </div>\n\n        {!noPreview &&( \n          <div className={classes.imgWrapper}>\n            {imgUrl === \"loading\" && <CircularProgress value={progress} />}\n            {imgUrl && imgUrl !== \"loading\" && preview && (\n              <div\n                className={classes.imgPreview}\n                style={{ backgroundImage: `url(${imgUrl})` }}\n              ></div>\n          )}\n        </div>\n        )}\n      </div>\n    );\n}","import db from \"../../config/firestoreDb\";\nimport firebase from \"firebase\";\nimport { forEach } from \"p-iteration\";\nimport getListingsByHostUsername from \"../listings/getListingsByHostUsername\";\nimport geoListings from \"../../config/geofirestore\";\n\nexport default async function updateProfilePicture(imgURL) {\n\n\n  const { currentUser } = await firebase.auth();\n  const uid = currentUser.uid;\n \n  try {\n    const res = await db.collection(\"users\").doc(uid).update({\n        profile_picture: imgURL,\n    });\n\n    return {\n      message: {\n        type: \"success\",\n        content: \"Your profile picture has been successfully updated.\",\n      },\n    };\n  } catch (err) {\n    console.error(err);\n\n    return {\n      message: {\n        type: \"error\",\n        content: \"You're information was not updated. Please try again later.\",\n      },\n    };\n  }\n}\n","import React, {useState} from 'react';\nimport {Avatar, makeStyles, Typography, CircularProgress} from '@material-ui/core';\nimport Button from './Button';\nimport PhotoCameraIcon from \"@material-ui/icons/PhotoCamera\";\nimport UploadOneImage from './UploadOneImage';\nimport updateProfilePicture from '../queries/users/updateUserProfilePicture';\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    marginBottom: theme.spacing(1),\n  },\n  uploadWrapper: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n  },\n  profilePicture: {\n    width: 200,\n    height: 200,\n    marginBottom: theme.spacing(2),\n    borderRadius: '50%',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n}));\n\nexport default function UpdateProfilePicture({user, disabled, formSetter}){\n    console.log('user is...', user)\n    const classes = useStyles();\n    const [profilePicture, setProfilePicture] = useState(user.profile_picture);\n\n    const setLoading = () => setProfilePicture(null)\n\n    const uploadNewImage = async (imgURL) => {\n        console.log(imgURL)\n        await updateProfilePicture(imgURL);\n        setProfilePicture(imgURL);\n    }\n    \n    return (<>\n      {!!user.first_name && <div className={classes.root}>\n        <Typography\n          component=\"h4\"\n          variant=\"h5\"\n          className={classes.title}\n          color=\"primary\"\n        >\n          Upload New Profile Picture\n        </Typography>\n        <Typography\n          variant=\"p\"\n          component=\"p\"\n          color=\"textSecondary\"\n          style={{ marginBottom: \"1em\" }}\n        >\n          This is your current profile picture. \n        </Typography>\n        <div className={classes.uploadWrapper}>\n          {profilePicture !== null ?(\n              <Avatar\n            src={profilePicture}\n            alt={`${user.first_name}\n                ${user.last_name}`}\n            className={classes.profilePicture}\n          />\n          ):(\n            <div className={classes.profilePicture}>\n                <CircularProgress size={100}/>\n            </div>\n          )}\n          <UploadOneImage\n            setCustomLoading={setLoading}\n            urlSetter={uploadNewImage}\n            noPreview={true}\n\n          />\n        </div>\n      </div>}</>\n    );\n}","import React, {useState, useEffect, useContext} from 'react';\nimport MainContentWrapper from './MainContentWrapper';\nimport {\n  makeStyles,\n  TextField,\n  Typography,\n  Button,\n  Divider,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport Snackbar from './Snackbar';\nimport firebase from 'firebase';\nimport db from \"../config/firestoreDb\";\nimport ContentPaper from './ContentPaper';\nimport GoogleMapsAutoComplete from './GoogleMapsSearchBox';\nimport SelectMultiple from './SelectMultiple';\nimport updateUserAccountInfo from '../queries/users/updateUserAccountInfo';\nimport languageList from '../languages.json';\nimport {useHistory} from 'react-router-dom';\nimport DeleteAccountModal from './DeleteAccountModal';\nimport UpdateProfilePicture from './UpdateProfilePicture';\n\nconst useStyles = makeStyles((theme) => ({\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.main,\n    marginBottom: theme.spacing(1),\n  },\n  progressWrapper: {\n    display: 'flex',\n    justifyContent: 'center',\n    marginTop: theme.spacing(8),\n    marginBottom: theme.spacing(8),\n  },\n  form: {\n    padding: theme.spacing(1),\n    maxWidth: 500\n  },\n  demoInfo: {\n    maxWidth: 500,\n  },\n  textInput: {\n    width: 300,\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n  sectionDivider: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  buttonWrapper: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  submitButton: {\n    margin: theme.spacing(2),\n    fontFamily: theme.typography.special,\n  },\n}));\n\n\nexport default function EditProfile(){\n    const classes = useStyles();\n    const history = useHistory();\n\n    const [user, setUser] = useState({\n      contact: {},\n      location: {},\n      languages: [],\n    });\n    const [firstName, setFirstName] = useState(\"\");\n    const [lastName, setLastName] = useState(\"\");\n    const [username, setUsername] = useState(\"\")\n    const [email, setEmail] = useState(\"\");\n    const [phone, setPhone] = useState(\"\");\n    const [website, setWebsite] = useState(\"\");\n    const [whatsapp, setWhatsapp] = useState(\"\");\n    const [bio, setBio] = useState(\"\");\n    const [profilePicture, setProfilePicture] = useState(\"\");\n    const [languages, setLanguages] = useState([])\n    const [location, setLocation] = useState({});\n    const [snackbar, setSnackbar] = useState({\n      msg: null,\n      severity: null,\n    });\n  \n  // TODO: refactor to put in another component...just throwing code elsewhere\n  // was causing problems...i think it might have to do w fact that this uses\n  // web sockets\n  useEffect(()=>{\n    const deactivate = firebase.auth().onAuthStateChanged(async function (user) {\n      if (user) {\n        const uid = firebase.auth().currentUser.uid;\n        const res = await db.collection(\"users\").doc(uid).get();\n        if (res.empty) {\n          setUser(null);\n          return;\n        }\n        const thisUser = res.data()\n        setUser(thisUser);\n        setLanguages(thisUser.languages);\n        setFirstName(thisUser.first_name);\n        setUsername(thisUser.username)\n        setLastName(thisUser.last_name);\n        setEmail(thisUser.contact.email);\n        setPhone(thisUser.contact.phone);\n        setWebsite(thisUser.contact.website);\n        setWhatsapp(thisUser.contact.whatsapp);\n        setProfilePicture(thisUser.profile_picture);\n        setBio(thisUser.bio);\n        setLocation(thisUser.location || {});\n        return deactivate();\n      }\n    });\n  },[]);\n    \n  const inputChangeHandler = e => {\n    switch(e.target.name){\n      case \"firstName\": \n        setFirstName(e.target.value);\n        break;\n      case 'lastName':\n        setLastName(e.target.value)\n        break;\n      case 'email':\n        setEmail(e.target.value);\n        break;\n      case 'phone':\n        setPhone(e.target.value);\n        break;\n      case 'website': \n        setWebsite(e.target.value);\n        break;\n      case 'whatsapp':\n      setWhatsapp(e.target.value);\n        break;\n      case 'bio':\n        setBio(e.target.value);\n        break;\n      case 'location':\n        setLocation(e.target.value);\n        break;\n      case 'languages':\n        setLocation(e.target.value);\n        break;\n      default: \n      return\n    } \n  }\n  const selectMultipleHandler = e => { \n    setLanguages(e.target.value)\n  }\n  const updateProfile = async () => {\n    const uid = user.uid;\n    const res = await updateUserAccountInfo({\n      firstName, lastName, email, phone, website, whatsapp, bio, location, languages, uid, profilePicture, username\n    });\n    setSnackbar({ msg: res.message.content, severity: res.message.type });\n    if(res.message.type){\n      setTimeout(()=>{\n        history.push('/profile')\n      }, 1000)\n    }\n  }\n\n  return (\n    <>\n      <MainContentWrapper>\n        <ContentPaper>\n          <Typography\n            variant=\"h4\"\n            component=\"h3\"\n            color=\"primary\"\n            className={classes.title}\n          >\n            Edit Account Info\n          </Typography>\n          {email === \"acasademo@gmail.com\" && (\n            <div className={classes.demoInfo}>\n              <Typography color=\"secondary\" component=\"p\" variant=\"h6\">\n                <b>Note:</b> Certain functionality has been disabled because\n                you're signed in as the demo user.\n              </Typography>\n            </div>\n          )}\n          {!user.uid ? (\n            <div className={classes.progressWrapper}>\n              <CircularProgress size={100} />\n            </div>\n          ) : (\n            <form className={classes.form} noValidate onSubmit={updateProfile}>\n              <Divider className={classes.sectionDivider} />\n              <UpdateProfilePicture user={user} />\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.primaryInfo}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Name\n                </Typography>\n                <div>\n                  <TextField\n                    id=\"first-name\"\n                    name=\"firstName\"\n                    label=\"First Name\"\n                    color=\"secondary\"\n                    value={firstName}\n                    defaultValue={user.first_name}\n                    className={classes.textInput}\n                    onChange={inputChangeHandler}\n                    disabled={email === \"acasademo@gmail.com\"}\n                    required\n                  />\n                </div>\n                <div>\n                  <TextField\n                    id=\"last-name\"\n                    label=\"Last Name\"\n                    name=\"lastName\"\n                    color=\"secondary\"\n                    value={lastName}\n                    defaultValue={user.last_name}\n                    className={classes.textInput}\n                    onChange={inputChangeHandler}\n                    disabled={email === \"acasademo@gmail.com\"}\n                    required\n                  />\n                </div>\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.contact}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Contact Information\n                </Typography>\n                <Typography\n                  variant=\"p\"\n                  component=\"p\"\n                  color=\"textSecondary\"\n                  style={{ marginBottom: \".5em\" }}\n                >\n                  Prospective guests can use these methods to contact you.{\" \"}\n                </Typography>\n                <div>\n                  <TextField\n                    id=\"email\"\n                    name=\"email\"\n                    label=\"Email\"\n                    type=\"email\"\n                    color=\"secondary\"\n                    value={email}\n                    defaultValue={user.contact.email}\n                    className={classes.textInput}\n                    onChange={inputChangeHandler}\n                    helperText=\"This email is just for guests to contact you. It will not affect your login account.\"\n                    disabled={email === \"acasademo@gmail.com\"}\n                    required\n                  />\n                </div>\n                <div>\n                  <TextField\n                    id=\"phone\"\n                    name=\"phone\"\n                    label=\"Phone\"\n                    type=\"tel\"\n                    value={phone}\n                    defaultValue={user.contact.phone}\n                    color=\"secondary\"\n                    onChange={inputChangeHandler}\n                    className={classes.textInput}\n                  />\n                </div>\n                <div>\n                  <TextField\n                    id=\"website\"\n                    name=\"website\"\n                    label=\"Website\"\n                    type=\"url\"\n                    value={website}\n                    defaultValue={user.contact.website}\n                    color=\"secondary\"\n                    onChange={inputChangeHandler}\n                    className={classes.textInput}\n                  />\n                </div>\n                <div>\n                  <TextField\n                    id=\"whatsapp\"\n                    label=\"Whatsapp\"\n                    name=\"whatsapp\"\n                    value={whatsapp}\n                    defaultValue={user.contact.whatsapp}\n                    type=\"tel\"\n                    onChange={inputChangeHandler}\n                    color=\"secondary\"\n                    className={classes.textInput}\n                  />\n                </div>\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.additionalInfo}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Additional Information\n                </Typography>\n                <Typography\n                  variant=\"p\"\n                  component=\"p\"\n                  color=\"textSecondary\"\n                  style={{ marginBottom: \".5em\" }}\n                >\n                  Add a bit more information for prospective guests to have a\n                  better idea of who you are and why they should stay with you.\n                </Typography>\n                <div>\n                  <TextField\n                    id=\"bio\"\n                    name=\"bio\"\n                    label=\"Bio\"\n                    multiline\n                    rows={4}\n                    value={bio}\n                    defaultValue={user.bio}\n                    color=\"secondary\"\n                    onChange={inputChangeHandler}\n                    style={{ width: \"100%\" }}\n                  />\n                </div>\n                <div>\n                  <SelectMultiple\n                    name=\"languages\"\n                    label=\"Languages\"\n                    defaultValue={languages}\n                    options={languageList}\n                    formSetter={setLanguages}\n                  />\n                </div>\n                <div>\n                  {location.description && (\n                    <div style={{ paddingTop: \".5em\", paddingBottom: \".5em\" }}>\n                      <Typography>\n                        <b>Your current location is: </b> {location.description}\n                      </Typography>\n                    </div>\n                  )}\n                  <GoogleMapsAutoComplete\n                    variant=\"standard\"\n                    label=\"Location\"\n                    name=\"location\"\n                    inputVal={location.description}\n                    defaultValue={\n                      user.location && user.location.description\n                        ? user.location.description\n                        : null\n                    }\n                    formSetter={setLocation}\n                    className={classes.textInput}\n                  />\n                  {/* )} */}\n                </div>\n              </div>\n              <div className={classes.buttonWrapper}>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  className={classes.submitButton}\n                  onClick={updateProfile}\n                >\n                  Update Profile\n                </Button>\n              </div>\n              <Divider className={classes.sectionDivider} />\n              {/* TODO: change username functionality */}\n              {/* this will take some config with the DB to do in a non-hacky way */}\n              {/* gotta present race conditions and all that */}\n              {/* <TextField id=\"standard-basic\" label=\"Username\"/> */}\n              <DeleteAccountModal\n                user={user}\n                disabled={email === \"acasademo@gmail.com\"}\n              />\n            </form>\n          )}\n        </ContentPaper>\n      </MainContentWrapper>\n      {snackbar.msg && (\n        <Snackbar msgSeverity={snackbar.severity} msg={snackbar.msg} />\n      )}\n    </>\n  );\n}","import { useState, useCallback } from \"react\";\nconst useUserInput = (defaultValue = \"\") => {\n  const [value, setValue] = useState(defaultValue);\n  const onChange = useCallback((e) => setValue(e.target.value), []);\n\n  return { value, onChange };\n};\nexport default useUserInput;\n","import React from \"react\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport CheckBoxOutlineBlankIcon from \"@material-ui/icons/CheckBoxOutlineBlank\";\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\nimport Favorite from \"@material-ui/icons/Favorite\";\nimport FavoriteBorder from \"@material-ui/icons/FavoriteBorder\";\n\n\nexport default function CheckboxWithLabel({name, label, formSetter, helperText, defaultValue}) {\n  const [checked, setChecked] = React.useState(defaultValue);\n  const handleChange = e => { \n    const newVal = !checked;\n    setChecked(newVal);\n    if(formSetter){\n        formSetter(newVal)\n    }\n  }\n\n  return (\n    <FormControlLabel\n      control={\n        <Checkbox\n          checked={checked}\n          onChange={handleChange}\n          name={name}\n          helperText={helperText}\n        />\n      }\n      label={label}\n    />\n  );\n}\n","import React from \"react\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\n\nexport default function RadioButtonsGroup({defaultValue, formLabel, ariaLabel, name, options, required, formSetter}) {\n  const [value, setValue] = React.useState(defaultValue);\n\n  const handleChange = (e) => {\n    \n    setValue(e.target.value);\n    if (formSetter) {\n      if(options[0].value === \"true\" && options[1].value === 'false'){\n        // const boolVal = e.target.value === \"true\";\n        formSetter(e.target.value === \"true\");\n        return;\n      }\n      formSetter(value);\n      \n    } \n  };\n\n  return (\n    <FormControl component=\"fieldset\">\n      <FormLabel component=\"legend\" color=\"secondary\">{formLabel}</FormLabel>\n      <RadioGroup\n        aria-label={ariaLabel}\n        name={name}\n        value={value || JSON.stringify(defaultValue)}\n        onChange={handleChange}\n        required={required}\n        row\n      >\n        {options.map(option=>(\n            <FormControlLabel value={option.value} control={<Radio checked={value===option.value}/>} label={option.label} />\n\n        ))}\n\n\n      </RadioGroup>\n    </FormControl>\n  );\n}\n","import db from \"../../config/firestoreDb\";\nimport firebase from 'firebase';\nimport accents from \"remove-accents\";\nimport geoListings from '../../config/geofirestore';\n\nexport default async function postListing(listing, setRes){\n  const {title, type, description, active, price, start_date, end_date, location, \n                        location_description, shared, roommates, bedrooms, bathrooms,\n                        max_guests, wifi_speed, rules, pets, lgbtq, living_with_host, primary_img,\n                        additional_imgs, payment_methods,  \n                      } = listing;\n  if(!title || !location || !type || !start_date \n    || !bedrooms || !bathrooms || !max_guests || !primary_img || price < 1){ \n    setRes({\n      \"message\":{\n        type: \"error\", \n        content: \"Missing one or more required fields.\"\n      }\n    });\n    return;\n  }\n\n  let timestamp = new Date();\n  timestamp = timestamp.getTime();\n  const titleDash = title.split(\" \").join(\"-\")\n  const id = encodeURI(`${accents.remove(titleDash.slice(0, 25))}-${timestamp}`);\n  let coordinates;\n  if(location.geometry){\n    const {lat, lng} = location.geometry.location;\n    coordinates = new firebase.firestore.GeoPoint(lat, lng);\n  }\n  \n\n  const newListing = {title, type, active, price, start_date, end_date, location, description,\n                        location_description, shared, roommates, bedrooms, bathrooms,\n                        max_guests, wifi_speed, rules, pets, lgbtq, id, living_with_host,\n                        created_at: timestamp, updated_at: timestamp, primary_img, coordinates,\n                        additional_imgs, payment_methods\n                    }\n\n  const unsubscribe = firebase.auth().onAuthStateChanged(async function (user) {\n    if (user) {\n        const uid = await firebase.auth().currentUser.uid;\n        let user = await db.collection(\"users\").doc(uid).get();\n        user = user.data();\n        const owner = { \n            first_name: user.first_name,\n            last_name: user.last_name,\n            profile_picture: user.profile_picture,\n            uid: user.uid,\n            username: user.username\n        }\n        newListing.owner = owner;\n\n        try{ \n            const res = await geoListings.doc(id)\n            .set(newListing);     \n            setRes({\n              message: {\n                type: \"success\",\n                content: \"Your Listing has been successfully posted.\",\n              },\n              redirectId: id,\n            });\n\n        } catch(err){\n            console.error(err);\n            return ({\n              message: {\n                type: \"error\",\n                content:\n                  \"There was an error posting your listing. Please try again later.\",\n              },\n            });\n        }\n    }\n  });\n}","import uploadAndGetURL from './uploadFileAndGetURL'\nconst { map } = require(\"p-iteration\");\n\n\nexport default async function bulkUpload(files, path){\n    const filesResolved = await map(files, file => uploadAndGetURL(file, path));\n    return filesResolved;\n}\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Modal, Fade } from \"@material-ui/core\";\nimport GridList from \"@material-ui/core/GridList\";\nimport GridListTile from \"@material-ui/core/GridListTile\";\n\nconst useStyles = makeStyles((theme) => ({\n  gridListRoot: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-around\",\n    overflow: \"hidden\",\n    backgroundColor: theme.palette.background.paper,\n  },\n  gridList: {\n    flexWrap: \"nowrap\",\n    // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\n    transform: \"translateZ(0)\",\n  },\n  gridImg: {\n    cursor: \"pointer\",\n  },\n  modalFrame: {\n    display: \"inline-block\",\n    outlineColor: theme.palette.secondary.light,\n    backgroundColor: \"white\",\n  },\n  imgModal: {\n    maxHeight: 600,\n    maxWidth: 900,\n  },\n}));\n\nexport default function SingleLineGridList({ imgs }) {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [modalSrc, setModalSrc] = useState(\"\");\n  const [modalAlt, setModalAlt] = useState(\"\");\n\n  const handleOpen = (e) => {\n    setOpen(true);\n    setModalSrc(e.target.src);\n    setModalAlt(e.target.alt);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  return (\n    <div className={classes.gridListRoot}>\n      <GridList className={classes.gridList} cols={2.5}>\n        {imgs.map((src, i) => (\n          <GridListTile key={src}>\n            <img\n              src={src}\n              alt={src}\n              onClick={handleOpen}\n              className={classes.gridImg}\n            />\n          </GridListTile>\n        ))}\n      </GridList>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"additional image preview\"\n        aria-describedby=\"additional image preview\"\n        TransitionComponent={Fade}\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <Fade in={open}>\n          <div className={classes.modalFrame}>\n            <img\n              src={modalSrc}\n              alt={modalAlt}\n              className={classes.imgModal}\n            ></img>\n          </div>\n        </Fade>\n      </Modal>\n    </div>\n  );\n}\n","import React, {useState, useEffect} from \"react\";\nimport ImageUploader from \"react-images-upload\";\nimport { useTheme, makeStyles, CircularProgress, Typography } from \"@material-ui/core\";\nimport bulkUploadFiles from '../utils/bulkUploadFiles';\nimport ImageGrid from './ImageGrid';\nimport { set } from \"lodash\";\n\nconst useStyles = makeStyles((theme) => ({\n  imagesLoading: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    backgroundColor: 'white',\n    padding: theme.spacing(2)\n  },\n  progress: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n  }\n}));\n\nexport default function UploadManyImgs({formSetter, defaultImages=[]}){\n    const classes = useStyles();\n    \n    const [uploadedPics, setUploadedPics] = useState([]);\n    const [uploadStatus, setUploadStatus] = useState(null);\n\n\n    const theme = useTheme();\n    const styles = {\n      buttonStyles: {\n        fontFamily: theme.typography.special,\n        padding: theme.spacing(2),\n        maxHeight: 50,\n        textAlign: \"center\",\n        backgroundColor: theme.palette.primary.main,\n        borderRadius: theme.spacing(0.5),\n      },\n      \n    };\n    \n    const onDrop = async pictures => { \n        debugger;\n        setUploadStatus(true);\n        const urls = await bulkUploadFiles(pictures, \"listings\");\n        setUploadedPics(urls);\n        setUploadStatus(false);\n        if(formSetter) formSetter(urls);\n\n    }\n\n    \n\n    return (\n      <div>\n        <ImageUploader\n          withIcon={true}\n          buttonText=\"Select Additional Images\"\n          buttonStyles={styles.buttonStyles}\n          onChange={onDrop}\n          imgExtension={[\".jpg\", \".gif\", \".png\", \".webp\"]}\n          maxFileSize={5242880}\n        />\n\n        <div className={classes.imgFrame}>\n          <>\n            {!uploadedPics.length && !!defaultImages.length && (\n              <ImageGrid imgs={defaultImages} />\n            )}\n          </>\n          {uploadStatus && (\n            <div className={classes.imagesLoading}>\n              <CircularProgress size={100} className={classes.progress} />\n              <Typography align=\"center\" component=\"p\">\n                Images uploading. This can take a moment. Please be patient{\" \"}\n                <span role=\"img\" aria-label=\"smile emoji\">\n                  \n                </span>\n              </Typography>\n            </div>\n          )}\n          <>{!!uploadedPics.length && <ImageGrid imgs={uploadedPics} />}</>\n        </div>\n      </div>\n    );\n}\n","import React, { useState, useEffect, useContext } from \"react\";\nimport useInput from '../utils/useInputHook';\nimport MainContentWrapper from \"./MainContentWrapper\";\nimport logo from \"../theme/logo-big.webp\";\nimport dateParse from \"date-fns/parse\";\nimport {\n  makeStyles,\n  TextField,\n  Typography,\n  Button,\n  Divider,\n  FormGroup, InputAdornment\n} from \"@material-ui/core\";\nimport WifiIcon from \"@material-ui/icons/Wifi\";\nimport format from \"date-fns/format\";\nimport {Redirect} from 'react-router-dom';\nimport Snackbar from \"./Snackbar\";\nimport Checkbox from './Checkbox';\nimport DateSelector from './DateSelector';\nimport RadioGroup from './RadioGroup';\nimport SelectOption from './SelectOption';\nimport ContentPaper from \"./ContentPaper\";\nimport GoogleMapsAutoComplete from \"./GoogleMapsSearchBox\";\nimport SelectMultiple from './SelectMultiple';\nimport hometypes from \"../hometypes.json\";\nimport postListingToDb from '../queries/listings/postListing';\nimport UploadOneImage from './UploadOneImage';\nimport UploadManyImgs from \"./UploadManyImages\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  titleLogoWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    paddingBottom: theme.spacing(2),\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.main,\n    paddingBottom: theme.spacing(1.5),\n  },\n  logo: {\n    width: 50,\n    paddingBottom: theme.spacing(1),\n  },\n  form: {\n    padding: theme.spacing(1),\n    maxWidth: 750,\n  },\n  textInput: {\n    width: 300,\n    margin: \".5rem 0\",\n  },\n  sectionDivider: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  buttonWrapper: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  uploadOneImageWrapper: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    flexDirection: 'column',\n    alignItems: 'center',\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n  },\n  currentPrimaryImg: {\n    display: \"block\",\n    paddingBottom: theme.spacing(2),\n  },\n  primaryImg: {\n    maxWidth: 250,\n  },\n  submitButton: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    marginLeft: theme.spacing(5),\n    marginRight: theme.spacing(5),\n    fontFamily: theme.typography.special,\n    width: \"100%\",\n    padding: theme.spacing(1.5),\n    fontSize: theme.typography.fontSize * 2,\n  },\n}));\n\nlet todayStr = format(Date.now(), \"y-MM-d\");\nconst oneToTenOptions = [\n  { value: 1, label: \"1\" },\n  { value: 2, label: \"2\" },\n  { value: 3, label: \"3\" },\n  { value: 4, label: \"4\" },\n  { value: 5, label: \"5\" },\n  { value: 6, label: \"6\" },\n  { value: 7, label: \"7\" },\n  { value: 8, label: \"8\" },\n  { value: 9, label: \"9\" },\n  { value: 10, label: \"10+\" },\n];\n\nexport default function CreateListing(){ \n\n    const classes = useStyles();\n\n    const [snackbar, setSnackbar] = useState({\n      msg: null,\n      severity: null,\n    });\n    \n    const title = useInput(\"\");\n    const [type, setType] = useState(\"\");\n    const price = useInput(\"\");\n    const [publish_now, setPublishNow] = useState(true);\n    const description = useInput(\"\");\n    const [start_date, setStartDate] = useState(todayStr);\n    const [end_date, setEndDate] = useState(\"\");    \n    const [location, setLocation] = useState({});    \n    const location_description = useInput(\"\");\n    const [shared, setShared] = useState(true);\n    const [living_with_host, setLivingWithHost] = useState(false)\n    const [roommates, setRoommates] = useState(\"\");\n    const [bedrooms, setBedrooms] = useState(\"\");\n    const [bathrooms, setBathrooms] = useState(\"\");\n    const [max_guests, setMaxGuests] = useState(\"\");\n    const wifi_speed = useInput(\"\");\n    const [rules, setRules] = useState([]);\n    const [pets, setPets] = useState([]);\n    const [payment_methods, setPaymentMethods] = useState([]);\n    const [lgbtq, setLgbtq] = useState(false);\n    const [primary_img, setPrimaryImage] = useState(\"\");\n    const [additional_imgs, setAdditionalImages] = useState([]);\n    const [disableSubmit, setDisableSubmit] = useState(false);\n    const [resMsg, setResMsg] = useState(null);\n\n    const createListing = async (e) => {\n        e.preventDefault();\n        if(!shared){\n          setLivingWithHost(false);\n          setRoommates(\"\");\n        }\n        const priceInt = parseInt(price.value);\n        const bathroomsInt = parseInt(bathrooms);\n        const bedroomsInt = parseInt(bedrooms);\n        const maxGuestsInt = parseInt(max_guests);\n        let roommatesInt = \"\";\n        if(roommates) roommatesInt = parseInt(roommates)\n        let wifiInt = \"\";\n        if(wifi_speed.value) wifiInt = parseInt(wifi_speed.value);\n\n        //TODO add data converters\n        const startDateObj = dateParse(\n          start_date,\n          'yyyy-MM-dd',\n          new Date()\n        );\n        let endDate = \"\";\n        if(end_date){\n          endDate = dateParse(\n          end_date,\n          'yyyy-MM-dd',\n          new Date()\n        );\n        }\n\n        const listing = {\n                        title: title.value, type, price: priceInt, active: publish_now,\n                        start_date: startDateObj, end_date: endDate, description: description.value,\n                        location, location_description: location_description.value, shared, \n                        roommates: roommatesInt, living_with_host, bedrooms: bedroomsInt, \n                        bathrooms: bathroomsInt, max_guests: maxGuestsInt, wifi_speed: wifiInt, \n                        rules, pets, lgbtq, primary_img, additional_imgs, payment_methods\n                      }\n        await postListingToDb(listing, setResMsg);\n    }\n    \n    return (\n      <>\n        <>\n          {resMsg && resMsg.message.type === \"success\" && (\n            <div>\n              <Redirect to={`/listings/${resMsg.redirectId}`} />\n            </div>\n          )}\n        </>\n        <>\n          {resMsg && (\n            <>\n              <Snackbar\n                msgSeverity={resMsg.message.type}\n                msg={resMsg.message.content}\n                onClose={() => setResMsg(null)}\n              />\n            </>\n          )}\n        </>\n\n        <MainContentWrapper>\n          <ContentPaper>\n            <div className={classes.titleLogoWrapper}>\n              <img src={logo} alt=\"aCasa logo\" className={classes.logo} />\n              <Typography\n                variant=\"h4\"\n                component=\"h3\"\n                color=\"primary\"\n                align=\"center\"\n                className={classes.title}\n              >\n                Create Listing\n              </Typography>\n            </div>\n\n            <form className={classes.form} noValidate onSubmit={createListing}>\n              <div className={classes.primaryInfo}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Basic Information\n                </Typography>\n                <div>\n                  <TextField\n                    name=\"title\"\n                    label=\"Listing Title\"\n                    color=\"secondary\"\n                    defaultValue={title.value}\n                    onChange={title.onChange}\n                    className={classes.textInput}\n                    required\n                  />\n                </div>\n                <div>\n                  <SelectOption\n                    required={true}\n                    labelText={\"Property Type\"}\n                    name=\"type\"\n                    options={hometypes}\n                    formSetter={setType}\n                  />\n                </div>\n                <div>\n                  <TextField\n                    name=\"price\"\n                    type=\"number\"\n                    label=\"Price per Month in Dollars\"\n                    color=\"secondary\"\n                    className={classes.textInput}\n                    defaultValue={price.value}\n                    onChange={price.onChange}\n                    InputProps={{\n                      inputProps: { min: 1},\n                      startAdornment: (\n                        <InputAdornment position=\"start\">$</InputAdornment>\n                      ),\n                    }}\n                    required\n                    helperText=\"NOTE: You can negotiate price with guests once they've contacted you. \"\n                  />\n                </div>\n                <div>\n                  <RadioGroup\n                    formLabel=\"Publish Now *\"\n                    ariaLabel=\"publish listing publicly\"\n                    name=\"active\"\n                    required={true}\n                    defaultValue=\"true\"\n                    formSetter={setPublishNow}\n                    className={classes.textInput}\n                    options={[\n                      { value: \"true\", label: \"Yes\" },\n                      { value: \"false\", label: \"Not Right Now\" },\n                    ]}\n                  />\n                </div>\n                <div>\n                  <TextField\n                    name=\"description\"\n                    label=\"Property Description\"\n                    defaultValue={description.value}\n                    onChange={description.onChange}\n                    multiline\n                    rows={4}\n                    color=\"secondary\"\n                    style={{ width: \"100%\" }}\n                  />\n                </div>\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.dates}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Dates\n                </Typography>\n                <DateSelector\n                  className={classes.textInput}\n                  labelText=\"Start Date\"\n                  defaultValue={new Date()}\n                  required={true}\n                  disablePast={true}\n                  formSetter={setStartDate}\n                />\n                <DateSelector\n                  className={classes.textInput}\n                  labelText=\"End Date\"\n                  required={false}\n                  disablePast={true}\n                  helperText=\"Only include if there is a fixed end date for the availability\"\n                  formSetter={setEndDate}\n                />\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.location}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Location\n                </Typography>\n                {location.description && (\n                  <div style={{ paddingTop: \".5em\", paddingBottom: \".5em\" }}>\n                    <Typography>\n                      <b>Your current location is: </b> {location.description}\n                    </Typography>\n                  </div>\n                )}\n                <GoogleMapsAutoComplete\n                  variant=\"standard\"\n                  label=\"Location\"\n                  name=\"location\"\n                  required\n                  formSetter={setLocation}\n                  className={classes.textInput}\n                />\n                <TextField\n                  name=\"location_description\"\n                  label=\"Location Description\"\n                  multiline\n                  defaultValue={location_description.value}\n                  onChange={location_description.onChange}\n                  rows={4}\n                  color=\"secondary\"\n                  style={{ width: \"100%\" }}\n                />\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.dates}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Occupancy\n                </Typography>\n                <div>\n                  <RadioGroup\n                    formLabel=\"Shared *\"\n                    ariaLabel=\"apartment is shared option\"\n                    name=\"shared\"\n                    required={true}\n                    defaultValue=\"true\"\n                    className={classes.textInput}\n                    formSetter={setShared}\n                    options={[\n                      { value: \"true\", label: \"Yes\" },\n                      { value: \"false\", label: \"No\" },\n                    ]}\n                  />\n                </div>\n                {shared === true && (\n                  <FormGroup\n                    row\n                    style={{ display: \"flex\", alignItems: \"center\" }}\n                  >\n                    <div>\n                      <SelectOption\n                        required={true}\n                        labelText={\"Roommates\"}\n                        name=\"roommates\"\n                        formSetter={setRoommates}\n                        options={oneToTenOptions}\n                        className={classes.textInput}\n                      />\n                    </div>\n                    <div>\n                      <Checkbox\n                        label={\"Living with Host\"}\n                        name=\"living_with_host\"\n                        formSetter={setLivingWithHost}\n                        className={classes.textInput}\n                      />\n                    </div>\n                  </FormGroup>\n                )}\n                <FormGroup row>\n                  <div>\n                    <SelectOption\n                      required={true}\n                      labelText={\"Bedrooms\"}\n                      name=\"bedrooms\"\n                      formSetter={setBedrooms}\n                      options={oneToTenOptions}\n                    />\n                  </div>\n                  <div>\n                    <SelectOption\n                      required={true}\n                      labelText={\"Bathrooms\"}\n                      name=\"bathrooms\"\n                      formSetter={setBathrooms}\n                      options={oneToTenOptions}\n                    />\n                  </div>\n                  <div>\n                    <SelectOption\n                      required={true}\n                      labelText={\"Max Guests\"}\n                      name=\"max_guests\"\n                      formSetter={setMaxGuests}\n                      options={oneToTenOptions}\n                    />\n                  </div>\n                </FormGroup>\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.contact}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Additional Information\n                </Typography>\n                <Typography variant=\"p\" component=\"p\" color=\"textSecondary\">\n                  It is highly recommended to include the following information\n                  to make your listing stand out and be more searchable.\n                </Typography>\n                <FormGroup row>\n                  <div>\n                    <TextField\n                      name=\"wifi_speed\"\n                      type=\"number\"\n                      label=\"Wifi speed (Mbps)\"\n                      color=\"secondary\"\n                      InputProps={{\n                        startAdornment: (\n                          <InputAdornment position=\"start\">\n                            <WifiIcon color=\"secondary\" />\n                          </InputAdornment>\n                        ),\n                      }}\n                      className={classes.textInput}\n                      defaultValue={wifi_speed.value}\n                      onChange={wifi_speed.onChange}\n                    />\n                  </div>\n                  <div>\n                    <SelectMultiple\n                      options={[\n                        \"Quiet after 10 PM\",\n                        \"No parties\",\n                        \"No overnight guests\",\n                        \"No smoking\",\n                      ]}\n                      label=\"House Rules\"\n                      formSetter={setRules}\n                    />\n                  </div>\n                </FormGroup>\n                <FormGroup\n                  row\n                  style={{ display: \"flex\", alignItems: \"center\" }}\n                >\n                  <div>\n                    <SelectMultiple\n                      options={[\n                        \"Cats\",\n                        \"Dogs\",\n                        \"Fish\",\n                        \"Guinea Pigs\",\n                        \"Hamsters\",\n                        \"Insects\",\n                        \"Rabbits\",\n                        \"Reptiles\",\n                      ]}\n                      label=\"Pets\"\n                      formSetter={setPets}\n                    />\n                  </div>\n                  <div>\n                    <SelectMultiple\n                      options={[\n                        \"Bank Transfer\",\n                        \"Cash\",\n                        \"Card\",\n                        \"Cheque\",\n                        \"Cryptocurrency\",\n                        \"Other (discuss with host)\",\n                      ]}\n                      label=\"Payment Methods\"\n                      formSetter={setPaymentMethods}\n                    />\n                  </div>\n                  <div style={{ paddingTop: 12 }}>\n                    <Checkbox\n                      label={\"LGBTQ+ Friendly\"}\n                      name=\"lgbtq\"\n                      formSetter={setLgbtq}\n                    />\n                  </div>\n                </FormGroup>\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.images}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                  style={{ paddingBottom: \".5em\" }}\n                >\n                  Images\n                </Typography>\n                <div>\n                  <Typography component=\"h4\" variant=\"h6\">\n                    Select the listing's primary image\n                  </Typography>\n                  <Typography color=\"textSecondary\">\n                    This will be featured prominently throughout the site, so\n                    make you it's a picture you really like!\n                  </Typography>\n                  <div className={classes.uploadOneImageWrapper}>\n                    {primary_img && (\n                      <div className={classes.currentPrimaryImg}>\n                        <Typography component=\"p\" variant=\"h6\" align=\"center\">\n                          Current Primary Image\n                        </Typography>\n                        <img\n                          src={primary_img}\n                          alt={primary_img}\n                          className={classes.primaryImg}\n                        />\n                      </div>\n                    )}\n                    <UploadOneImage\n                      formSetter={setPrimaryImage}\n                      required={true}\n                    />\n                  </div>\n                </div>\n                <div>\n                  <Typography component=\"h4\" variant=\"h6\">\n                    Select additional images\n                  </Typography>\n                  <Typography color=\"textSecondary\">\n                    Add some more photos to help make your listing shine.\n                  </Typography>\n                  <UploadManyImgs formSetter={setAdditionalImages} />\n                </div>\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.buttonWrapper}>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  className={classes.submitButton}\n                  type=\"submit\"\n                >\n                  Post Listing!\n                </Button>\n              </div>\n            </form>\n          </ContentPaper>\n        </MainContentWrapper>\n      </>\n    );\n}","import React, {useState} from 'react';\nimport {Modal, makeStyles, Fade} from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  img: {\n    height: \"100%\",\n    width: \"100%\",\n    backgroundPosition: \"center\",\n    backgroundSize: \"cover\",\n    // backgroundRepeat: \"no-repeat\",\n    // backgroundColor: \"pink\",\n    cursor: \"pointer\",\n  },\n  modalFrame: {\n    display: \"inline-block\",\n    outlineColor: theme.palette.secondary.light,\n    backgroundImage: \"/assets/loading-spinner.gif\",\n  },\n  imgModal: {\n    maxHeight: 600,\n    maxWidth: 900,\n  },\n}));\n\n\nexport default function ImageModal({ src, alt, component, className }) {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n\n  return (\n    <div className={classes.imgWrapper}>\n      <div\n        className={className ? `${classes.img} ${className}` : classes.img}\n        style={{ backgroundImage: `url(${src})` }}\n        onClick={handleOpen}\n      ></div>\n\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n        style={{display: 'flex', alignItems: 'center', justifyContent: 'center'}}\n      >\n        <Fade in={open}>\n\n        <div className={classes.modalFrame}>\n            <img src={src} alt={alt} className={classes.imgModal}></img>\n        </div>\n        </Fade>\n      </Modal>\n    </div>\n  );\n}\n\n","import React from 'react';\nimport {makeStyles} from '@material-ui/core';\nimport MainContentWrapper from './MainContentWrapper';\nimport ContentPaper from './ContentPaper';\nimport ContactModal from './ContactModal';\nimport ImageModal from './ImageModal';\nimport UploadManyImgs from './UploadManyImages';\n\nconst useStyles = makeStyles((theme) => ({\n  light: {\n    backgroundColor: theme.palette.primary.light,\n  },\n  main: {\n    backgroundColor: theme.palette.primary.main,\n  },\n  dark: {\n    backgroundColor: theme.palette.primary.dark,\n  },\n}));\nexport default function Testing(){\n  const classes = useStyles();\n    const demoUser = {\n      first_name: \"Ben\",\n      last_name: \"Perlmutter\",\n      profile_picture:\n        \"https://lh3.googleusercontent.com/a-/AOh14Gg9WbJE0awcv_EPhlqHyIMSTqLbvbSdjzmXOunEcQ\",\n      contact: {\n        email: \"ben@perlmutter.io\",\n        whatsapp: \"+1 (914) 589-5304\",\n        phone: \"+1 (914) 589-5304\",\n        website: \"ben.perlmutter.io\",\n      },\n    };\n    return (\n      <MainContentWrapper>\n        <ContentPaper style={{ padding: \"3em\", width: 800, minHeight: 500 }}>\n          <UploadManyImgs />\n          <img\n            src=\"https://acasa-bd3af.appspot.com/listings/cfaad2d9-0beb-498b-b956-ba2ed56c326f-art-james-jean-feature.jpg?alt=media\"\n            alt=\"idk anymore\"\n          />\n        </ContentPaper>\n      </MainContentWrapper>\n    );\n}","import React, {useContext} from 'react';\nimport {makeStyles, Typography, List, ListItem, ListItemIcon, ListItemText, Link} from '@material-ui/core';\nimport MainContentWrapper from './MainContentWrapper';\nimport ContentPaper from './ContentPaper';\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport PersonAddIcon from \"@material-ui/icons/PersonAdd\";\nimport context from './Context';\nimport fourOhFourImg from \"../vector-icons/green/hiding-in-trees.svg\";\n\nconst useStyles = makeStyles(theme => ({\n  pageWrapper: {\n    width: \"75vw\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-evenly\",\n    paddingTop: theme.spacing(12),\n    paddingBottom: theme.spacing(12),\n    paddingLeft: theme.spacing(3),\n    paddingRight: theme.spacing(3),\n    [theme.breakpoints.down(\"sm\")]: {\n      flexDirection: \"column-reverse\",\n      paddingTop: theme.spacing(6),\n      paddingBottom: theme.spacing(6),\n    },\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n    paddingBottom: theme.spacing(2),\n    [theme.breakpoints.down(\"sm\")]: {\n      paddingTop: theme.spacing(3),\n    },\n  },\n  subtitle: {\n    fontSize: theme.typography.fontSize * 1.5,\n    color: theme.palette.text.secondary,\n    paddingBottom: theme.spacing(2),\n  },\n  img: {\n    maxWidth: 450,\n    [theme.breakpoints.down(\"sm\")]: { \n        width: '90%'\n    }\n  },    \n}));\n\nexport default function FourOhFour(){\n    const classes = useStyles();\n    const {loggedIn} = useContext(context);\n\n    return (\n      <MainContentWrapper>\n        <ContentPaper className={classes.root}>\n          <div className={classes.pageWrapper}>\n            <div>\n              <Typography component=\"p\" variant=\"h4\" className={classes.title}>\n                Awwww, snap!\n              </Typography>\n              <Typography className={classes.subtitle}>\n                We can't find the page you're looking for.\n              </Typography>\n              <Typography>\n                <b>Error Code:</b> 404\n              </Typography>\n              <p>Here are some useful links to get you back on track:</p>\n              <List dense={true}>\n                <ListItem>\n                  <ListItemIcon>\n                    <HomeIcon />\n                  </ListItemIcon>\n                  <ListItemText\n                    primary={\n                      <Link href=\"/\" color=\"inherit\">\n                        Home\n                      </Link>\n                    }\n                  />\n                </ListItem>\n                <ListItem>\n                  <ListItemIcon>\n                    <SearchIcon />\n                  </ListItemIcon>\n                  <ListItemText\n                    primary={\n                      <Link href=\"/explore\" color=\"inherit\">\n                        Search\n                      </Link>\n                    }\n                  />\n                </ListItem>\n                {loggedIn ? (\n                  <ListItem>\n                    <ListItemIcon>\n                      <AccountCircleIcon />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={\n                        <Link href=\"/profile\" color=\"inherit\">\n                          Profile\n                        </Link>\n                      }\n                    />\n                  </ListItem>\n                ) : (\n                  <>\n                    <ListItem>\n                      <ListItemIcon>\n                        <PersonAddIcon />\n                      </ListItemIcon>\n                      <ListItemText\n                        primary={\n                          <Link href=\"/sign-up\" color=\"inherit\">\n                            Sign Up\n                          </Link>\n                        }\n                      />\n                    </ListItem>\n                    <ListItem>\n                      <ListItemIcon>\n                        <AccountCircleIcon />\n                      </ListItemIcon>\n                      <ListItemText\n                        primary={\n                          <Link href=\"/log-in\" color=\"inherit\">\n                            Log In\n                          </Link>\n                        }\n                      />\n                    </ListItem>\n                  </>\n                )}\n              </List>\n            </div>\n            <div className={classes.imgWrapper}>\n              <img\n                src={fourOhFourImg}\n                alt=\"small creatures hiding in trees\"\n                className={classes.img}\n              />\n            </div>\n          </div>\n        </ContentPaper>\n      </MainContentWrapper>\n    );\n}","import React, {useState} from 'react';\nimport {makeStyles, IconButton} from '@material-ui/core';\nimport pink from \"@material-ui/core/colors/pink\";\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nconst useStyles = makeStyles((theme) => ({\n  heartButton: {\n    color: pink[500],\n  },\n}));\n\nexport default function HeartButton(props){\n    const classes = useStyles();\n    const [hearted, setHearted] = useState(false);\n\n    const toggleFavorite = () => {\n      setHearted(!hearted);\n    };\n\n    return (\n      <div {...props}>\n        <IconButton onClick={toggleFavorite}>\n          {hearted ? (\n            <FavoriteIcon className={classes.heartButton} />\n          ) : (\n            <FavoriteBorderIcon className={classes.heartButton} />\n          )}\n        </IconButton>\n      </div>\n    );\n}\n","import React, {useContext} from 'react';\nimport {makeStyles, Paper, Typography, Link} from '@material-ui/core';\nimport ContactModal from './ContactModal';\nimport HeartButton from './HeartButton';\nimport Button from './Button';\nimport context from './Context';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    position: \"sticky\",\n    minHeight: 100,\n    marginTop: theme.spacing(1),\n    top: 0,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    zIndex: 500,\n    [theme.breakpoints.down(\"sm\")]: {\n      position: \"static\",\n    },\n  },\n  mainContent: {\n    display: \"inline-flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(3),\n    paddingRight: theme.spacing(3),\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(1),\n    boxSizing: \"border-box\",\n    width: 800,\n    backgroundColor: theme.palette.background.default,\n    [theme.breakpoints.down(\"sm\")]: {\n      paddingLeft: theme.spacing(1),\n      paddingRight: theme.spacing(1),\n    },\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n    paddingBottom: theme.spacing(1),\n  },\n  actionButtons: {\n    display: \"inline-flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-evenly\",\n    [theme.breakpoints.down(\"sm\")]: {\n      justifyContent: \"flex-end\",\n    },\n  },\n  contactButton: {\n    marginLeft: theme.spacing(1.5),\n    marginRight: theme.spacing(1.5),\n    [theme.breakpoints.down(\"sm\")]: {\n      marginLeft: theme.spacing(0),\n      marginRight: theme.spacing(0),\n    },\n  },\n}));\nexport default function ListingHeader({listing}){\n\n    const classes = useStyles();\n    const {user: {uid}} = useContext(context);\n    return (\n      <>\n        <div className={classes.root}>\n          <Paper className={classes.mainContent} component=\"div\" >\n            <div className={classes.info}>\n              <Typography component=\"p\" variant=\"p\" color=\"textSecondary\">\n                {listing.location.description}\n              </Typography>\n              <Typography component=\"h1\" variant=\"h4\" className={classes.title}>\n                {listing.title}\n              </Typography>\n              <Typography component=\"p\" variant=\"h5\">\n                ${listing.price}/mo\n              </Typography>\n            </div>\n            <div className={classes.actionButtons}>\n\n                {listing.owner.uid !== uid ? (<ContactModal username={listing.owner.username} noName={true} />\n                ):(\n                  <Link href={`/listings/${listing.id}/edit`}>\n                    <Button href={`/listings/${listing.id}/edit`}>Edit Listing</Button>\n                  </Link>\n                )}\n              <span className={classes.contactButton}>\n                {/* <HeartButton /> */}\n              </span>\n            </div>\n          </Paper>\n        </div>\n      </>\n    );\n}","import React, {useState} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Paper, Modal, Fade} from '@material-ui/core';\nimport GridList from \"@material-ui/core/GridList\";\nimport GridListTile from \"@material-ui/core/GridListTile\";\nimport ContentPaper from \"./ContentPaper\";\nimport ImageModal from './ImageModal';\n\nconst useStyles = makeStyles((theme) => ({\n  gridListRoot: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-around\",\n    overflow: \"hidden\",\n    backgroundColor: theme.palette.background.paper,\n  },\n  gridList: {\n    flexWrap: \"nowrap\",\n    // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\n    transform: \"translateZ(0)\",\n  },\n  gridImg: {\n      cursor: 'pointer',\n  },\n  modalFrame: {\n    display: \"inline-block\",\n    outlineColor: theme.palette.secondary.light,\n    backgroundColor: \"white\",\n  },\n  imgModal: {\n    maxHeight: 600,\n    maxWidth: 900,\n  },\n  primaryImgWrapper: {\n    \"&:hover\": {\n      position: \"relative\",\n      zIndex: 400,\n      transform: \"scale(1.05)\",\n    },\n  },\n  primaryImg: {\n    width: 500,\n    height: 300,\n    backgroundPosition: \"center\",\n    backgroundSize: \"cover\",\n    backgroundRepeat: \"no-repeat\",\n    backgroundImage: '/assets/loading-spinner.gif',\n    [theme.breakpoints.down(\"sm\")]: { \n      width: 300,\n    }\n  },\n  spacing: {\n    margin: theme.spacing(1),\n  },\n}));\n\nfunction SingleLineGridList({imgs, listingTitle}) {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [modalSrc,  setModalSrc] = useState('');\n  const [modalAlt, setModalAlt] = useState('');\n\n  const handleOpen = (e) => {\n    setOpen(true);\n    setModalSrc(e.target.src)\n    setModalAlt(e.target.alt)\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  return (\n    <div className={classes.gridListRoot}>\n      <GridList className={classes.gridList} cols={2.5}>\n        {imgs.map((src, i) => (\n          <GridListTile key={src}>\n            <img\n              src={src}\n              alt={`${listingTitle} img ${i + 1}`}\n              onClick={handleOpen}\n              className={classes.gridImg}\n            />\n          </GridListTile>\n        ))}\n      </GridList>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n        TransitionComponent={Fade}\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <Fade in={open}>\n            <div className={classes.modalFrame}>\n            <img src={modalSrc} alt={modalAlt} className={classes.imgModal}></img>\n            </div>\n        </Fade>\n      </Modal>\n    </div>\n  );\n}\n\n\nexport default function ListingPhotos({primaryImg, additionalImgs, title, ...props}) {\n    const classes = useStyles();\n    return (\n      <section {...props}>\n        <Paper className={classes.primaryImgWrapper}\n        style={{marginBottom: '1em', maxWidth:500, margin: '0 auto', padding: '.5em'}}>\n          {/* <div\n            className={classes.primaryImg}\n            style={{ backgroundImage: `url(${primaryImg})` }}\n          ></div> */}\n          <ImageModal\n              src={primaryImg}\n              alt={title}\n              className={classes.primaryImg}\n          />\n        </Paper>\n        <div className={classes.spacing}>\n        </div>\n        {additionalImgs && !!additionalImgs.length && (\n          <ContentPaper>\n            <SingleLineGridList imgs={additionalImgs} title={title} />\n          </ContentPaper>\n        )}\n      </section>\n    );\n}","import React, { useCallback, useState, useEffect } from 'react';\nimport {\n  withScriptjs,\n  withGoogleMap,\n  GoogleMap,\n  Marker,\n} from \"react-google-maps\";\nimport geocoder from '../google-maps/geocoder';\nimport mapTheme from '../map-styling.json'\nimport { CircularProgress } from '@material-ui/core';\n\nconst MapWithAMarker = withScriptjs(\n  withGoogleMap(({ lat, lng }) => (\n    <GoogleMap\n      defaultZoom={15}\n      defaultCenter={{ lat: lat, lng: lng }}\n      defaultOptions={{ styles: mapTheme }}\n    >\n      <Marker position={{ lat: lat, lng: lng }} />\n    </GoogleMap>\n  ))\n);\n\nexport default function ListingMap({placeName, lat, lng, ...props}){\n    return (\n      <>\n        {!lat || !lng ?(\n            <div style={{width: '100%', height: 400, display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\n                <CircularProgress size={100}/>\n            </div>\n        ):(\n          <MapWithAMarker\n            googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyBSHvxwJqoYbeiJTby6ijIkR74Bia1bJ0s&v=3.exp&libraries=geometry,drawing,places\"\n            loadingElement={<div style={{ height: `100%` }} />}\n            containerElement={<div style={{ height: 400 }} />}\n            mapElement={<div style={{ height: `100%` }} />}\n            lat={lat}\n            lng={lng}\n            {...props}\n          />\n        )}{\" \"}\n      </>\n    );\n}","import db from \"../../config/firestoreDb\";\nimport geoListings from '../../config/geofirestore';\nexport default async function getListingById(id){ \n    const res = await geoListings.doc(id).get();\n    if (res.empty) return null;\n    return res.data();\n}","import React, {useState, useEffect, useCallback} from 'react';\nimport MainContentWrapper from './MainContentWrapper';\nimport ContentPaper from './ContentPaper';\nimport ListingHeader from './ListingHeader';\nimport ListingPhotos from './ListingPhotos';\nimport ContactModal from './ContactModal';\nimport {Box, makeStyles, Typography, Link, Chip, \n    Avatar, Divider, List, ListItem, \n    ListItemIcon, ListItemText} from '@material-ui/core';\nimport dateFormatter from '../utils/dateFormatter';\nimport {useParams} from 'react-router-dom';\nimport HotelIcon from \"@material-ui/icons/Hotel\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport BathtubIcon from \"@material-ui/icons/Bathtub\";\nimport WifiIcon from \"@material-ui/icons/Wifi\";\nimport PetsIcon from \"@material-ui/icons/Pets\";\nimport MonetizationOnIcon from \"@material-ui/icons/MonetizationOn\";\nimport GavelIcon from \"@material-ui/icons/Gavel\";\nimport ListingMap from './ListingMap';\nimport LooksIcon from \"@material-ui/icons/Looks\";\nimport getListingById from '../queries/listings/getListingById'\nimport Head from './Head';\n\nconst useStyles = makeStyles((theme) => ({\n  contentWrapper: {\n    display: \"grid\",\n    maxWidth: 1200,\n    gridTemplateColumns: \"2.25fr 1fr\",\n    gridTemplateRows: \"auto auto auto\",\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"flex\",\n      flexDirection: \"column\",\n    },\n  },\n  mainContent: {\n    margin: theme.spacing(1),\n    gridColumn: \"1 / 2\",\n    gridRow: \"1/4\",\n  },\n  availability: {\n    margin: theme.spacing(1),\n    gridColumn: \"2 / 3\",\n    gridRow: \"1/2\",\n  },\n  contactOwner: {\n    margin: theme.spacing(1),\n    gridColumn: \"2 / 3\",\n    gridRow: \"2/3\",\n  },\n  title: {\n    color: theme.palette.primary.dark,\n    fontFamily: theme.typography.special,\n  },\n  chips: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n    display: \"flex\",\n    justifyContent: \"center\",\n  },\n  chip: {\n    backgroundColor: theme.palette.secondary.light,\n    margin: theme.spacing(1),\n    padding: theme.spacing(0.5),\n    [theme.breakpoints.down(\"xs\")]: {\n      margin: theme.spacing(0.25),\n      padding: theme.spacing(0.25),\n      fontSize: theme.typography.fontSize * 0.75,\n    },\n  },\n  listingDescription: {\n    marginTop: theme.spacing(2),\n    paddingLeft: theme.spacing(5),\n    paddingRight: theme.spacing(5),\n  },\n  sectionDivider: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  locationTopContent: {\n    paddingBottom: theme.spacing(1.5),\n  },\n  locationDescription: { \n    marginTop: theme.spacing(1.5)\n  },\n  mapWrapper: {\n    margin: theme.spacing(2),\n    marginTop: theme.spacing(4),\n  },\n  availableNow: {\n    color: theme.palette.secondary.dark,\n    fontFamily: theme.typography.special,\n  },\n  ownerInfo: {\n    display: \"inline-flex\",\n    justifyContent: \"left\",\n    alignItems: \"center\",\n    paddingTop: theme.spacing(2.5),\n    paddingBottom: theme.spacing(2.5),\n    paddingLeft: theme.spacing(1.5),\n  },\n  contactButton: {\n    marginTop: theme.spacing(2),\n    alignSelf: \"center\",\n    justifySelf: \"center\",\n  },\n}));\n\nexport default function ListingPage(){\n\n    const [listing, setListing] = useState({\n      owner: {},\n      additional_imgs: [],\n      location: { geometry: {location: {}}},\n      payment_methods: [],\n    })\n    const [availableNow, setAvailableNow] = useState(false);\n    const classes = useStyles();\n    const {id} = useParams();\n    const overview = listing.shared ? `Room in shared ${listing.type}` : `Whole ${listing.type}`;\n    \n    //make sure goes to top of window on page load\n    useEffect(() => {\n      window.scrollTo(0, 0);\n    }, []);\n\n    const getListing = useCallback(async () => {\n      const listing = await getListingById(id);\n      setListing(listing);\n      let currentTime = new Date();\n      currentTime = currentTime.getTime();\n      const availableFrom = listing.start_date.toMillis();\n      setAvailableNow(availableFrom <= currentTime)\n\n    }, [id])\n\n    useEffect(()=>{\n      getListing()\n    },[getListing])\n\n    return (\n      <>\n        {!!listing.title && (\n          <Head\n            title={listing.title}\n            img={listing.primary_img}\n            description={listing.description || \"\"}\n          />\n        )}\n        <ListingHeader listing={listing} />\n        <MainContentWrapper>\n          <div>\n            <ListingPhotos\n              title={listing.title}\n              primaryImg={listing.primary_img}\n              additionalImgs={listing.additional_imgs}\n            />\n          </div>\n          <main className={classes.contentWrapper}>\n            <section className={classes.mainContent}>\n              <ContentPaper>\n                {listing.title && (\n                  <div>\n                    <Typography\n                      className={classes.title}\n                      component=\"h3\"\n                      variant=\"h5\"\n                      align=\"center\"\n                    >\n                      {overview}\n                    </Typography>\n                    <Box className={classes.chips}>\n                      <Chip\n                        icon={<HotelIcon />}\n                        label={\n                          listing.bedrooms >= 10\n                            ? `${listing.bedrooms}+ bedroom`\n                            : `${listing.bedrooms} bedroom`\n                        }\n                        className={classes.chip}\n                      />\n                      <Chip\n                        icon={<GroupIcon />}\n                        label={\n                          listing.max_guests >= 10\n                            ? `${listing.max_guests}+ guest(s)`\n                            : `${listing.max_guests} guest(s)`\n                        }\n                        className={classes.chip}\n                      />\n                      <Chip\n                        icon={<BathtubIcon />}\n                        label={\n                          listing.bathrooms >= 10\n                            ? `${listing.bathrooms}+ bathroom`\n                            : `${listing.bathrooms} bathroom`\n                        }\n                        className={classes.chip}\n                      />\n                    </Box>\n                  </div>\n                )}\n                {listing.description && (\n                  <>\n                    <div>\n                      <Typography className={classes.listingDescription}>\n                        {listing.description}\n                      </Typography>\n                    </div>\n                  </>\n                )}\n                <Divider className={classes.sectionDivider} />\n                <div>\n                  <Typography\n                    component=\"h2\"\n                    variant=\"h5\"\n                    className={classes.title}\n                  >\n                    Additional Info\n                  </Typography>\n                  <List dense>\n                    {listing.wifi && (\n                      <ListItem>\n                        <ListItemIcon>\n                          <WifiIcon color=\"secondary\" />\n                        </ListItemIcon>\n                        <ListItemText\n                          primary={\n                            <Typography>\n                              <b>Wifi:</b> {listing.wifi_speed} mb/s\n                            </Typography>\n                          }\n                        />\n                      </ListItem>\n                    )}\n                    {listing.wifi && (\n                      <ListItem>\n                        <ListItemIcon>\n                          <WifiIcon color=\"secondary\" />\n                        </ListItemIcon>\n                        <ListItemText\n                          primary={\n                            <Typography>\n                              <b>Wifi:</b> {listing.wifi_speed} mb/s\n                            </Typography>\n                          }\n                        />\n                      </ListItem>\n                    )}\n                    {listing.lgbtq && (\n                      <ListItem>\n                        <ListItemIcon>\n                          <LooksIcon color=\"secondary\" />\n                        </ListItemIcon>\n                        <ListItemText\n                          primary={<Typography>LGBTQ+ Friendly</Typography>}\n                        />\n                      </ListItem>\n                    )}\n                    <ListItem>\n                      <ListItemIcon>\n                        <PetsIcon color=\"secondary\" />\n                      </ListItemIcon>\n                      <ListItemText\n                        primary={\n                          <Typography>\n                            <b>Pets:</b>{\" \"}\n                            {listing.pets && listing.pets.length\n                              ? listing.pets.join(\", \")\n                              : \"None\"}\n                          </Typography>\n                        }\n                      />\n                    </ListItem>\n                    <ListItem>\n                      <ListItemIcon>\n                        <MonetizationOnIcon color=\"secondary\" />\n                      </ListItemIcon>\n                      <ListItemText\n                        primary={\n                          <Typography>\n                            <b>Payment Methods:</b>{\" \"}\n                            {listing.payment_methods &&\n                            listing.payment_methods.length\n                              ? listing.payment_methods.join(\", \")\n                              : \"Discuss with host\"}\n                          </Typography>\n                        }\n                      />\n                    </ListItem>\n                    <ListItem>\n                      <ListItemIcon>\n                        <GavelIcon color=\"secondary\" />\n                      </ListItemIcon>\n                      <ListItemText\n                        primary={\n                          <Typography>\n                            <b>House Rules:</b>{\" \"}\n                            {listing.rules && listing.rules.length\n                              ? listing.rules.join(\", \")\n                              : \"Discuss with host\"}\n                          </Typography>\n                        }\n                      />\n                    </ListItem>\n                  </List>\n                  <Divider className={classes.sectionDivider} />\n                </div>\n                <div>\n                  <div className={classes.locationTopContent}>\n                    <Typography\n                      component=\"h2\"\n                      variant=\"h5\"\n                      className={classes.title}\n                      style={{ paddingRight: \"1.5em\" }}\n                    >\n                      Location\n                    </Typography>\n                    <Typography\n                      component=\"p\"\n                      variant=\"p\"\n                      className={classes.locationDescription}\n                    >\n                      {listing.location_description}\n                    </Typography>\n                  </div>\n                  <div>\n                    <div className={classes.mapWrapper}>\n                      <ListingMap\n                        placeName={listing.location.description}\n                        lat={\n                          listing.location.geometry\n                            ? listing.location.geometry.location.lat\n                            : null\n                        }\n                        lng={\n                          listing.location.geometry\n                            ? listing.location.geometry.location.lng\n                            : null\n                        }\n                      />\n                    </div>\n                  </div>\n                </div>\n              </ContentPaper>\n            </section>\n            <section className={classes.availability}>\n              {/* TODO: FIX THIS uP WITH DATES */}\n              <ContentPaper>\n                <Typography\n                  component=\"h2\"\n                  variant=\"h5\"\n                  className={classes.title}\n                >\n                  Availability\n                </Typography>\n                <List dense={true}>\n                  <ListItem>\n                    <ListItemText\n                      primary={\n                        <>\n                          <>\n                            {listing.start_date && availableNow && (\n                              <Typography\n                                className={classes.availableNow}\n                                align=\"center\"\n                                variant=\"h6\"\n                              >\n                                Available Now!\n                              </Typography>\n                            )}\n                          </>\n                          <>\n                            {listing.start_date && !availableNow && (\n                              <Typography align=\"center\">\n                                <b>Available from:</b>{\" \"}\n                                {dateFormatter(listing.start_date)}\n                              </Typography>\n                            )}\n                          </>\n                        </>\n                      }\n                    />\n                  </ListItem>\n                  <ListItem>\n                    <ListItemText\n                      primary={\n                        <>\n                          {listing.end_date ? (\n                            <Typography align=\"center\">\n                              <b>Available until:</b>{\" \"}\n                              {dateFormatter(listing.end_date)}\n                            </Typography>\n                          ) : (\n                            <Typography align=\"center\">\n                              No specified end date\n                            </Typography>\n                          )}\n                        </>\n                      }\n                    />\n                  </ListItem>\n                </List>\n              </ContentPaper>\n            </section>\n            <section className={classes.contactOwner}>\n              <ContentPaper>\n                <Typography\n                  component=\"h3\"\n                  variant=\"h5\"\n                  className={classes.title}\n                  style={{ textAlign: \"center\" }}\n                >\n                  Owner Info\n                </Typography>\n                <div className={classes.ownerInfo}>\n                  <Avatar\n                    src={listing.owner.profile_picture}\n                    alt={`${listing.owner.first_name} ${listing.owner.last_name}`}\n                    style={{ marginRight: 5, display: \"inline-block\" }}\n                  />\n                  Listing by{\" \"}\n                  <Link\n                    href={`/users/${listing.owner.username}`}\n                    style={{ marginLeft: 5 }}\n                  >\n                    {`${listing.owner.first_name} ${listing.owner.last_name}`}\n                  </Link>\n                </div>\n                <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n                  <ContactModal\n                    username={listing.owner.username}\n                    className={classes.contactButton}\n                  />\n                </div>\n              </ContentPaper>\n            </section>\n          </main>\n        </MainContentWrapper>\n      </>\n    );\n}","import geoListings from '../../config/geofirestore';\nimport firebase from 'firebase';\nimport dateStringToObj from '../../utils/dateStringToObj';\nconst { map } = require(\"p-iteration\");\n\nexport default async function getNearbyListings(lat, lng, kmDistance, hometype, startDate){\n    const query = geoListings.near({\n      center: new firebase.firestore.GeoPoint(lat, lng),\n      radius: kmDistance || 15,\n    });\n\n    const res = await query.get();\n    const resDocs = res.docs;\n\n    let results = await map(resDocs, doc => doc.data());\n    if (hometype && hometype.toLowerCase() !== \"everything\") {\n      results = results.filter(\n        (result) => result.type === hometype.toLowerCase()\n      );\n    }\n\n    return {results}\n    \n\n    \n}","import React, {useState, useEffect} from 'react';\nimport ContentPaper from './ContentPaper';\nimport {makeStyles, Typography, Divider, CircularProgress, Link} from '@material-ui/core';\nimport getNearbyListings from '../queries/listings/getNearbyListings';\nimport emptyVoid from \"../vector-icons/green/empty-void.svg\";\nimport Listings from './Listings';\n import dateFormatter from '../utils/dateFormatter';\nconst useStyles = makeStyles((theme) => ({\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n    paddingTop: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n  },\n  searchResultsWrapper: {\n    minWidth: \"70vw\",\n  },\n  sectionDivider: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  resultsWrapper: {\n    minHeight: \"60vh\",\n  },\n  progressWrapper: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    marginTop: theme.spacing(8),\n    marginBottom: theme.spacing(8),\n  },\n  noResultsImgWrapper: {\n    display: \"flex\",\n    width: \"100%\",\n    JustifyContent: \"center\",\n    alignItems: \"center\",\n    paddingTop: theme.spacing(5),\n    paddingBottom: theme.spacing(5),\n  },\n  noResultsImg: {\n    maxWidth: 300,\n    display: \"inline-block\",\n    margin: \"0 auto\",\n  },\n  demoSearch: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n}));\n\nconst demoSearch =\n  \"/search?lat=40.7127753&lng=-74.0059728&query=New%20York,%20NY,%20USA&startDate=&homeType=\";\n\nexport default function SearchResults({locationDescription, lat, lng, hometype, startDate, searchRadiusKm}){\n    const classes = useStyles();\n    const [listings, setListings] = useState([]);\n    const [loading, setLoading] = useState(true);\n\n    const getAndSetListings = async () => {\n        const res = await getNearbyListings(lat, lng, searchRadiusKm, hometype, startDate);\n        setListings(res.results);\n        setLoading(false);\n    }\n    useEffect(()=>{\n        if(locationDescription) (async () => getAndSetListings())()\n    }, [locationDescription])\n\n    return (\n      <div>\n        <ContentPaper>\n          <div className={classes.searchResultsWrapper}>\n            <Typography component=\"h1\" variant=\"h4\" className={classes.title}>\n              Search results for: {locationDescription}\n            </Typography>\n            {startDate && (\n              <Typography>\n                <b>Start Date: </b>\n                {dateFormatter(startDate)}\n              </Typography>\n            )}\n            {hometype && (\n              <Typography>\n                <b>Home type: </b>\n                {hometype}\n              </Typography>\n            )}\n            <Divider className={classes.sectionDivider} />\n            <section className={classes.resultsWrapper}>\n              {loading && (\n                <div className={classes.progressWrapper}>\n                  <CircularProgress size={100} color=\"primary\" />\n                </div>\n              )}\n              {!loading ? (\n                !!listings.length ? (\n                  <Listings listings={listings} />\n                ) : (\n                  <div>\n                    <Typography\n                      component=\"p\"\n                      variant=\"h5\"\n                      className={classes.title}\n                      align=\"center\"\n                    >\n                      We got nothing.\n                    </Typography>\n                    <Typography color=\"textSecondary\" align=\"center\">\n                      No listings match your search parameters. Please try\n                      another search.\n                    </Typography>\n                    <Typography align=\"center\" className={classes.demoSearch}>\n                      Don't know where to start? Try{\" \"}\n                      <Link href={demoSearch}>New York, NY</Link>\n                    </Typography>\n                    <div className={classes.noResultsImgWrapper}>\n                      <img\n                        src={emptyVoid}\n                        alt={\"man staring into an empty void\"}\n                        className={classes.noResultsImg}\n                      />\n                    </div>\n                  </div>\n                )\n              ) : null}\n            </section>\n          </div>\n        </ContentPaper>\n      </div>\n    );\n}","import React, {useState} from 'react';\nimport SearchBar from './SearchBar';\nimport {makeStyles, Typography, Link} from '@material-ui/core';\nimport queryString from \"query-string\";\nimport dateStringToObj from '../utils/dateStringToObj';\nimport MainContentWrapper from './MainContentWrapper';\nimport SearchResults from './SearchResults';\nimport locationSearch from \"../vector-icons/green/location-search.svg\";\nimport ContentPaper from './ContentPaper';\n\nconst useStyles = makeStyles((theme) => ({\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(4),\n  },\n  noQuery: {\n    minWidth: \"70vw\",\n    minHeight: \"70vh\",\n  },\n  searchImgWrapper: {\n    display: \"flex\",\n    width: \"100%\",\n    JustifyContent: \"center\",\n    alignItems: \"center\",\n    paddingTop: theme.spacing(5),\n    paddingBottom: theme.spacing(5),\n  },\n  searchImg: {\n    maxWidth: 300,\n    display: \"inline-block\",\n    margin: \"0 auto\",\n  },\n  demoSearch: {\n    // marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n}));\n\nconst demoSearch =\n  \"/search?lat=40.7127753&lng=-74.0059728&query=New%20York,%20NY,%20USA&startDate=&homeType=\";\n\nexport default function SearchResultsPage(props){\n    const classes = useStyles();\n    const parsed = queryString.parse(window.location.search);\n\n    const [query, setQuery] = useState({\n        description: parsed.query,\n        lat: parseFloat(parsed.lat),\n        lng: parseFloat(parsed.lng),\n        hometype: parsed.homeType,\n        startDate: (parsed.homeType ? dateStringToObj(parsed.startDate) : \"\"),\n        searchRadiusKm: parsed.searchRadius || 15,\n    });\n    const [rerender, setRerender] = useState(Date.now())\n\n    const refreshResults = (queryObj) => {\n        setQuery(queryObj);\n        setRerender(Date.now());\n    }\n    return (\n      <div>\n        <MainContentWrapper>\n          <SearchBar setSearchResults={refreshResults} />\n          {!query.description && (\n            <ContentPaper>\n              <div className={classes.noQuery}>\n                <Typography\n                  variant=\"h4\"\n                  className={classes.title}\n                  align=\"center\"\n                >\n                  Get searching!\n                </Typography>\n                <Typography align=\"center\" className={classes.demoSearch}>\n                  Don't know where to start? Try{\" \"}\n                  <Link href={demoSearch}>New York, NY</Link>\n                </Typography>\n                <div className={classes.searchImgWrapper}>\n                  <img\n                    src={locationSearch}\n                    alt={\"woman looking at galaxy with phone vector art\"}\n                    className={classes.searchImg}\n                  />\n                </div>\n              </div>\n            </ContentPaper>\n          )}\n          {query.description && !!rerender && (\n            <SearchResults\n              locationDescription={query.description}\n              lat={query.lat}\n              lng={query.lng}\n              searchRadiusKm={query.searchRadiusKm}\n              startDate={query.startDate}\n              hometype={query.hometype}\n            />\n          )}\n        </MainContentWrapper>\n      </div>\n    );\n}","import dateParse from \"date-fns/parse\";\n\nexport default function dateStringToObj(dateStr){\n    return dateParse(dateStr, \"yyyy-MM-dd\", new Date());\n}","import React from 'react';\nimport MainContentWrapper from './MainContentWrapper';\nimport ContentPaper from './ContentPaper';\nimport LogIn from './LogIn';\n\n\nexport default function LoginPage(){\n\n\n    return (\n      <MainContentWrapper>\n        <ContentPaper style={{ margin: \"2em .5em 5em\" }}>\n          <div\n            style={{ minHeight: \"65vh\", display: \"flex\", alignItems: \"center\", padding: '1em' }}\n          >\n            <LogIn />\n          </div>\n        </ContentPaper>\n      </MainContentWrapper>\n    );\n}","\nimport format from \"date-fns/format\";\n\nexport default function fbDateToHtmlStr(fbDate) {\n    if(fbDate){\n        const jsDate = fbDate.toDate();\n        const dateStr = format(jsDate, \"yyyy-MM-dd\");\n        return dateStr;\n    } \n    return \"\";\n    \n}","import db from \"../../config/firestoreDb\";\nimport firebase from \"firebase\";\nimport geoListings from \"../../config/geofirestore\";\n\nexport default async function postListing(listing, setRes) {\n  const {\n    title,\n    id,\n    type,\n    description,\n    active,\n    price,\n    start_date,\n    end_date,\n    location,\n    location_description,\n    shared,\n    roommates,\n    bedrooms,\n    bathrooms,\n    max_guests,\n    wifi_speed,\n    rules,\n    pets,\n    lgbtq,\n    living_with_host,\n    primary_img,\n    additional_imgs,\n    payment_methods,\n  } = listing;\n  if (\n    !title ||\n    !location ||\n    !type ||\n    !start_date ||\n    !bedrooms ||\n    !bathrooms ||\n    !max_guests ||\n    !primary_img\n  ) {\n    setRes({\n      message: {\n        type: \"error\",\n        content: \"Missing one or more required fields.\",\n      },\n    });\n    return;\n  }\n\n  let timestamp = new Date();\n  let coordinates;\n  if (location.geometry) {\n    debugger;\n    const { lat, lng } = location.geometry.location;\n    coordinates = new firebase.firestore.GeoPoint(lat, lng);\n  }\n\n  const newListing = {\n    title,\n    id,\n    type,\n    active,\n    price,\n    start_date,\n    end_date,\n    location,\n    description,\n    location_description,\n    shared,\n    roommates,\n    bedrooms,\n    bathrooms,\n    max_guests,\n    wifi_speed,\n    rules,\n    pets,\n    lgbtq,\n    living_with_host,\n    created_at: timestamp,\n    updated_at: timestamp,\n    primary_img,\n    coordinates,\n    additional_imgs,\n    payment_methods,\n  };\n  const unsubscribe = firebase.auth().onAuthStateChanged(async function (user) {\n    if (user) {\n      const uid = firebase.auth().currentUser.uid;\n      let user = await db.collection(\"users\").doc(uid).get();\n      user = user.data();\n      const owner = {\n        first_name: user.first_name,\n        last_name: user.last_name,\n        profile_picture: user.profile_picture,\n        uid: user.uid,\n        username: user.username,\n      };\n      newListing.owner = owner;\n\n      try {\n        const res = await geoListings.doc(id).update(newListing);\n        setRes({\n          message: {\n            type: \"success\",\n            content: \"Your Listing has been successfully updated.\",\n          },\n          redirectId: id,\n        });\n      } catch (err) {\n        console.error(err);\n        return {\n          message: {\n            type: \"error\",\n            content:\n              \"There was an error updating your listing. Please try again later.\",\n          },\n        };\n      }\n    }\n  });\n}\n","import React, {useState, useEffect} from \"react\";\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles, Link, Typography, CircularProgress, Button as MuiButton} from \"@material-ui/core\";\nimport Button from './Button';\nimport Modal from \"@material-ui/core/Modal\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport red from \"@material-ui/core/colors/red\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport deleteListing from '../queries/listings/deleteListing';\nconst useStyles = makeStyles((theme) => ({\n  modalContent: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    top: `50%`,\n    left: `50%`,\n    transform: `translate(-50%, -50%)`,\n    outlineColor: theme.palette.secondary.light,\n  },\n  buttonWrapper: {\n    display: 'flex',\n    justifyContent: 'center',\n    marginTop: theme.spacing(1.5),\n    marginBottom: theme.spacing(1.5),\n  },\n  deleteButton: {\n    marginRight: theme.spacing(2),\n    fontFamily: theme.typography.special,\n    color: red[500],\n    cursor: \"pointer\",\n    display: 'inline-flex',\n    alignItems: 'center',\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n    marginBottom: theme.spacing(2)\n  },\n  progress: {\n      display: 'flex',\n      justifyContent: 'center',\n  }\n}));\n\nexport default function DeleteListingModal({listing}) {\n  const classes = useStyles();\n  const history = useHistory();\n  const [open, setOpen] = useState(false);\n  const [res, setRes] = useState({message: {}})\n  const [mainContent, setMainContent] = useState(\"START\")\n\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleDelete = async () => {\n    setMainContent(\"LOADING\");\n    await deleteListing(listing.id, setRes);\n    setTimeout(()=>{\n        history.push('/profile');\n    }, 3000)\n  }\n\n  useEffect(()=>{\n    if(res.message.type === \"success\"){\n\n    }\n  },[res.message])\n\n\n\n  return (\n    <>\n      <MuiButton className={classes.deleteButton} onClick={handleOpen}>        \n          <DeleteIcon />{\"  \"}Delete Listing\n      </MuiButton>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"delete listing\"\n        aria-describedby=\"delete your listing here\"\n        disableAutoFocus={true}\n      >\n        <div className={classes.modalContent}>\n          <div>\n            <CloseIcon onClick={handleClose} />\n          </div>\n          <Typography component=\"h4\" variant=\"h4\" align=\"center\" className={classes.title} color=\"primary\">\n            Delete Listing\n          </Typography>\n          {mainContent === \"START\" && !res.message.type && (\n            <div>\n              <Typography>\n                <b>Warning:</b> Deletion of listings is permanent, and once you\n                click delete below, you won't be able to recover the listing.\n              </Typography>\n              <div className={classes.buttonWrapper}>\n                <Button onClick={handleDelete}>Delete</Button>\n              </div>\n            </div>\n          )}\n          {mainContent === \"LOADING\" && !res.message.type && (\n            <div className={classes.progress}>\n              <CircularProgress size={100} />\n              <p>Deleting your listing...</p>\n            </div>\n          )}\n          {res.message.type && (\n            <div>\n              <Typography>\n                {res.message.content} You'll be redirected to your profile in a\n                moment.\n              </Typography>\n            </div>\n          )}\n        </div>\n      </Modal>\n    </>\n  );\n}\n","import React, { useState, useEffect, useCallback, useContext } from \"react\";\nimport useInput from \"../utils/useInputHook\";\nimport MainContentWrapper from \"./MainContentWrapper\";\nimport logo from \"../theme/logo-big.webp\";\nimport dateParse from \"date-fns/parse\";\nimport {\n  makeStyles,\n  TextField,\n  Typography,\n  Button,\n  Divider,\n  FormGroup,\n  InputAdornment,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport WifiIcon from \"@material-ui/icons/Wifi\";\nimport format from \"date-fns/format\";\nimport { useParams, useHistory, Redirect } from \"react-router-dom\";\nimport Snackbar from \"./Snackbar\";\nimport Checkbox from \"./Checkbox\";\nimport DateSelector from \"./DateSelector\";\nimport RadioGroup from \"./RadioGroup\";\nimport SelectOption from \"./SelectOption\";\nimport ContentPaper from \"./ContentPaper\";\nimport GoogleMapsAutoComplete from \"./GoogleMapsSearchBox\";\nimport SelectMultiple from \"./SelectMultiple\";\nimport hometypes from \"../hometypes.json\";\nimport postListingToDb from \"../queries/listings/postListing\";\nimport UploadOneImage from \"./UploadOneImage\";\nimport UploadManyImgs from \"./UploadManyImages\";\nimport getListing from '../queries/listings/getListingById';\nimport fBdateToHtmlString from '../utils/dateFbToHTML';\nimport context from './Context';\nimport updateListingToDb from '../queries/listings/updateListing';\nimport DeleteListingModal from \"./DeleteListingModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  titleLogoWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    paddingBottom: theme.spacing(2),\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.main,\n    paddingBottom: theme.spacing(1.5),\n  },\n  logo: {\n    width: 50,\n    paddingBottom: theme.spacing(1),\n  },\n  progressWrapper: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    marginTop: theme.spacing(8),\n    marginBottom: theme.spacing(8),\n    minWidth: 450,\n    [theme.breakpoints.down('sm')]: {\n        maxWidth: '100%',\n    }\n\n  },\n  form: {\n    padding: theme.spacing(1),\n    maxWidth: 750,\n  },\n  textInput: {\n    width: 300,\n    margin: \".5rem 0\",\n  },\n  sectionDivider: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  buttonWrapper: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  uploadOneImageWrapper: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    flexDirection: 'column',\n    alignItems: 'center',\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n  },\n  currentPrimaryImg: {\n      display: 'block',\n      paddingBottom: theme.spacing(2)\n  },\n  primaryImg: { \n    maxWidth: 250,\n  },\n  submitButton: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    marginLeft: theme.spacing(5),\n    marginRight: theme.spacing(5),\n    fontFamily: theme.typography.special,\n    width: \"100%\",\n    padding: theme.spacing(1.5),\n    fontSize: theme.typography.fontSize * 2,\n  },\n}));\n\nlet todayStr = format(Date.now(), \"y-MM-d\");\nconst oneToTenOptions = [\n  { value: 1, label: \"1\" },\n  { value: 2, label: \"2\" },\n  { value: 3, label: \"3\" },\n  { value: 4, label: \"4\" },\n  { value: 5, label: \"5\" },\n  { value: 6, label: \"6\" },\n  { value: 7, label: \"7\" },\n  { value: 8, label: \"8\" },\n  { value: 9, label: \"9\" },\n  { value: 10, label: \"10+\" },\n];\n\nexport default function CreateListing() {\n  const classes = useStyles();\n  const {id} = useParams();\n  const history = useHistory();\n  const {user: {uid}} = useContext(context);\n\n  const [snackbar, setSnackbar] = useState({\n    msg: null,\n    severity: null,\n  });\n\n  const [title, setTitle] = useState(\"\");\n  const [type, setType] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [publish_now, setPublishNow] = useState(null);\n  const [description, setDescription] = useState(\"\");\n  const [start_date, setStartDate] = useState(null);\n  const [end_date, setEndDate] = useState(null);\n  const [location, setLocation] = useState({});\n  const [location_description, setLocationDescription] = useState(\"\");\n  const [shared, setShared] = useState(null);\n  const [living_with_host, setLivingWithHost] = useState(null);\n  const [roommates, setRoommates] = useState(\"\");\n  const [bedrooms, setBedrooms] = useState(\"\");\n  const [bathrooms, setBathrooms] = useState(\"\");\n  const [max_guests, setMaxGuests] = useState(\"\");\n  const [wifi_speed, setWifiSpeed] = useState(\"\");\n  const [rules, setRules] = useState([]);\n  const [pets, setPets] = useState([]);\n  const [payment_methods, setPaymentMethods] = useState([]);\n  const [lgbtq, setLgbtq] = useState(null);\n  const [primary_img, setPrimaryImage] = useState(null);\n  const [additional_imgs, setAdditionalImages] = useState(null);\n  const [disableSubmit, setDisableSubmit] = useState(false);\n  const [resMsg, setResMsg] = useState(null);\n  const [listing, setListing] = useState({});\n\n  useEffect( ()=>{\n    (async () => {\n    if(uid){\n      const listing = await getListing(id);\n        if (listing.owner.uid !== uid) {\n\n          // setRedirect(`/listings/${listing.id}`);\n          history.push(`/listings/${listing.id}`);\n          return;\n        }\n        const {title, type, description, active, price, start_date, end_date, location, \n                        location_description, shared, roommates, bedrooms, bathrooms,\n                        max_guests, wifi_speed, rules, pets, lgbtq, living_with_host, primary_img,\n                        additional_imgs, payment_methods,\n                      } = listing;\n        setListing(listing)\n        setTitle(title);\n        setDisableSubmit(id)\n        setType(type);\n        setDescription(description);\n        setPublishNow(active);\n        setPrice(price);\n        setStartDate(fBdateToHtmlString(start_date));\n        setEndDate(fBdateToHtmlString(end_date)); \n        setLocation(location);\n        setLocationDescription(location_description);\n        setShared(shared);\n        setRoommates(roommates);\n        setBedrooms(bedrooms);\n        setBathrooms(bathrooms);\n        setMaxGuests(max_guests);\n        setWifiSpeed(wifi_speed);\n        setRules(rules);\n        setPets(pets);\n        setLgbtq(lgbtq);\n        setLivingWithHost(living_with_host);\n        setPrimaryImage(primary_img);\n        setAdditionalImages(additional_imgs);\n        setPaymentMethods(payment_methods);\n    }  \n    })();\n  },[uid, id])\n  const updateListing = async (e) => {\n    e.preventDefault();\n    if (!shared) {\n      setLivingWithHost(false);\n      setRoommates(\"\");\n    }\n    const priceInt = parseInt(price);\n    const bathroomsInt = parseInt(bathrooms);\n    const bedroomsInt = parseInt(bedrooms);\n    const maxGuestsInt = parseInt(max_guests);\n    let roommatesInt = \"\";\n    if (roommates) roommatesInt = parseInt(roommates);\n    let wifiInt = \"\";\n    if (wifi_speed.value) wifiInt = parseInt(wifi_speed);\n\n    //TODO add data converters\n    const startDateObj = dateParse(start_date, \"yyyy-MM-dd\", new Date());\n    let endDate = \"\";\n    if (end_date) {\n      endDate = dateParse(end_date, \"yyyy-MM-dd\", new Date());\n    }\n\n    const listing = {\n      title: title,\n      type,\n      price: priceInt,\n      active: publish_now,\n      start_date: startDateObj,\n      end_date: endDate,\n      description: description,\n      location,\n      location_description: location_description,\n      shared,\n      roommates: roommatesInt,\n      living_with_host,\n      bedrooms: bedroomsInt,\n      bathrooms: bathroomsInt,\n      max_guests: maxGuestsInt,\n      wifi_speed: wifiInt,\n      rules,\n      pets,\n      lgbtq,\n      primary_img,\n      additional_imgs,\n      payment_methods,\n      id\n    };\n    await updateListingToDb(listing, setResMsg);\n  };\n\n  return (\n    <>\n      {/* <>\n        {redirect && (\n          <div>\n            {\" \"}\n            <Redirect to={redirect} />{\" \"}\n          </div>\n        )}\n      </> */}\n      <>\n        {resMsg && resMsg.message.type === \"success\" && (\n          <div>\n            <Redirect to={`/listings/${resMsg.redirectId}`} />\n          </div>\n        )}\n      </>\n      <>\n        {resMsg && (\n          <>\n            <Snackbar\n              msgSeverity={resMsg.message.type}\n              msg={resMsg.message.content}\n              onClose={() => setResMsg(null)}\n            />\n          </>\n        )}\n      </>\n\n      <MainContentWrapper>\n        <ContentPaper>\n          <div className={classes.titleLogoWrapper}>\n            <img src={logo} alt=\"aCasa logo\" className={classes.logo} />\n            <Typography\n              variant=\"h4\"\n              component=\"h3\"\n              color=\"primary\"\n              align=\"center\"\n              className={classes.title}\n            >\n              Update Listing\n            </Typography>\n          </div>\n          {!title ? (\n            <div className={classes.progressWrapper}>\n              <CircularProgress size={100} color=\"primary\" />\n            </div>\n          ) : (\n            <form className={classes.form} noValidate onSubmit={updateListing}>\n              <div className={classes.primaryInfo}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Basic Information\n                </Typography>\n                <div>\n                  <TextField\n                    name=\"title\"\n                    label=\"Listing Title\"\n                    color=\"secondary\"\n                    defaultValue={title}\n                    onChange={(e) => setTitle(e.target.value)}\n                    className={classes.textInput}\n                    required\n                  />\n                </div>\n                <div>\n                  <SelectOption\n                    required={true}\n                    labelText={\"Property Type\"}\n                    name=\"type\"\n                    options={hometypes}\n                    formSetter={setType}\n                    defaultValue={type}\n                  />\n                </div>\n                <div>\n                  {price && (\n                    <TextField\n                      name=\"price\"\n                      type=\"number\"\n                      label=\"Price per Month in Dollars\"\n                      color=\"secondary\"\n                      className={classes.textInput}\n                      defaultValue={price}\n                      onChange={(e) => setPrice(e.target.value)}\n                      InputProps={{\n                        startAdornment: (\n                          <InputAdornment position=\"start\">$</InputAdornment>\n                        ),\n                      }}\n                      required\n                      helperText=\"NOTE: You can negotiate price with guests once they've contacted you. \"\n                    />\n                  )}\n                </div>\n                <div>\n                  {publish_now !== null && (\n                    <RadioGroup\n                      formLabel=\"Publish Now *\"\n                      ariaLabel=\"publish listing publicly\"\n                      name=\"active\"\n                      required={true}\n                      defaultValue={JSON.stringify(publish_now)}\n                      formSetter={setPublishNow}\n                      className={classes.textInput}\n                      options={[\n                        { value: \"true\", label: \"Yes\" },\n                        { value: \"false\", label: \"Not Right Now\" },\n                      ]}\n                    />\n                  )}\n                </div>\n                <div>\n                  <TextField\n                    name=\"description\"\n                    label=\"Property Description\"\n                    defaultValue={description}\n                    onChange={(e) => setDescription(e.target.value)}\n                    multiline\n                    rows={4}\n                    color=\"secondary\"\n                    style={{ width: \"100%\" }}\n                  />\n                </div>\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.dates}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Dates\n                </Typography>\n                {start_date && (\n                  <DateSelector\n                    className={classes.textInput}\n                    labelText=\"Start Date\"\n                    defaultValue={start_date}\n                    required={true}\n                    formSetter={setStartDate}\n                  />\n                )}\n                {end_date !== null && (\n                  <DateSelector\n                    className={classes.textInput}\n                    defaultValue={end_date}\n                    labelText=\"End Date\"\n                    disablePast={true}\n                    required={false}\n                    helperText=\"Only include if there is a fixed end date for the availability\"\n                    formSetter={setEndDate}\n                  />\n                )}\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.location}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Location\n                </Typography>\n                {location.description && (\n                  <div style={{ paddingTop: \".5em\", paddingBottom: \".5em\" }}>\n                    <Typography>\n                      <b>Your current location is: </b> {location.description}\n                    </Typography>\n                  </div>\n                )}\n                <GoogleMapsAutoComplete\n                  variant=\"standard\"\n                  label=\"Location\"\n                  name=\"location\"\n                  required\n                  formSetter={setLocation}\n                  className={classes.textInput}\n                />\n                <TextField\n                  name=\"location_description\"\n                  label=\"Location Description\"\n                  multiline\n                  defaultValue={location_description}\n                  onChange={(e) => setLocationDescription(e.target.value)}\n                  rows={4}\n                  color=\"secondary\"\n                  style={{ width: \"100%\" }}\n                />\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.dates}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Occupancy\n                </Typography>\n                <div>\n                  {shared !== null && (\n                    <RadioGroup\n                      formLabel=\"Shared *\"\n                      ariaLabel=\"apartment is shared option\"\n                      name=\"shared\"\n                      required={true}\n                      defaultValue={JSON.stringify(shared)}\n                      className={classes.textInput}\n                      formSetter={setShared}\n                      options={[\n                        { value: \"true\", label: \"Yes\" },\n                        { value: \"false\", label: \"No\" },\n                      ]}\n                    />\n                  )}\n                </div>\n                {shared === true && (\n                  <FormGroup\n                    row\n                    style={{ display: \"flex\", alignItems: \"center\" }}\n                  >\n                    <div>\n                      <SelectOption\n                        required={true}\n                        labelText={\"Roommates\"}\n                        name=\"roommates\"\n                        defaultValue={roommates}\n                        formSetter={setRoommates}\n                        options={oneToTenOptions}\n                        className={classes.textInput}\n                      />\n                    </div>\n                    <div>\n                      {living_with_host !== null && (\n                        <Checkbox\n                          label={\"Living with Host\"}\n                          name=\"living_with_host\"\n                          formSetter={setLivingWithHost}\n                          className={classes.textInput}\n                          defaultValue={living_with_host}\n                        />\n                      )}\n                    </div>\n                  </FormGroup>\n                )}\n                <FormGroup row>\n                  <div>\n                    <SelectOption\n                      required={true}\n                      labelText={\"Bedrooms\"}\n                      name=\"bedrooms\"\n                      formSetter={setBedrooms}\n                      options={oneToTenOptions}\n                      defaultValue={bedrooms}\n                    />\n                  </div>\n                  <div>\n                    <SelectOption\n                      required={true}\n                      labelText={\"Bathrooms\"}\n                      name=\"bathrooms\"\n                      formSetter={setBathrooms}\n                      options={oneToTenOptions}\n                      defaultValue={bathrooms}\n                    />\n                  </div>\n                  <div>\n                    <SelectOption\n                      required={true}\n                      labelText={\"Max Guests\"}\n                      name=\"max_guests\"\n                      formSetter={setMaxGuests}\n                      options={oneToTenOptions}\n                      defaultValue={max_guests}\n                    />\n                  </div>\n                </FormGroup>\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.contact}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Additional Information\n                </Typography>\n                <Typography variant=\"p\" component=\"p\" color=\"textSecondary\">\n                  It is highly recommended to include the following information\n                  to make your listing stand out and be more searchable.\n                </Typography>\n                <FormGroup row>\n                  <div>\n                    {wifi_speed && (\n                      <TextField\n                        name=\"wifi_speed\"\n                        type=\"number\"\n                        label=\"Wifi speed (Mbps)\"\n                        color=\"secondary\"\n                        InputProps={{\n                          startAdornment: (\n                            <InputAdornment position=\"start\">\n                              <WifiIcon color=\"secondary\" />\n                            </InputAdornment>\n                          ),\n                        }}\n                        className={classes.textInput}\n                        defaultValue={wifi_speed}\n                        onChange={wifi_speed.onChange}\n                      />\n                    )}\n                  </div>\n                  <div>\n                    <SelectMultiple\n                      options={[\n                        \"Quiet after 10 PM\",\n                        \"No parties\",\n                        \"No overnight guests\",\n                        \"No smoking\",\n                      ]}\n                      label=\"House Rules\"\n                      formSetter={setRules}\n                      defaultValue={rules}\n                    />\n                  </div>\n                </FormGroup>\n                <FormGroup\n                  row\n                  style={{ display: \"flex\", alignItems: \"center\" }}\n                >\n                  <div>\n                    <SelectMultiple\n                      options={[\n                        \"Cats\",\n                        \"Dogs\",\n                        \"Fish\",\n                        \"Guinea Pigs\",\n                        \"Hamsters\",\n                        \"Insects\",\n                        \"Rabbits\",\n                        \"Reptiles\",\n                      ]}\n                      label=\"Pets\"\n                      formSetter={setPets}\n                      defaultValue={pets}\n                    />\n                  </div>\n                  <div>\n                    <SelectMultiple\n                      options={[\n                        \"Bank Transfer\",\n                        \"Cash\",\n                        \"Card\",\n                        \"Cheque\",\n                        \"Cryptocurrency\",\n                        \"Other (discuss with host)\",\n                      ]}\n                      label=\"Payment Methods\"\n                      formSetter={setPaymentMethods}\n                      defaultValue={payment_methods}\n                    />\n                  </div>\n                  <div style={{ paddingTop: 12 }}>\n                    {lgbtq !== null && (\n                      <Checkbox\n                        label={\"LGBTQ+ Friendly\"}\n                        name=\"lgbtq\"\n                        formSetter={setLgbtq}\n                        defaultValue={lgbtq}\n                      />\n                    )}\n                  </div>\n                </FormGroup>\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.images}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                  style={{ paddingBottom: \".5em\" }}\n                >\n                  Images\n                </Typography>\n                <div>\n                  <Typography component=\"h4\" variant=\"h6\">\n                    Select the listing's primary image\n                  </Typography>\n                  <Typography color=\"textSecondary\">\n                    This will be featured prominently throughout the site, so\n                    make you it's a picture you really like!\n                  </Typography>\n                  <div className={classes.uploadOneImageWrapper}>\n                    {primary_img && (\n                      <>\n                        <div className={classes.currentPrimaryImg}>\n                          <Typography component=\"p\" variant=\"h6\" align=\"center\">\n                            Current Primary Image\n                          </Typography>\n                          <img\n                            src={primary_img}\n                            alt={primary_img}\n                            className={classes.primaryImg}\n                          />\n                        </div>\n                        <UploadOneImage\n                          formSetter={setPrimaryImage}\n                          required={true}\n                        />\n                      </>\n                    )}\n                  </div>\n                </div>\n                <div>\n                  <Typography component=\"h4\" variant=\"h6\">\n                    Select additional images\n                  </Typography>\n                  <Typography color=\"textSecondary\">\n                    <b>NOTE:</b> at this time you can only bulk add photos, so\n                    if you want to keep your current photos and add others, you\n                    need to add them again.\n                  </Typography>\n                  {additional_imgs !== null && (\n                    <UploadManyImgs\n                      formSetter={setAdditionalImages}\n                      defaultImages={additional_imgs}\n                    />\n                  )}\n                </div>\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.buttonWrapper}>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  className={classes.submitButton}\n                  type=\"submit\"\n                >\n                  Update Listing!\n                </Button>\n              </div>\n              {listing.title && <DeleteListingModal listing={listing} />}\n            </form>\n          )}\n        </ContentPaper>\n      </MainContentWrapper>\n    </>\n  );\n}\n","import React, {useState} from \"react\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport {makeStyles, Typography} from '@material-ui/core';\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport InboxIcon from \"@material-ui/icons/Inbox\";\nimport WebIcon from \"@material-ui/icons/Web\";\nimport Link from \"@material-ui/core/Link\";\nimport LinkedInIcon from \"@material-ui/icons/LinkedIn\";\nimport GitHubIcon from \"@material-ui/icons/GitHub\";\nimport TwitterIcon from \"@material-ui/icons/Twitter\";\n\nconst useStyles = makeStyles((theme) => ({\n  contentWrapper: {\n    width: 450,\n    [theme.breakpoints.down(\"xs\")]: {\n      width: \"92%\",\n    },\n  },\n  bitmojiButton: {\n    backgroundImage: `url(${process.env.PUBLIC_URL}/assets/img/bitmoji-neutral.png)`,\n    backgroundSize: \"cover\",\n    backgroundRepeat: \"no-repeat\",\n    backgroundPosition: \"center\",\n    height: 66,\n    width: 50,\n    position: \"fixed\",\n    bottom: 10,\n    left: 15,\n    zIndex: 25,\n    cursor: 'pointer',\n    \"&:hover\": {\n      backgroundImage: `url(${process.env.PUBLIC_URL}/assets/img/bitmoji-smile.png)`,\n    },\n  },\n  precache: {\n    position: \"absolute\",\n    bottom: 0,\n    left: 0,\n    opacity: 0.1,\n    width: 2,\n  },\n  imgWrapper: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    margin: `${theme.spacing(2)} 0`,\n    width: \"100%\",\n  },\n  img: {\n    maxWidth: 160,\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  title: {\n      color: theme.palette.primary.dark,\n      fontFamily: theme.typography.special\n  },\n  contactInfo: {\n    marginLeft: theme.spacing(10),\n    [theme.breakpoints.down(\"xs\")]: {\n      marginLeft: theme.spacing(0.5),\n    },\n  },\n}));\n\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ContactModal() {\n\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div className={classes.contentWrapper}>\n      <div className={classes.bitmojiButton} onClick={handleClickOpen}></div>\n      <img\n        className={classes.precache}\n        src=\"/assets/img/bitmoji-smile.png\"\n        alt=\"smiling ben precache img\"\n      />\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-contact-info\"\n        aria-describedby=\"alert-dialog-ben-perlmutter-contact-information\"\n        className={classes.dialog}\n      >\n        <div className={classes.contentWrapper}>\n          <div className={classes.imgWrapper}>\n            <img\n              className={classes.img}\n              src={`/assets/img/bitmoji-location-pin.png`}\n              alt=\"Ben emoji location pin\"\n            />\n          </div>\n          <Typography id=\"ben-permutter-contact\" align=\"center\" component=\"h3\" variant=\"h4\" className={classes.title}>\n            Ben Perlmutter\n          </Typography>\n          <DialogContent className={classes.contactInfo}>\n            <List component=\"nav\" aria-label=\"main mailbox folders\">\n              <ListItem>\n                <ListItemIcon>\n                  <WebIcon />\n                </ListItemIcon>\n                <ListItemText\n                  primary={\n                    <Link href=\"https://ben.perlmutter.io\" target=\"_blank\">\n                      ben.perlmutter.io\n                    </Link>\n                  }\n                />\n              </ListItem>\n              <ListItem>\n                <ListItemIcon>\n                  <InboxIcon />\n                </ListItemIcon>\n                <ListItemText\n                  primary={\n                    <Link href=\"mailto:ben@perlmutter.io\">\n                      ben@perlmutter.io\n                    </Link>\n                  }\n                />\n              </ListItem>\n              <ListItem>\n                <ListItemIcon>\n                  <GitHubIcon />\n                </ListItemIcon>\n                <ListItemText\n                  primary={\n                    <Link href=\"https://github.com/bpmutter\" target=\"_blank\">\n                      Github\n                    </Link>\n                  }\n                />\n              </ListItem>\n              <ListItem>\n                <ListItemIcon>\n                  <LinkedInIcon />\n                </ListItemIcon>\n                <ListItemText\n                  primary={\n                    <Link\n                      href=\"https://linkedin.com/in/ben-perlmutter\"\n                      target=\"_blank\"\n                    >\n                      LinkedIn\n                    </Link>\n                  }\n                />\n              </ListItem>\n              <ListItem>\n                <ListItemIcon>\n                  <TwitterIcon />\n                </ListItemIcon>\n                <ListItemText\n                  primary={\n                    <Link href=\"https://twitter.com/bpmutter\" target=\"_blank\">\n                      Twitter\n                    </Link>\n                  }\n                />\n              </ListItem>\n            </List>\n          </DialogContent>\n        </div>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { Typography, IconButton, Link } from \"@material-ui/core\";\nimport HelpIcon from \"@material-ui/icons/Help\";\nimport GitHubIcon from \"@material-ui/icons/GitHub\";\nimport TwitterIcon from \"@material-ui/icons/Twitter\";\nimport WebIcon from \"@material-ui/icons/Web\";\nimport LinkedInIcon from \"@material-ui/icons/LinkedIn\";\n\nconst useStyles = makeStyles((theme) => ({\n  contentWrapper: {\n    width: 450,\n    padding: theme.spacing(2),\n    [theme.breakpoints.down(\"xs\")]: {\n      width: \"90%\",\n    },\n  },\n  iconButton: {\n    backgroundColor: \"rgba(2,18,26, .075)\",\n    borderRadius: \"50%\",\n    height: 50,\n    width: 50,\n    position: \"fixed\",\n    bottom: 90,\n    left: 15,\n    zIndex: 25,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    \"&:hover\": {\n      backgroundColor: \"rgba(2,18,26, .25)\",\n    },\n  },\n  icon: {\n    color: theme.palette.secondary.main,\n    opacity: 0.95,\n    fontSize: \"2.25em\",\n  },\n  imgWrapper: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    margin: `${theme.spacing(2)} 0`,\n    width: \"100%\",\n  },\n  img: {\n    maxWidth: 100,\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  \n  title: {\n    color: theme.palette.primary.dark,\n    fontFamily: theme.typography.special,\n    marginBottom: theme.spacing(3),\n  },\n  aboutInfo: {\n      fontSize: theme.typography.fontSize*1.25\n  },\n  contactIcon: {\n      fontSize: theme.typography.fontSize*1.5,\n      margin: theme.spacing(1),\n\n  }\n  \n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"down\" ref={ref} {...props} />;\n});\n\nexport default function AboutModal() {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div className={classes.contentWrapper}>\n      <IconButton className={classes.iconButton} onClick={handleClickOpen}>\n        <HelpIcon className={classes.icon} />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-contact-info\"\n        aria-describedby=\"alert-dialog-ben-perlmutter-contact-information\"\n        className={classes.dialog}\n      >\n        <div className={classes.contentWrapper}>\n          <div className={classes.imgWrapper}>\n            <img\n              className={classes.img}\n              src={`/logo-big.webp`}\n              alt=\"aCasa logo\"\n            />\n          </div>\n          <Typography\n            id=\"ben-permutter-contact\"\n            align=\"center\"\n            component=\"h3\"\n            variant=\"h4\"\n            className={classes.title}\n          >\n            About aCasa\n          </Typography>\n          <div className={classes.aboutInfo}>\n            <p>aCasa is a medium-term listing platform.</p>\n            <p>\n              Home seekers can browse homes based on location, view home info\n              relevant to medium-term stays, and contact the owners to continue\n              the conversation on other mediums.\n            </p>\n            <p>\n              Homeowners can post, update, and delete listings. They also have a\n              dedicated profile page that they can update and share to build\n              their business.\n            </p>\n            <p>\n              aCasa was made with a React frontend and a Firebase serverless\n              backend. Learn more and view the source code on{\" \"}\n              <Link\n                href=\"https://github.com/bpmutter/acasa\"\n                target=\"_blank\"\n                rel=\"noopener\"\n              >\n                Github\n              </Link>\n              .\n            </p>\n\n            <Typography color=\"textSecondary\" align=\"center\">\n              {\"Made with  by \"}\n              Ben Perlmutter, {new Date().getFullYear()}\n            </Typography>\n            <Typography\n              variant=\"body2\"\n              color=\"textSecondary\"\n              align=\"center\"\n              className={classes.icons}\n            >\n              <IconButton\n                color=\"secondary\"\n                href=\"https://ben.perlmutter.io/\"\n                target=\"_blank\"\n                rel=\"noopener\"\n              >\n                <WebIcon className={classes.contactIcon} />\n              </IconButton>\n              <IconButton\n                color=\"secondary\"\n                href=\"https://github.com/bpmutter\"\n                target=\"_blank\"\n                rel=\"noopener\"\n              >\n                <GitHubIcon className={classes.contactIcon} />\n              </IconButton>\n              <IconButton\n                color=\"secondary\"\n                href=\"https://linkedin.com/in/ben-perlmutter\"\n                target=\"_blank\"\n                rel=\"noopener\"\n              >\n                <LinkedInIcon className={classes.contactIcon} />\n              </IconButton>\n              <IconButton\n                color=\"secondary\"\n                href=\"https://twitter.com/bpmutter\"\n                target=\"_blank\"\n                rel=\"noopener\"\n              >\n                <TwitterIcon className={classes.contactIcon} />\n              </IconButton>\n            </Typography>\n          </div>\n        </div>\n      </Dialog>\n    </div>\n  );\n}\n","import React from 'react';\nimport Navigation from './Navigation';\nimport Homepage from './Homepage';\nimport UserPage from './UserPage';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Footer from './Footer';\nimport ProtectedRoute from './ProtectedRoute';\nimport Profile from './Profile';\nimport ProfileSettings from \"./ProfileSettings\";\nimport CreateListing from './CreateListing';\nimport Testing from './Testing';\nimport FourOhFour from './FourOhFour';\nimport ListingPage from './ListingPage';\nimport SearchPage from './SearchPage';\nimport LoginPage from './LoginPage';\nimport UpdateListingForm from './UpdateListingForm';\nimport PersonalContactModal from './PersonalContactModal';\nimport AboutModal from './AboutModal';\nimport {\n  KeyboardDatePicker,\n  MuiPickersUtilsProvider,\n  DatePicker,\n} from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\n\n\nfunction App() {\n  return (\n    <>\n      <div style={{ minHeight: \"94vh\" }}>\n        <Router>\n          <MuiPickersUtilsProvider utils={DateFnsUtils}>\n            <Navigation />\n            <Switch>\n              <Route path=\"/\" exact>\n                <Homepage />\n              </Route>\n              <ProtectedRoute exact path=\"/profile\">\n                <Profile />\n              </ProtectedRoute>\n              <ProtectedRoute exact path=\"/profile/settings\">\n                <ProfileSettings />\n              </ProtectedRoute>\n              <ProtectedRoute path=\"/create-listing\">\n                <CreateListing />\n              </ProtectedRoute>\n              <Route path=\"/users/:username\">\n                <UserPage />\n              </Route>\n              <ProtectedRoute path=\"/listings/:id/edit\">\n                <UpdateListingForm />\n              </ProtectedRoute>\n              <Route path=\"/listings/:id\">\n                <ListingPage />\n              </Route>\n              <Route path=\"/testing\">\n                <Switch>\n                  <Route exact path=\"/testing\">\n                    <Testing />\n                  </Route>\n                  <Route path=\"/testing/listing\">\n                    <ListingPage />\n                  </Route>\n                </Switch>\n              </Route>\n              <Route exact path=\"/search\">\n                <SearchPage />\n              </Route>\n              <Route exact path=\"/login\">\n                <LoginPage />\n              </Route>\n              <Route exact path=\"/signup\">\n                <LoginPage />\n              </Route>\n              <Route path=\"*\">\n                <FourOhFour />\n              </Route>\n            </Switch>\n          </MuiPickersUtilsProvider>\n        </Router>\n        <AboutModal />\n        <PersonalContactModal />\n      </div>\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","\nimport { createMuiTheme, responsiveFontSizes } from \"@material-ui/core/styles\";\n\n\nlet themeLight = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#8e24aa\",\n    },\n    secondary: {\n      main: \"#1de9b6\",\n    },\n    gradients: {\n      primary:\n        \"linear-gradient(90deg, rgba(142,36,170,1) 0%, rgba(254,102,197,1) 100%)\",\n      secondary:\n        \"linear-gradient(90deg, rgba(29,233,182,1) 20%, rgba(34,193,195,1) 100%)\",\n    },\n  },\n  typography: {\n    special: \"'Fredoka One', Roboto, Arial, sans-serif\",\n  },\n});\nthemeLight = responsiveFontSizes(themeLight);\n\nlet themeDark = createMuiTheme({\n\n})\nthemeDark = responsiveFontSizes(themeDark)\n\n\nexport {themeLight, themeDark}\n\n// const getTheme = () => {\n//   let overwrites = {\n//     \"palette\": {\n//         \"primary1Color\": \"#7e57c2\",\n//         \"primary2Color\": \"#ff4081\",\n//         \"accent1Color\": \"#d1c4e9\",\n//         \"accent2Color\": \"#f48fb1\",\n//         \"pickerHeaderColor\": \"#26c6da\",\n//         \"textColor\": \"#616161\",\n//         \"canvasColor\": \"rgba(255, 255, 255, 0.87)\"\n//     }\n// };\n//   return getMuiTheme(baseTheme, overwrites);\n// }\n","import db from \"../config/firestoreDb\";\nimport firebase from \"firebase\";\n\nexport default async function facebookSignup(authResult) {\n  console.log('FACEBOOK SIGN UP', authResult)\n  const {\n    additionalUserInfo: { isNewUser, profile },\n  } = authResult;\n\n  const uid = await firebase.auth().currentUser.uid;\n  const newUser = {};\n\n  //create unique username with timestamp\n  let timestamp = new Date();\n  timestamp = timestamp.getTime();\n  newUser.username = `${profile.first_name\n    .split(\" \")\n    .join(\"\")\n    .toLowerCase()}-${profile.last_name\n    .split(\" \")\n    .join(\"\")\n    .toLowerCase()}-${timestamp}`;\n\n  newUser.first_name = profile.first_name;\n  newUser.last_name = profile.last_name;\n  newUser.profile_picture = profile.picture.data.url;\n  newUser.contact = {\n    email: profile.email,\n  };\n\n  const creationTime = new Date();\n  newUser.date_added = creationTime;\n  newUser.date_updated = creationTime;\n  newUser.oAuthInfo = profile;\n  newUser.uid = uid;\n  newUser.contact.email = profile.email;\n\n  let userId = null;\n  if (isNewUser || profile.email === \"zeebz112@gmail.com\") {\n    try {\n      const res = await db.collection(\"users\").doc(uid).set(newUser);\n    } catch (err) {\n      console.error(err);\n    }\n    userId = uid;\n  } else\n    alert(\n      `You've already made an account with the email ${profile.email}. Please log in with that account.`\n    );\n  return userId;\n}\n","import db from \"../config/firestoreDb\";\nimport firebase from \"firebase\";\n\n\nexport default async function googleSignup(authResult) {\n  const {\n    additionalUserInfo: { isNewUser, profile },\n  } = authResult;\n\n  const uid = await firebase.auth().currentUser.uid;\n  const newUser = {};\n\n  //create unique username with timestamp\n  let timestamp = new Date();\n  timestamp = timestamp.getTime();\n  newUser.username = `${profile.given_name\n    .split(\" \")\n    .join(\"\")\n    .toLowerCase()}-${profile.family_name\n    .split(\" \")\n    .join(\"\")\n    .toLowerCase()}-${timestamp}`;\n\n  newUser.first_name = profile.given_name;\n  newUser.last_name = profile.family_name;\n  newUser.profile_picture = profile.picture;\n  newUser.contact = {\n    email: profile.email,\n  };\n\n  const creationTime = new Date();\n  newUser.date_added = creationTime;\n  newUser.date_updated = creationTime;\n  newUser.oAuthInfo = profile;\n  newUser.uid = uid;\n  newUser.contact.email = profile.email;\n\n  let userId = null;\n  if (isNewUser) {\n    try {\n      const res = await db.collection(\"users\").doc(uid).set(newUser);\n    } catch (err) {\n      console.error(err);\n    }\n    userId = uid;\n  }\n  return userId;\n}\n\n\n","import facebookSignup from './facebookSignup';\nimport googleSignup from './googleSignup';\n\nexport default async function createUserInDb(authResult){\n\n      const authProvider = authResult.additionalUserInfo.providerId;\n      switch(authProvider){\n        case(\"facebook.com\"):{\n          return await facebookSignup(authResult);\n        } default: {\n          return await googleSignup(authResult);\n        }\n      }\n     \n}","import db from \"../config/firestoreDb\";\nimport firebase from 'firebase';\n\nexport default async function login(){\n    const uid = await firebase.auth().currentUser.uid;\n    \n    const userRef = await db.collection('users').doc(uid);\n    const doc = await userRef.get();\n    if (!doc.exists) {\n        return;\n    } else {\n        const docData = doc.data()\n        return docData;\n    }\n}\n","import firebase from 'firebase';\nimport login from './login';\nexport default async function loginOnPageLoad(setUser){\n    const unsubscribe = firebase.auth().onAuthStateChanged(async function (user) {\n      if(user){\n        const userData = await login();\n        setUser(userData)\n        unsubscribe();\n      }\n        })\n\n}\n","import db from \"../config/firestoreDb\";\nimport firebase from \"firebase\";\n\nexport default async function demoLogin() {\n  try{\n    firebase\n      .auth()\n      .signInWithEmailAndPassword(\"acasademo@gmail.com\", \"abc123\")\n      .catch(function (error) {\n        const errorCode = error.code;\n        const errorMessage = error.message;\n        console.error(errorCode, errorMessage);\n      });\n\n    const uid = await firebase.auth().currentUser.uid;\n\n    const userRef = await db.collection(\"users\").doc(uid);\n    const doc = await userRef.get();\n    if (!doc.exists) {\n      return;\n    } else {\n      const docData = doc.data();\n      return docData;\n    }\n  } catch(err){\n      console.error(err);\n  }\n  \n}\n","import React, {useState, useEffect} from 'react';\nimport App from './App';\nimport {\n  ThemeProvider,\n} from \"@material-ui/core/styles\";\nimport {themeLight} from '../theme/theme';\nimport Context from './Context.js'\nimport firebase from 'firebase'\nimport logoutFirebase from '../auth/logout';\nimport signupFirebase from '../auth/signup';\nimport '../config/firebaseApp'\nimport loginFirebase from '../auth/login';\nimport loginOnPageLoadFirebase from '../auth/loginOnPageLoad';\nimport demoLoginFirebase from \"../auth/demoLoginFirebase\";\n\nconst AppContext = () => {\n    const loggedInFromLS = JSON.parse(localStorage.getItem('loggedIn'))\n    const [loggedIn, setLoggedIn] = useState(loggedInFromLS);\n    const [user, setUser] = useState({username: \"\"})\n    const [errors, setErrors] = useState([]);\n\n    const signUp = async (authResult) => {\n      const userId = await signupFirebase(authResult);\n      if(userId){\n        logIn();\n      } else{\n        setErrors([\"It looks like there is already an account using this email. Log in with that account or choose a new log in method\", ...errors]);\n      } \n    }\n    const logIn = async () => {\n        const user  = await loginFirebase();\n        setUser(user);\n        setLoggedIn(true);\n        localStorage.setItem('loggedIn', true);\n    }\n    const demoLogin = async () => {\n      const user = await demoLoginFirebase();\n      setUser(user);\n      setLoggedIn(true);\n      localStorage.setItem(\"loggedIn\", true);\n    }\n    const logOut = () => {\n      logoutFirebase()\n      setLoggedIn(false);\n      setUser({ username: \"\" });\n      localStorage.setItem('loggedIn', false)\n    }\n    useEffect( ()=>{\n      if(loggedIn){\n        (async ()=> {\n          await loginOnPageLoadFirebase(setUser);\n        })()\n      }\n    },[loggedIn]);   \n\n    const context = { user, loggedIn, logIn, logOut, signUp, demoLogin };\n\n    return (\n      <Context.Provider value={context}>\n        <ThemeProvider theme={themeLight}>\n          <App />\n        </ThemeProvider>\n      </Context.Provider>\n    );\n}\n\nexport default AppContext","import firebase from 'firebase';\n\n\nexport default function logout(){\n    firebase.auth().signOut();\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport AppWithContext from './components/AppWithContext';\nReactDOM.render(\n  <React.StrictMode>\n    <AppWithContext />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo-big.17aa38cc.webp\";"],"sourceRoot":""}