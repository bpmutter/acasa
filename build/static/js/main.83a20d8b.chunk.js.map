{"version":3,"sources":["vector-icons/green/woman-with-home-mountain.svg","vector-icons/green/remote-work.svg","vector-icons/green/many-homes.svg","vector-icons/green/conversation.svg","vector-icons/green/news-megaphone.svg","vector-icons/green/control-settings.svg","vector-icons/green/transfer-money.svg","vector-icons/green/hiding-in-trees.svg","vector-icons/green/empty-void.svg","vector-icons/green/location-search.svg","theme/logo-big.webp","serviceWorker.js","components/Context.js","components/SignUp.jsx","components/SignUpModal.jsx","components/ProfileMenu.jsx","components/LogIn.jsx","components/LogInModal.jsx","components/MobileNavMenu.jsx","components/Navigation.jsx","components/Hero.jsx","components/Card.jsx","components/ForUsers.jsx","google-maps/geocoder.js","components/GoogleMapsSearchBox.jsx","components/SelectOption.jsx","components/DateSelector.jsx","utils/getGeographicLocation.js","components/SearchBar.jsx","components/MainContentWrapper.jsx","components/Homepage.jsx","components/ContentPaper.jsx","utils/dateFormatter.js","components/Button.jsx","config/firebaseConfig.js","config/firebaseApp.js","config/firestoreDb.js","queries/users/getUserByUserName.js","components/ContactModal.js","components/UserProfileInfo.jsx","components/ListingCard.jsx","components/Listings.jsx","queries/listings/getListingsByHostUsername.js","components/UserListings.jsx","testData.js","components/UserPage.jsx","components/Footer.jsx","components/ProtectedRoute.jsx","components/Profile.jsx","components/Snackbar.jsx","components/SelectMultiple.jsx","auth/updateUserAccountInfo.js","components/ProfileSettings.js","utils/useInputHook.js","components/Checkbox.jsx","components/RadioGroup.jsx","config/geofirestore.js","queries/listings/postListing.js","config/firebaseStorage.js","utils/uploadFile.js","components/UploadOneImage.jsx","utils/uploadFileAndGetURL.js","utils/bulkUploadFiles.js","components/ImageGrid.jsx","components/UploadManyImages.jsx","components/CreateListing.jsx","components/ImageModal.jsx","components/Testing.jsx","components/FourOhFour.jsx","components/HeartButton.jsx","components/ListingHeader.jsx","components/ListingPhotos.jsx","components/ListingMap.jsx","queries/listings/getListingById.js","components/ListingPage.jsx","queries/listings/getNearbyListings.js","components/SearchResults.jsx","components/SearchPage.jsx","utils/dateStringToObj.js","components/LoginPage.jsx","utils/dateFbToHTML.js","queries/listings/updateListing.js","components/UpdateListingForm.jsx","components/PersonalContactModal.jsx","components/AboutModal.jsx","components/App.js","theme/theme.js","auth/signup.js","auth/login.js","auth/loginOnPageLoad.js","components/AppWithContext.jsx","auth/logout.js","index.js"],"names":["module","exports","Boolean","window","location","hostname","match","AppContext","React","createContext","useStyles","makeStyles","theme","titleWrapper","display","flexDirection","justifyContent","alignItems","width","logo","paddingBottom","spacing","title","fontFamily","typography","special","color","palette","primary","dark","SignUp","classes","useContext","context","loggedIn","logOut","logIn","signUp","uiConfig","signInFlow","signInOptions","firebase","auth","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccessWithAuthResult","authResult","redirectUrl","Box","className","src","alt","Typography","variant","component","currentUser","displayName","Button","onClick","firebaseAuth","modalContent","position","backgroundColor","background","paper","border","boxShadow","shadows","padding","top","left","transform","outlineColor","secondary","light","buttonLink","marginRight","main","cursor","menuButton","MyModal","useState","open","setOpen","Modal","onClose","aria-labelledby","aria-describedby","disableAutoFocus","StyledMenu","withStyles","props","Menu","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","CustomizedMenus","buttonStyles","history","useHistory","anchorEl","setAnchorEl","IconButton","aria-controls","aria-haspopup","event","currentTarget","style","fontSize","id","keepMounted","Link","href","underline","MenuItem","ListItemIcon","ListItemText","push","buttonWrapper","LogIn","align","root","zIndex","height","SearchAppBar","handleClose","edge","aria-label","TransitionComponent","Fade","to","flexGrow","appBar","menuLink","rightNav","profileMenu","MenuAppBar","useTheme","smallScreen","useMediaQuery","breakpoints","down","appContext","AppBar","Toolbar","paddingRight","hero","gridTemplateColumns","default","paddingTop","paddingLeft","heroImg","opacity","backgroundPosition","backgroundSize","backgroundRepeat","marginBottom","heroText","button","Hero","backgroundImage","womanMountainHome","Divider","maxWidth","minHeight","margin","marginLeft","img","ImgMediaCard","imgTitle","imgAlt","imgStyling","cardTitle","cardContent","buttonContent","Card","CardContent","gutterBottom","CardActions","size","container","sectionWrapper","cardWrapper","flexWrap","ownerLearnMoreWrapper","divider","marginTop","ForUsers","Paper","remoteWork","selectingHome","directCommunication","shareNews","controlSettings","payment","Geocode","setApiKey","setLanguage","geocodeFromLatLng","lat","lng","a","fromLatLng","res","addressInfo","results","console","error","geocodeFromAddress","addressStr","fromAddress","geo","geometry","autocompleteService","current","icon","text","GoogleMapsAutoComplete","formSetter","label","defaultValue","inputVal","helperText","required","value","setValue","inputValue","setInputValue","options","setOptions","loaded","useRef","document","querySelector","script","createElement","setAttribute","appendChild","loadScript","fetch","useMemo","throttle","request","callback","getPlacePredictions","useEffect","active","google","maps","places","AutocompleteService","types","input","newOptions","Autocomplete","getOptionLabel","option","description","filterOptions","x","autoComplete","includeInputInList","filterSelectedOptions","onChange","newValue","geocoder","onInputChange","newInputValue","renderInput","params","TextField","fullWidth","renderOption","matches","structured_formatting","main_text_matched_substrings","parts","parse","main_text","map","offset","length","Grid","item","xs","part","index","key","fontWeight","highlight","secondary_text","formControl","minWidth","selectEmpty","SelectOption","labelText","name","FormControl","InputLabel","htmlFor","Select","native","e","preventDefault","target","textField","DatePickers","noValidate","type","InputLabelProps","shrink","getGeographicPosition","setter","getCurrentPosition","coords","alert","Promise","resolve","reject","navigator","geolocation","white","form","formElementWrapper","dateSelect","hometype","searchButton","SearchBar","setSearch","setLocation","homeType","startDate","searchRedirect","setSearchRedirect","processingLocation","setProcessingLocation","search","getBrowserLocation","getLocation","latitude","longitude","format","Date","now","onSubmit","CircularProgress","MainContentWrapper","children","searchWrapper","Homepage","ContentPaper","dateFormatter","fbDateObj","dateObj","toDate","month","getMonth","getDate","getFullYear","maxHeight","textAlign","ThemeButton","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","app","initializeApp","config","analytics","db","firestore","getUserByUserName","username","collection","where","get","empty","users","forEach","doc","data","header","avatar","listWrapper","ContactModal","userToContact","noName","contact","email","user","setUser","userInfo","first_name","Avatar","profile_picture","last_name","uid","List","ListItem","phone","whatsapp","website","startsWith","wrapper","settingsButton","profilePicture","mainProfileContent","progress","alignSelf","justifySelf","primaryInfoWrapper","joinDate","bold","secondaryInfo","UserProfileInfo","profile","joined","secondaryInfoWrapper","languages","join","bio","borderRight","mainContent","topContent","heartButton","pink","price","chips","chip","owner","ownerInfo","contactButton","ListingCard","listing","hearted","setHearted","overview","roommates","log","primary_img","Chip","bedrooms","max_guests","bathrooms","wifi_speed","lgbtq","Listings","listings","uuid","progressWrapper","UserListings","setListings","getListings","useCallback","getUserListings","userListings","endsWith","ben","date_added","city","country","listing1","additional_imgs","amenities","beds","price_in_dollars","lgbtq_friendly","created_at","updated_at","dates_available","start","end","living_with_host","address","neighborhood","state_province","payment_methods","pets","rules","UserPage","usernameContext","useParams","getUser","userFromUsername","ghIcon","Footer","PrivateRoute","rest","render","pathname","state","from","unsubscribe","onAuthStateChanged","profileUser","userVal","Alert","CustomizedSnackbars","msgSeverity","msg","reason","Snackbar","autoHideDuration","severity","noLabel","MenuProps","PaperProps","ITEM_HEIGHT","getStyles","optionName","indexOf","fontWeightRegular","fontWeightMedium","MultipleSelect","setOptionName","multiple","Input","renderValue","selected","createUserInDb","firstName","lastName","content","date_updated","update","message","textInput","sectionDivider","submitButton","EditProfile","setFirstName","setLastName","setEmail","setPhone","setWebsite","setWhatsapp","setBio","setLanguages","snackbar","setSnackbar","deactivate","thisUser","inputChangeHandler","updateProfile","updateUserAccountInfo","setTimeout","primaryInfo","additionalInfo","multiline","rows","languageList","useUserInput","CheckboxWithLabel","checked","setChecked","FormControlLabel","control","Checkbox","newVal","RadioButtonsGroup","formLabel","ariaLabel","FormLabel","RadioGroup","JSON","stringify","row","Radio","geoListings","geofirestore","postListing","setRes","start_date","end_date","location_description","shared","timestamp","getTime","titleDash","split","encodeURI","accents","remove","slice","coordinates","GeoPoint","newListing","set","redirectId","storage","uploadFile","file","path","imgSetter","progressSetter","storageRef","ref","fileName","uploadTask","child","put","on","snapshot","Math","round","bytesTransferred","totalBytes","getDownloadURL","then","downloadURL","imgWrapper","imgPreview","UploadOneImage","preview","imgUrl","setImgUrl","setProgress","fileHandler","files","accept","hidden","uploadAndGetURL","pathRef","snapshotUrl","require","bulkUpload","filesResolved","gridListRoot","overflow","gridList","gridImg","modalFrame","imgModal","SingleLineGridList","imgs","modalSrc","setModalSrc","modalAlt","setModalAlt","handleOpen","GridList","cols","i","GridListTile","in","imagesLoading","UploadManyImgs","defaultImages","uploadedPics","setUploadedPics","uploadStatus","setUploadStatus","styles","borderRadius","onDrop","pictures","bulkUploadFiles","urls","withIcon","buttonText","imgExtension","maxFileSize","imgFrame","role","titleLogoWrapper","uploadOneImageWrapper","currentPrimaryImg","primaryImg","todayStr","oneToTenOptions","CreateListing","useInput","setType","publish_now","setPublishNow","setStartDate","setEndDate","setShared","setLivingWithHost","setRoommates","setBedrooms","setBathrooms","setMaxGuests","setRules","setPets","setPaymentMethods","setLgbtq","setPrimaryImage","setAdditionalImages","resMsg","setResMsg","createListing","priceInt","parseInt","bathroomsInt","bedroomsInt","maxGuestsInt","roommatesInt","wifiInt","startDateObj","dateParse","endDate","postListingToDb","hometypes","InputProps","startAdornment","InputAdornment","dates","FormGroup","images","ImageModal","Testing","pageWrapper","subtitle","FourOhFour","dense","fourOhFourImg","boxSizing","actionButtons","ListingHeader","info","primaryImgWrapper","listingTitle","ListingPhotos","additionalImgs","MapWithAMarker","withScriptjs","withGoogleMap","defaultZoom","defaultCenter","defaultOptions","mapTheme","ListingMap","placeName","googleMapURL","loadingElement","containerElement","mapElement","getListingById","contentWrapper","gridTemplateRows","gridColumn","gridRow","availability","contactOwner","listingDescription","locationTopContent","mapWrapper","availableNow","ListingPage","setListing","setAvailableNow","getListing","currentTime","availableFrom","toMillis","wifi","getNearbyListings","kmDistance","query","near","center","radius","resDocs","docs","toLowerCase","filter","result","searchResultsWrapper","noResultsImgWrapper","JustifyContent","noResultsImg","SearchResults","locationDescription","searchRadiusKm","loading","setLoading","getAndSetListings","emptyVoid","noQuery","searchImgWrapper","searchImg","SearchResultsPage","dateStr","parsed","queryString","parseFloat","searchRadius","setQuery","rerender","setRerender","queryObj","locationSearch","LoginPage","fbDateToHtmlStr","fbDate","jsDate","setTitle","setPrice","setDescription","setLocationDescription","setWifiSpeed","setDisableSubmit","redirect","setRedirect","fBdateToHtmlString","updateListing","updateListingToDb","bitmojiButton","process","bottom","precache","contactInfo","Transition","forwardRef","Slide","direction","Dialog","dialog","DialogContent","iconButton","aboutInfo","contactIcon","AboutModal","rel","icons","App","exact","ProtectedRoute","themeLight","createMuiTheme","gradients","responsiveFontSizes","themeDark","additionalUserInfo","isNewUser","newUser","given_name","family_name","picture","creationTime","oAuthInfo","userId","login","userRef","exists","docData","loginOnPageLoad","userData","loggedInFromLS","localStorage","getItem","setLoggedIn","errors","setErrors","signupFirebase","loginFirebase","setItem","loginOnPageLoadFirebase","signOut","Context","Provider","ThemeProvider","ReactDOM","StrictMode","AppWithContext","getElementById","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.83a20d8b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/woman-with-home-mountain.fbfbf632.svg\";","module.exports = __webpack_public_path__ + \"static/media/remote-work.7c5a71b7.svg\";","module.exports = __webpack_public_path__ + \"static/media/many-homes.d845869b.svg\";","module.exports = __webpack_public_path__ + \"static/media/conversation.0dd3c6da.svg\";","module.exports = __webpack_public_path__ + \"static/media/news-megaphone.f4d0d54c.svg\";","module.exports = __webpack_public_path__ + \"static/media/control-settings.6a47a680.svg\";","module.exports = __webpack_public_path__ + \"static/media/transfer-money.a0f26b4c.svg\";","module.exports = __webpack_public_path__ + \"static/media/hiding-in-trees.c9cdc1f1.svg\";","module.exports = __webpack_public_path__ + \"static/media/empty-void.2378110c.svg\";","module.exports = __webpack_public_path__ + \"static/media/location-search.c46ea4fc.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo-big.17aa38cc.webp\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\n\nconst AppContext = React.createContext();\n\nexport default AppContext;\n","// Import FirebaseAuth and firebase.\nimport React, {useContext, useState} from \"react\";\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\nimport firebase from \"firebase\";\nimport logo from \"../theme/logo-big.webp\";\nimport {Link, Box, Typography, makeStyles, Button} from '@material-ui/core';\nimport context from './Context';\n\nconst useStyles = makeStyles((theme) => ({\n  titleWrapper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: \"100%\",\n  },\n  logo: {\n    width: 50,\n    paddingBottom: theme.spacing(1)\n  },\n  title: {\n      fontFamily: theme.typography.special,\n      color: theme.palette.primary.dark,\n  }\n}));\n\nconst SignUp = () => {\n    // The component's Local state.\n    // state = {\n    //     isSignedIn: false, // Local signed-in state.\n    // };\n  const classes = useStyles();\n  const {loggedIn, logIn, logOut, signUp} = useContext(context);\n\n  // Configure FirebaseUI.\n  const uiConfig = {\n    // Popup signin flow rather than redirect flow.\n    signInFlow: \"popup\",\n    // We will display Google and Facebook as auth providers.\n    signInOptions: [\n      firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n      //   firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n    ],\n    callbacks: {\n      // Avoid redirects after sign-in.\n      signInSuccessWithAuthResult: (authResult, redirectUrl) => {\n        signUp(authResult);\n        return false;\n      }\n    },\n  };\n\n\n    return (\n      <Box>\n        <div\n          className={classes.titleWrapper}\n        >\n          <img src={logo} alt=\"aCasa logo\" className={classes.logo} />\n          <Typography\n            variant=\"h4\"\n            component=\"h3\"\n            className={classes.title}\n          >\n            aCasa\n          </Typography>\n        </div>\n        {!loggedIn ? (\n          <div>\n            <p>Sign up with one of the following methods:</p>\n            <Typography variant=\"p\" component=\"p\" color=\"textSecondary\">\n              NOTE: You only need to sign up if you want to post a listing. If you're just looking for for your next home, you can browse and message the host without an account.\n            </Typography>\n            <StyledFirebaseAuth\n              uiConfig={uiConfig}\n              firebaseAuth={firebase.auth()}\n            />\n          </div>\n        ) : (\n          <div>\n            <p>\n              Welcome {firebase.auth().currentUser.displayName}! You are now\n              signed in!\n            </p>\n            <Button onClick={() => logOut()}>Go to Profile</Button>\n          </div>\n        )}\n      </Box>\n    );\n  \n}\n\nexport default SignUp;","import React from \"react\";\nimport { makeStyles, Link, Typography , Button} from \"@material-ui/core\";\nimport Modal from \"@material-ui/core/Modal\";\nimport SignUp from './SignUp';\n\nconst useStyles = makeStyles((theme) => ({\n  modalContent: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    top: `50%`,\n    left: `50%`,\n    transform: `translate(-50%, -50%)`,\n    outlineColor: theme.palette.secondary.light,\n  },\n  buttonLink: {\n    marginRight: theme.spacing(2),\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.main,\n    cursor: \"pointer\",\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    fontFamily: theme.typography.special,\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n  },\n}));\n\nexport default function MyModal() {\n  const classes = useStyles();\n//   const [modalStyle] = React.useState(getModalStyle);\n  const [open, setOpen] = React.useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <>\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        className={classes.menuButton}\n        onClick={handleOpen}\n      >\n        Sign Up\n      </Button>\n      {/* <Link>\n        <Typography\n          variant=\"h6\"\n          component=\"span\"\n          className={classes.buttonLink}\n          onClick={handleOpen}\n        >\n          Sign Up\n        </Typography>\n      </Link> */}\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"aCasa sign in\"\n        aria-describedby=\"sign in to aCasa here\"\n        disableAutoFocus={true}\n        // className={classes.modal}\n      >\n        <div className={classes.modalContent}>\n          <SignUp />\n        </div>\n      </Modal>\n    </>\n  );\n}\n","import React, {useState, useContext} from \"react\";\nimport AppContext from \"./Context\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Menu from \"@material-ui/core/Menu\";\nimport Link from \"@material-ui/core/Link\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\nimport {useHistoy, useHistory} from 'react-router-dom';\n\nconst StyledMenu = withStyles({\n  paper: {\n    border: \"1px solid #d3d4d5\",\n  },\n})((props) => (\n  <Menu\n    elevation={0}\n    getContentAnchorEl={null}\n    anchorOrigin={{\n      vertical: \"bottom\",\n      horizontal: \"center\",\n    }}\n    transformOrigin={{\n      vertical: \"top\",\n      horizontal: \"center\",\n    }}\n    {...props}\n  />\n));\n\n\nexport default function CustomizedMenus(buttonStyles) {\n\n  const { logOut } = useContext(AppContext);\n  const history = useHistory();\n\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const logOutUser = () => {\n    logOut();\n    history.push('/');\n  }\n\n  \n\n  return (\n    <div>\n      <IconButton\n        aria-controls=\"customized-menu\"\n        aria-haspopup=\"true\"\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={handleClick}\n        style={buttonStyles}\n      >\n        <AccountCircleIcon fontSize=\"large\" />\n      </IconButton>\n      <StyledMenu\n        id=\"customized-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        <Link href=\"/profile\" color=\"inherit\" underline=\"none\">\n          <MenuItem>\n            <ListItemIcon>\n              <PersonIcon fontSize=\"small\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Profile\" />\n          </MenuItem>\n        </Link>\n        <Link href=\"/profile/settings\" color=\"inherit\" underline=\"none\">\n          <MenuItem>\n            <ListItemIcon>\n              <SettingsIcon fontSize=\"small\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Settings\" />\n          </MenuItem>\n        </Link>\n        <Link href=\"/create-listing\" color=\"inherit\" underline=\"none\">\n          <MenuItem>\n            <ListItemIcon>\n              <AddCircleIcon fontSize=\"small\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Create Listing\" />\n          </MenuItem>\n        </Link>\n        {/* <MenuItem>\n          <ListItemIcon>\n            <InboxIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText primary=\"Messages\" />\n        </MenuItem> */}\n        <MenuItem onClick={logOutUser}>\n          <ListItemIcon>\n            <ExitToAppIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText primary=\"Log out\" />\n        </MenuItem>\n      </StyledMenu>\n    </div>\n  );\n}\n","// Import FirebaseAuth and firebase.\nimport React, {useContext, useState} from \"react\";\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\nimport firebase from \"firebase\";\nimport logo from \"../theme/logo-big.webp\";\nimport {Link, Box, Typography, makeStyles, Button} from '@material-ui/core';\nimport context from './Context';\n\nconst useStyles = makeStyles((theme) => ({\n  titleWrapper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: \"100%\",\n  },\n  logo: {\n    width: 50,\n    paddingBottom: theme.spacing(1)\n  },\n  title: {\n      fontFamily: theme.typography.special,\n      color: theme.palette.primary.dark,\n  },\n  buttonWrapper: {\n    display: 'flex',\n    justifyContent: 'space-evenly',\n    alignItems: 'center',\n  }\n}));\n\nconst LogIn = () => {\n\n  const classes = useStyles();\n  const {loggedIn, logIn} = useContext(context);\n\n  const uiConfig = {\n    signInFlow: \"popup\",\n    // We will display Google and Facebook as auth providers.\n    signInOptions: [\n      firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n      //   firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n    ],\n    callbacks: {\n      // Avoid redirects after sign-in.\n      signInSuccessWithAuthResult: (authResult, redirectUrl) => {\n        logIn(authResult);\n        return false;\n      }\n    },\n  };\n\n    return (\n      <Box>\n        <div\n          className={classes.titleWrapper}\n        >\n          <img src={logo} alt=\"aCasa logo\" className={classes.logo} />\n          <Typography\n            variant=\"h4\"\n            component=\"h3\"\n            className={classes.title}\n          >\n            aCasa\n          </Typography>\n        </div>\n        {!loggedIn ? (\n          <div>\n            <Typography align=\"center\">Log in with one of the following methods</Typography>\n            <StyledFirebaseAuth\n              uiConfig={uiConfig}\n              firebaseAuth={firebase.auth()}\n            />\n          </div>\n        ) : (\n          <div>\n            <Typography align=\"center\">\n              Welcome back! You are now\n              signed in!\n            </Typography >\n            <div className={classes.buttonWrapper}>\n              <Button href=\"/profile\">Go to Profile</Button>\n              <Button href=\"/post\">Post a Home</Button>\n            </div>\n          </div>\n        )}\n      </Box>\n    );\n  \n}\n\nexport default LogIn;","import React from \"react\";\nimport { makeStyles, Link, Typography } from \"@material-ui/core\";\nimport Modal from \"@material-ui/core/Modal\";\nimport LogIn from \"./LogIn\";\n\nconst useStyles = makeStyles((theme) => ({\n  modalContent: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    top: `50%`,\n    left: `50%`,\n    transform: `translate(-50%, -50%)`,\n    outlineColor: theme.palette.secondary.light,\n  },\n  buttonLink: {\n    marginRight: theme.spacing(2),\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.main,\n    cursor: 'pointer'\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark\n  },\n}));\n\nexport default function MyModal() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <>\n      <Link>\n        <Typography variant=\"h6\" component=\"span\" \n        className={classes.buttonLink}\n        onClick={handleOpen}\n        >\n          Log In\n        </Typography>\n      </Link>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"aCasa log in\"\n        aria-describedby=\"log into your aCasa account here\"\n        disableAutoFocus={true}\n      >\n        <div className={classes.modalContent}>\n          <LogIn/>\n        </div>\n      </Modal>\n    </>\n  );\n}\n","import React, {useContext} from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Fade from \"@material-ui/core/Fade\";\nimport { Link } from \"react-router-dom\";\nimport context from './Context';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: \"static\",\n    zIndex: 10,\n    height: 65,\n    width: \"100%\",\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n\n\n}));\n\nexport default function SearchAppBar(props) {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n\n  const { loggedIn, logOut } = useContext(context);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleLogoutClose = () => {\n      logOut();\n      handleClose();\n  }\n\n  return (\n    <>\n      <IconButton\n        edge=\"start\"\n        className={classes.menuButton}\n        color=\"primary\"\n        href=\"/search\"\n      >\n        <SearchIcon fontSize=\"large\" />\n      </IconButton>\n      <IconButton\n        edge=\"start\"\n        className={classes.menuButton}\n        color=\"primary\"\n        aria-label=\"open drawer\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n      >\n        <MenuIcon fontSize=\"large\" />\n      </IconButton>\n      <Menu\n        id=\"fade-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Fade}\n      >\n        {loggedIn ? (\n          <>\n            <MenuItem onClick={handleClose} component={Link} to={\"/profile\"}>\n              Profile\n            </MenuItem>\n            <MenuItem\n              onClick={handleClose}\n              component={Link}\n              to={\"/profile/settings\"}\n            >\n              Settings\n            </MenuItem>\n            <MenuItem\n              onClick={handleClose}\n              component={Link}\n              to={\"/create-listing\"}\n            >\n              Create Listing\n            </MenuItem>\n            <MenuItem onClick={handleLogoutClose}>Log Out</MenuItem>\n          </>\n        ) : (\n          <>\n            <MenuItem onClick={handleClose} component={Link} to={\"/search\"}>\n              Search\n            </MenuItem>\n            <MenuItem onClick={handleClose} component={Link} to={\"/sign-up\"}>\n              Sign Up\n            </MenuItem>\n            <MenuItem onClick={handleClose} component={Link} to={\"/log-in\"}>\n              Log In\n            </MenuItem>\n          </>\n        )}\n      </Menu>\n    </>\n  );\n}\n","import React, { useContext} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Link from \"@material-ui/core/Link\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\nimport logo from \"../theme/logo-big.webp\";\nimport SignUpModal from './SignUpModal';\nimport ProfileMenu from './ProfileMenu';\nimport appContext from './Context';\nimport LogInModal from \"./LogInModal\";\nimport MobileNavMenu from './MobileNavMenu';\nimport { useTheme } from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport AddIcon from \"@material-ui/icons/Add\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    position: \"relative\",\n    zIndex: 3,\n  },\n  appBar: {\n    backgroundColor: theme.palette.secondary.main,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    fontFamily: theme.typography.special,\n  },\n  menuLink: {\n    marginRight: theme.spacing(2),\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.main,\n  },\n  logo: { width: 50 },\n  title: {\n    flexGrow: 1,\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.main,\n  },\n  rightNav: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  profileMenu: {\n    fontSize: \"1.5rem\",\n  },\n}));\n\nexport default function MenuAppBar() {\n  const classes = useStyles();\n  const theme = useTheme();\n  const smallScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  const { loggedIn } = useContext(appContext)\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar className={classes.appBar}>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"menu\"\n            href=\"/\"\n          >\n            <img src={logo} alt=\"aCasa logo\" className={classes.logo} />\n          </IconButton>\n          <Typography variant=\"h4\" component=\"h2\" className={classes.title}>\n            <Link href=\"/\">aCasa</Link>\n          </Typography>\n\n          <div className={classes.rightNav}>\n            {smallScreen ? (\n              <MobileNavMenu />\n            ) : (\n              <>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  className={classes.menuButton}\n                  href=\"/search\"\n                >\n                  <SearchIcon style={{ paddingRight: 10 }} />\n                  Discover Homes\n                </Button>\n                {loggedIn ? (\n                  <>\n                    <Button\n                      variant=\"contained\"\n                      color=\"primary\"\n                      className={classes.menuButton}\n                      href=\"/create-listing\"\n                    >\n                      <AddIcon style={{ paddingRight: 10 }} />\n                      Create Listing\n                    </Button>\n                    <ProfileMenu className={classes.profileMenu} />\n                  </>\n                ) : (\n                  <>\n                    <SignUpModal />\n                    <LogInModal />\n                  </>\n                )}\n              </>\n            )}\n          </div>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Box, Button, Typography } from \"@material-ui/core\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport womanMountainHome from \"../vector-icons/green/woman-with-home-mountain.svg\";\n\nconst useStyles = makeStyles((theme) => ({\n  hero: {\n    display: \"grid\",\n    gridTemplateColumns: \"1.25fr 1fr\",\n    padding: \"6em 5em 0\",\n    alignItems: \"center\",\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n    backgroundColor: theme.palette.background.default,\n    [theme.breakpoints.down(\"md\")]: {\n      paddingTop: theme.spacing(20),\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"flex\",\n      flexDirection: \"column-reverse\",\n      paddingTop: theme.spacing(12),\n      paddingLeft: theme.spacing(0),\n      paddingRight: theme.spacing(0),\n      paddingBottom: theme.spacing(6),\n      width: '100%'\n    },\n  },\n  heroImg: {\n    width: 500,\n    opacity: 0.8,\n    height: 300,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    [theme.breakpoints.down(\"md\")]: {\n      marginBottom: theme.spacing(1),\n      height: 250,\n      width: 'auto'\n    },\n\n    [theme.breakpoints.down(\"sm\")]: {\n      width: 300,\n    },\n  },\n  heroText: {\n    padding: theme.spacing(1.5)\n  },\n  button: {\n    fontFamily: theme.typography.special,\n  },\n}));\n\nconst Hero = () => {\n    const classes = useStyles();\n\n    return (\n      <>\n        <Box className={classes.hero}>\n          <Box className={classes.heroText}>\n            <Typography\n              variant=\"h5\"\n              component=\"p\"\n              style={{ fontFamily: \"inherit\" }}\n            >\n              aCasa\n            </Typography>\n            <Typography\n              variant=\"h4\"\n              component=\"h1\"\n              style={{ fontFamily: \"inherit\" }}\n            >\n              Medium-term furnished rentals\n            </Typography>\n            <p>\n              For when it's longer than a vacation but you don't want to sign the lease.\n            </p>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              href=\"/search\"\n              className={classes.button}\n            >\n              Get Started\n            </Button>\n          </Box>\n          <div className={classes.heroImg} style={{backgroundImage: `url(${womanMountainHome})`}}>\n          </div>\n        </Box>\n        <Divider />\n      </>\n    );\n}\n\nexport default Hero;","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    maxWidth: 325,\n    minHeight: 250,\n    margin: theme.spacing(1),\n    [theme.breakpoints.down(\"sm\")]: {\n      marginLeft: 0,\n      marginRight: 0,\n    }\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n  },\n  img: {\n    height: 140,\n    backgroundPosition: ' 0 -7px',\n    backgroundSize: 'cover', \n\n    width: '100%'\n  }\n\n}));\n\nexport default function ImgMediaCard({img, imgTitle, imgAlt, imgStyling, cardTitle, cardContent, buttonLink, buttonContent  }) {\n  \n  const classes = useStyles();\n\n  return (\n    <Card className={classes.root}>\n        <div  title={imgTitle} alt={imgAlt}\n          className={classes.img}\n          style={{backgroundImage: `url(${img})`, ...imgStyling}}\n        ></div>\n        <CardContent>\n          <Typography gutterBottom variant=\"h5\" component=\"h2\" className={classes.title}>\n            {cardTitle}\n          </Typography>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n            {cardContent}\n          </Typography>\n        </CardContent>\n      { buttonLink && buttonContent && (\n        <CardActions>\n            <Button size=\"small\" color=\"primary\" href={buttonLink}>\n            {buttonContent}\n            </Button>\n        </CardActions>\n      )}\n    </Card>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {Paper, Box, Typography, Divider, Container, Button} from \"@material-ui/core/\";\nimport Card from './Card';\nimport remoteWork from '../vector-icons/green/remote-work.svg'\nimport selectingHome from '../vector-icons/green/many-homes.svg'\nimport directCommunication from '../vector-icons/green/conversation.svg'\nimport shareNews from '../vector-icons/green/news-megaphone.svg'\nimport controlSettings from '../vector-icons/green/control-settings.svg'\nimport payment from '../vector-icons/green/transfer-money.svg'\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    margin: theme.spacing(1.5),\n    padding: theme.spacing(2),\n    maxWidth: \"90vw\",\n    backgroundColor: theme.palette.background.default,\n  },\n  sectionWrapper: {\n    padding: theme.spacing(2),\n    [theme.breakpoints.down(\"sm\")]: {\n      padding: 0,\n    },\n  },\n  cardWrapper: {\n    display: \"flex\",\n    justifyContent: \"space-evenly\",\n    flexDirection: \"row\",\n    padding: \"1rem\",\n    flexWrap: \"wrap\",\n    [theme.breakpoints.down(\"sm\")]: {\n      padding: 0,\n    },\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n  },\n  ownerLearnMoreWrapper: {\n    width: \"1005\",\n    display: \"flex\",\n    justifyContent: \"center\",\n  },\n  divider: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  }\n}));\n\nconst ForUsers = () => {\n  const classes = useStyles();\n\n  return (\n    <>\n      <Paper className={classes.container}>\n        <Box className={classes.sectionWrapper}>\n          <Typography variant=\"h4\" component=\"h3\" className={classes.title}>\n            For Renters\n          </Typography>\n          <Box className={classes.cardWrapper}>\n            <Card\n              img={remoteWork}\n              imgAlt=\"woman working remotely vector art\"\n              imgTitle=\"Remote worker\"\n              cardTitle=\"Digital Nomad Friendly\"\n              cardContent=\"Flexible options and relevant info perfect for digital nomads.\"\n            />\n            <Card\n              img={selectingHome}\n              imgAlt=\"many types of homes vector art\"\n              imgTitle=\"Selecting a home\"\n              imgStyling={{\n                backgroundPosition: \"bottom center\",\n              }}\n              cardTitle=\"Diverse Selection\"\n              cardContent=\"A broad selection of housing options all around the world.\"\n            />\n            <Card\n              img={directCommunication}\n              imgAlt=\"two people talking vector art\"\n              imgTitle=\"Direct communication with owner\"\n              cardTitle=\"Direct Communication\"\n              cardContent=\"Coordinate directly with property owner to accommodate your unique situation.\"\n            />\n          </Box>\n        </Box>\n        <Divider className={classes.divider} />\n        <Box className={classes.sectionWrapper}>\n          <Typography variant=\"h4\" component=\"h3\" className={classes.title}>\n            For Owners\n          </Typography>\n          <Box className={classes.cardWrapper}>\n            <Card\n              img={shareNews}\n              imgAlt=\"man standing out from crowd vector art\"\n              imgTitle=\"Make your listings stand out\"\n              cardTitle=\"Exposure\"\n              cardContent=\"Get views on aCasa and your listings everywhere for maximum exposure.\"\n              imgStyling={{\n                backgroundPosition: \"0 15px \",\n                backgroundRepeat: \"no-repeat\",\n              }}\n            />\n            <Card\n              img={controlSettings}\n              imgAlt=\"woman controlling settings vector art\"\n              imgTitle=\"Control the experience\"\n              cardTitle=\"Full Control\"\n              cardContent=\"Once we connect you with the prospect, you control the whole process.\"\n              imgStyling={{ backgroundPosition: \"0 -25px \" }}\n            />\n            <Card\n              img={payment}\n              imgAlt=\"two people exchanging money vector are\"\n              imgTitle=\"Exchanging payment\"\n              cardTitle=\"Your Payment Process\"\n              cardContent=\"You decide the payment process and we take NO FEES.\"\n              imgStyling={{ backgroundPosition: \"0 -35px \" }}\n            />\n          </Box>\n          {/* <Box className={classes.ownerLearnMoreWrapper}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              href=\"#\"\n            >\n              Learn More\n            </Button>\n          </Box> */}\n        </Box>\n      </Paper>\n    </>\n  );\n};\n\nexport default ForUsers;\n","import Geocode from \"react-geocode\";\n \n// set Google Maps Geocoding API for purposes of quota management. Its optional but recommended.\nGeocode.setApiKey(\"AIzaSyBSHvxwJqoYbeiJTby6ijIkR74Bia1bJ0s\");\n\n// set response language. Defaults to english.\nGeocode.setLanguage(\"en\");\n\nconst geocodeFromLatLng = async (lat, lng) => { \n    \n    try{ \n        const res = await Geocode.fromLatLng(lat, lng);\n        const addressInfo = res.results[0];\n        return addressInfo;\n    } catch(err){\n        console.error(err);\n        return {error: err}\n    } \n}\n\nconst geocodeFromAddress = async (addressStr) => {\n\n    try{\n        const res = await Geocode.fromAddress(addressStr);\n        const geo = res.results[0].geometry;\n        return geo;\n    }catch(err){\n        console.error(err);\n        return {'error': err};\n    }\n}\n\n\nexport default {\n  geocodeFromLatLng,\n  geocodeFromAddress,\n};","import React from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport parse from \"autosuggest-highlight/parse\";\nimport throttle from \"lodash/throttle\";\nimport geocoder from '../google-maps/geocoder';\n\nfunction loadScript(src, position, id) {\n  if (!position) {\n    return;\n  }\n\n  const script = document.createElement(\"script\");\n  script.setAttribute(\"async\", \"\");\n  script.setAttribute(\"id\", id);\n  script.src = src;\n  position.appendChild(script);\n}\n\nconst autocompleteService = { current: null };\n\nconst useStyles = makeStyles((theme) => ({\n  icon: {\n    color: theme.palette.text.secondary,\n    marginRight: theme.spacing(2),\n  },\n}));\n\nexport default function GoogleMapsAutoComplete({formSetter, variant, label,\n                  inputVal, defaultValue, helperText, required}) {\n  const classes = useStyles();\n  const [value, setValue] = React.useState(null);\n  const [inputValue, setInputValue] = React.useState(\n    defaultValue\n  );\n  const [options, setOptions] = React.useState([]);\n  const loaded = React.useRef(false);\n\n  if (typeof window !== \"undefined\" && !loaded.current) {\n    if (!document.querySelector(\"#google-maps\")) {\n      loadScript(\n        \"https://maps.googleapis.com/maps/api/js?key=AIzaSyBSHvxwJqoYbeiJTby6ijIkR74Bia1bJ0s&libraries=places\",\n        document.querySelector(\"head\"),\n        \"google-maps\"\n      );\n    }\n\n    loaded.current = true;\n  }\n\n  const fetch = React.useMemo(\n    () =>\n      throttle((request, callback) => {\n        autocompleteService.current.getPlacePredictions(\n          request,\n          callback\n        );\n      }, 200),\n    []\n  );\n\n  React.useEffect(() => {\n    let active = true;\n\n    if (!autocompleteService.current && window.google) {\n      var autocompleteOptions = {\n        types: [\"establishment\", \"\"],\n      };\n      autocompleteService.current = new window.google.maps.places.AutocompleteService( autocompleteOptions);\n      \n    }\n    if (!autocompleteService.current) {\n      return undefined;\n    }\n\n    if (inputValue === \"\") {\n      setOptions(value ? [value] : []);\n      return undefined;\n    }\n\n    fetch({ input: inputValue }, (results) => {\n      if (active) {\n        let newOptions = [];\n\n        if (value) {\n          newOptions = [value];\n        }\n\n        if (results) {\n          newOptions = [...newOptions, ...results];\n        }\n\n        setOptions(newOptions);\n      }\n    });\n\n    return () => {\n      active = false;\n    };\n  }, [value, inputValue, fetch]);\n\n  return (\n    <Autocomplete\n      id=\"google-map-autocomplete-search\"\n      style={{ width: 300 }}\n      getOptionLabel={(option) =>\n        typeof option === \"string\" ? option : option.description\n      }\n      filterOptions={(x) => x}\n      options={options}\n      autoComplete\n      includeInputInList\n      filterSelectedOptions\n      value={value}\n      onChange={async (event, newValue) => {\n        //NOTE: this 'value' is what we want to track and send to parent\n        setOptions(newValue ? [newValue, ...options] : options);\n        const geo = await geocoder.geocodeFromAddress(newValue.description);\n        newValue.geometry = geo;\n        setValue(newValue);\n        formSetter(newValue);\n        \n      }}\n      onInputChange={(event, newInputValue) => {\n        setInputValue(newInputValue);\n      }}\n      renderInput={(params) => (\n        <TextField\n          {...params}\n          label={label || \"Search locations\"}\n          variant={variant || \"outlined\"}\n          color=\"secondary\"\n          fullWidth\n          defaultValue={inputValue}\n          helperText={helperText}\n          required={required}\n        />\n      )}\n      renderOption={(option) => {\n        const matches =\n          option.structured_formatting\n            .main_text_matched_substrings;\n        const parts = parse(\n          option.structured_formatting.main_text,\n          matches.map((match) => [\n            match.offset,\n            match.offset + match.length,\n          ])\n        );\n\n        return (\n          <Grid container alignItems=\"center\">\n            <Grid item>\n              <LocationOnIcon className={classes.icon} />\n            </Grid>\n            <Grid item xs>\n              {parts.map((part, index) => (\n                <span\n                  key={index}\n                  style={{\n                    fontWeight: part.highlight ? 700 : 400,\n                  }}\n                >\n                  {part.text}\n                </span>\n              ))}\n\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                {option.structured_formatting.secondary_text}\n              </Typography>\n            </Grid>\n          </Grid>\n        );\n      }}\n    />\n  );\n}\n","import React, {useState} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'inline-block'\n  },\n  formControl: {\n    // marginLeft: theme.spacing(1.5),\n    marginRight: theme.spacing(1.5),\n    minWidth: 140,\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\nexport default function SelectOption({labelText, name, options, required, formSetter, defaultValue}) {\n\n  const classes = useStyles();\n\n  const [value, setValue ] = useState();\n  const handleChange = e => {\n    e.preventDefault();\n    setValue(e.target.value);\n    if(formSetter){\n      formSetter(e.target.value)\n    }\n  };\n  return (\n    <div className={classes.root}>\n      <FormControl className={classes.formControl} required={required}>\n        <InputLabel htmlFor={name} color=\"secondary\">\n          {labelText}\n        </InputLabel>\n        <Select\n          native\n          value={value || defaultValue}\n          onChange={handleChange}\n          label={labelText}\n          name={name}\n          color=\"secondary\"\n        >\n          <option aria-label=\"None\" value=\"\" />\n          {options &&\n            options.map((option) => (\n              <option value={option.value}>{option.label}</option>\n            ))}\n        </Select>\n      </FormControl>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    display: \"inline-block\",\n  },\n  textField: {\n    marginLeft: theme.spacing(1.5),\n    marginRight: theme.spacing(1.5),\n    width: 200,\n  },\n}));\nexport default function DatePickers({labelText, formSetter, required, defaultValue, helperText}) {\n  const classes = useStyles();\n  \n  const changeHandler = e => {\n    e.preventDefault();\n    formSetter(e.target.value)\n  }\n  return (\n    <form className={classes.container} noValidate>\n      <TextField\n        label={labelText}\n        type=\"date\"\n        color=\"secondary\"\n        required={required}\n        defaultValue={defaultValue}\n        helperText={helperText}\n        onChange={changeHandler}\n        className={classes.textField}\n        InputLabelProps={{\n          shrink: true,\n        }}\n      />\n    </form>\n  );\n}\n","\nexport default async function getGeographicPosition(setter){\n\n    try {\n        const { coords } = await getCurrentPosition();\n        return coords;\n\n        // Handle coordinates\n    } catch (error) {\n        // Handle error\n        console.error(error);\n        alert(\"You need to give aCasa access to your location to use this feature. If you'd prefer, you can also just search for your location in the search bar.\")\n    }  \n    \n}\n\nfunction getCurrentPosition(options = {}) {\n  return new Promise((resolve, reject) => {\n    navigator.geolocation.getCurrentPosition(resolve, reject, options);\n  });\n}\n\n","import React, { useState } from 'react';\nimport {Paper, makeStyles, Typography, IconButton, CircularProgress} from '@material-ui/core';\nimport GoogleMapsSearchBox from './GoogleMapsSearchBox';\nimport SelectOption from './SelectOption';\nimport DateSelector from './DateSelector';\nimport { Button } from \"@material-ui/core\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport MyLocationIcon from \"@material-ui/icons/MyLocation\";\nimport hometypes from \"../searchtypes.json\";\nimport format from \"date-fns/format\";\nimport { Redirect } from 'react-router-dom';\nimport getLocation from '../utils/getGeographicLocation';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginBottom: theme.spacing(1),\n    padding: theme.spacing(2),\n    width: 550,\n    // maxWidth: 450,\n    backgroundColor: theme.palette.background.white,\n    [theme.breakpoints.down(\"sm\")]: {\n      backgroundColor: \"rgba(255,255,255,.7)\",\n      width: \"90%\",\n      paddingBottom: theme.spacing(5),\n    },\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n    paddingBottom: theme.spacing(1.5),\n  },\n  form: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexWrap: \"wrap\",\n    width: \"100%\",\n  },\n  formElementWrapper: {\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n  },\n  dateSelect: {\n    [theme.breakpoints.down(\"xs\")]: {\n      paddingTop: theme.spacing(1.5),\n    },\n  },\n  hometype: {\n    marginLeft: \"1em\",\n  },\n  searchButton: {\n    display: \"inline-flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    [theme.breakpoints.down(\"md\")]: {\n      width: 150,\n    },\n    [theme.breakpoints.down(\"xs\")]: {\n      marginTop: theme.spacing(3),\n      // width: 150,\n    },\n  },\n}));\nconst SearchBar = ({setSearch}) => {\n    const classes = useStyles();\n    // const [currentLocation, setCurrentLocation] = useState(\"\");\n    const [location, setLocation] = useState(\"\");\n    const [homeType, setHomeType] = useState(\"\");\n    const [startDate, setStartDate] = useState(\"\");\n    const [searchRedirect, setSearchRedirect] = useState(false);\n    const [processingLocation, setProcessingLocation] = useState(false);\n    const search = async (e) => {\n      e.preventDefault();\n      if(!location) {\n        alert('Please select a location to search.');\n        return;\n      }\n      setSearchRedirect(true);\n      if(setSearch){\n        setSearch({\n          homeType,\n          startDate,\n          description: location.description,\n          lat: location.geometry.location.lat,\n          lng: location.geometry.location.lng,\n        });\n      }\n    }\n\n    const getBrowserLocation = async (e) => {\n      e.preventDefault();\n      setProcessingLocation(true);\n      try{\n        const res = await getLocation();\n        setLocation({\n          description: \"my current location\",\n          geometry: {\n            location: {\n              lat: res.latitude,\n              lng: res.longitude,\n            },\n          },\n        });\n        setSearchRedirect(true);\n        if (setSearch) {\n          setSearch({\n            homeType,\n            startDate,\n            description: \"my current location\",\n            lat: res.latitude,\n            lng: res.longitude,\n          });\n        }\n      }catch(err){\n        setProcessingLocation(false);\n      }\n      \n      \n      setProcessingLocation(false);\n    }\n    const todayStr = format(Date.now(), \"y-MM-d\");\n    return (\n      <>\n        {searchRedirect && (\n          <Redirect\n            to={`/search?lat=${location.geometry.location.lat}&lng=${\n              location.geometry.location.lng\n            }&query=${location.description}&startDate=${\n              startDate || \"\"\n            }&homeType=${homeType || \"\"}`}\n          />\n        )}\n        <Paper className={classes.root}>\n          <Typography variant=\"h5\" component=\"h3\" className={classes.title}>\n            Find Your Next Home\n          </Typography>\n          <form className={classes.form} onSubmit={search}>\n            <div className={classes.formElementWrapper}>\n              {processingLocation ? (\n                <CircularProgress size={20} />\n              ) : (\n                <IconButton onClick={getBrowserLocation}>\n                  <MyLocationIcon />\n                </IconButton>\n              )}\n            </div>\n            <div className={classes.formElementWrapper}>\n              <GoogleMapsSearchBox formSetter={setLocation} required />\n            </div>\n            {/* <span className={classes.dateSelect}>\n            <DateSelector\n              labelText=\"Start Date\"\n              formSetter={setStartDate}\n              defaultValue={todayStr}\n              required\n            />\n          </span>\n          <SelectOption\n            labelText=\"Home Type\"\n            formSetter={setHomeType}\n            className={classes.hometype}\n            options={hometypes}\n          /> */}\n          <div className={classes.formElementWrapper}>\n            <Button\n              className={classes.searchButton}\n              variant=\"contained\"\n              color=\"primary\"\n              href=\"#\"\n              onClick={search}\n            >\n              <SearchIcon />\n            </Button>\n          </div>\n          </form>\n        </Paper>\n      </>\n    );\n}\n\nexport default SearchBar;","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: 'center',\n    width: \"100%\",\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(3),\n  },\n}));\nconst MainContentWrapper = ({children})=>{\n    const classes = useStyles();\n    return (\n        <main className={classes.main}>\n            {children}\n        </main>\n    )\n\n}\n\nexport default MainContentWrapper;","import React from 'react';\n// import { } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Hero from './Hero';\nimport ForUsers from './ForUsers';\nimport SearchBar from './SearchBar';\nimport MainContentWrapper from './MainContentWrapper';\n\nconst useStyles = makeStyles((theme) => ({\n  searchWrapper: { \n    position: 'absolute',\n    zIndex: 1,\n    width: '100%',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    left: '50%',\n    transform: 'translate(-50%, 0)'\n  }\n}));\n\nconst Homepage = () => {\n    const classes = useStyles();\n\n    return (\n      <>\n        <div className={classes.searchWrapper}>\n          <SearchBar />\n        </div>\n        <Hero />\n        <MainContentWrapper>\n          <ForUsers />\n        </MainContentWrapper>\n      </>\n    );\n}\n\nexport default Homepage;\n","import React from 'react';\nimport {Paper, makeStyles} from '@material-ui/core' ;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(1),\n    maxWidth: \"90vw\",\n    backgroundColor: theme.palette.background.default,\n  },\n}));\n\nexport default function ContentPaper({children, style}){\n\n    const classes = useStyles()\n    return(\n        <Paper className={classes.root} style={style}>\n            {children}\n        </Paper>\n    )\n}","\nexport default function dateFormatter(fbDateObj){\n    const dateObj = fbDateObj.toDate();\n    const months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n    const month = months[dateObj.getMonth()];\n    const dateStr = `${month} ${dateObj.getDate()}, ${dateObj.getFullYear()}`;\n    return dateStr;\n}","import React from 'react';\nimport {Button, makeStyles} from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n    button: { \n        fontFamily: theme.typography.special,\n        padding: theme.spacing(2),\n        maxHeight: 50,\n        textAlign: 'center'\n    }\n}))\n\nexport default function ThemeButton({children, ...props}){\n    const classes = useStyles();\n    return (\n      <Button\n        {...props}\n        className={classes.button}\n        variant=\"contained\"\n        color=\"primary\"\n        component=\"div\"\n      >\n        {children}\n      </Button>\n    );\n}","const firebaseConfig = {\n  apiKey: \"AIzaSyAF9WtnzV6ZcalwDz_tXxbS2PNDLUkET-8\",\n  authDomain: \"acasa-bd3af.firebaseapp.com\",\n  databaseURL: \"https://acasa-bd3af.firebaseio.com\",\n  projectId: \"acasa-bd3af\",\n  storageBucket: \"acasa-bd3af.appspot.com\",\n  messagingSenderId: \"425327876901\",\n  appId: \"1:425327876901:web:fef97f39172473c6da18cc\",\n  measurementId: \"G-T7F7CH36QN\",\n};\n\n\n\nexport default firebaseConfig;","import config from './firebaseConfig'\nimport firebase from 'firebase';\n\nconst app = firebase.initializeApp(config);\nfirebase.analytics();\n\nexport default app\n","import app from './firebaseApp';\nimport firebase from 'firebase';\n\nconst db = firebase.firestore(app);\n\nexport default db;\n","import db from \"../../config/firestoreDb\";\n\nexport default async function getUserByUserName(username){ \n    const res = await db.collection('users').where('username', '==', username).get();\n    if (res.empty) return null;\n\n    const users = []\n    res.forEach((doc) => {\n      users.push(doc.data());\n    });\n    return users[0];\n\n}","import React, {useState, useEffect} from 'react';\nimport { makeStyles, Link, Typography, Avatar, List, \n  ListItem, ListItemIcon, ListItemText } from \"@material-ui/core\";\nimport Modal from \"@material-ui/core/Modal\";\nimport ThemeButton from './Button'\nimport getUserByUid from '../queries/users/getUserByUid';\nimport MailIcon from \"@material-ui/icons/Mail\";\nimport PhoneAndroidIcon from \"@material-ui/icons/PhoneAndroid\";\nimport LanguageIcon from \"@material-ui/icons/Language\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport getUserByUserName from '../queries/users/getUserByUserName';\n\nconst useStyles = makeStyles( theme => ({\n    modalContent: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    top: `50%`,\n    left: `50%`,\n    transform: `translate(-50%, -50%)`,\n    outlineColor: theme.palette.secondary.light,\n  },\n  header: {\n    display: 'flex',\n    flexDirection: \"column\",\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  avatar: {\n    height: theme.spacing(12),\n    width: theme.spacing(12),\n    margin: theme.spacing(3)\n    \n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark\n  },\n  listWrapper: {\n    display: 'flex', \n    alignItems: 'center', \n    flexDirection: 'column', \n    justifyContent: 'center'\n  }\n}));\n\nexport default function ContactModal({userToContact, username, noName}){\n\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [user, setUser] = useState(userToContact || { contact: { email: null}})\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  useEffect(()=>{\n    if(username && !user.contact.email){\n        (async ()=>{\n            const userInfo = await getUserByUserName(username);\n            setUser(userInfo);\n        })()\n    }\n  },[user.contact, username])\n\n  return (\n    <>\n      <ThemeButton onClick={handleOpen} style={{padding: '.5em'}}>\n        <>Contact {noName ? \"Owner\" : user.first_name}</>\n      </ThemeButton>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"aCasa log in\"\n        aria-describedby=\"log into your aCasa account here\"\n        disableAutoFocus={true}\n      >\n        <div className={classes.modalContent}>\n          <div className={classes.header}>\n            <Avatar\n              src={user.profile_picture}\n              alt={`${user.first_name} ${user.last_name}`}\n              style={{ marginRight: 10 }}\n              className={classes.avatar}\n            />\n            <Typography className={classes.title} component=\"h3\" variant=\"h5\">\n              Contact {user.first_name} {user.last_name}\n            </Typography>\n          </div>\n          {!user.contact.email && (\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"center\",\n                margin: \"2em\",\n              }}\n            >\n              <CircularProgress color=\"secondary\" />\n            </div>\n          )}\n          { user && user.contact.email && user.uid && (\n            <div className={classes.listWrapper}>\n              <List>\n                {user.contact.email && (\n                  <ListItem>\n                    <ListItemIcon>\n                      <MailIcon color=\"secondary\" />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={\n                        <Link\n                          href={`mailto:${user.contact.email}`}\n                          target=\"_blank\"\n                        >\n                          {user.contact.email}\n                        </Link>\n                      }\n                    />\n                  </ListItem>\n                )}\n                {user.contact.phone && (\n                  <ListItem>\n                    <ListItemIcon>\n                      <PhoneAndroidIcon color=\"secondary\" />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={\n                        <Link href={`tel:${user.contact.phone}`}>\n                          {user.contact.phone}\n                        </Link>\n                      }\n                    />\n                  </ListItem>\n                )}\n                {user.contact.whatsapp && (\n                  <ListItem>\n                    <ListItemIcon>\n                      <WhatsAppIcon color=\"secondary\" />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={\n                        <Link href={`tel:${user.contact.whatsapp}`}>\n                          {user.contact.whatsapp}\n                        </Link>\n                      }\n                    />\n                  </ListItem>\n                )}\n                {user.contact.website && (\n                  <ListItem>\n                    <ListItemIcon>\n                      <LanguageIcon color=\"secondary\" />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={\n                        <Link\n                          href={\n                            user.contact.website.startsWith(\"https://\") ||\n                            user.contact.website.startsWith(\"http://\")\n                              ? user.contact.website\n                              : `http://${user.contact.website}`\n                          }\n                          target=\"_blank\"\n                        >\n                          {\" \"}\n                          {user.contact.website}{\" \"}\n                        </Link>\n                      }\n                    />\n                  </ListItem>\n                )}\n              </List>\n            </div>\n          )}\n        </div>\n      </Modal>\n    </>\n  );\n\n}","import React from 'react';\nimport ContentPaper from './ContentPaper';\nimport {makeStyles, Box, Avatar, Typography, Button, CircularProgress} from '@material-ui/core';\nimport {format} from 'date-fns'\nimport dateFormatter from '../utils/dateFormatter';\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport ContactModal from './ContactModal';\nconst useStyles = makeStyles((theme) => ({\n  wrapper: {\n    display: \"flex\",\n    padding: theme.spacing(2),\n    [theme.breakpoints.down(\"sm\")]: {\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n    },\n  },\n  settingsButton: {\n    position: \"absolute\",\n  },\n  profilePicture: {\n    width: 325,\n    height: 325,\n    [theme.breakpoints.down(\"sm\")]: {\n      width: 300,\n      height: 300,\n    },\n  },\n  mainProfileContent: {\n    padding: theme.spacing(2),\n    paddingLeft: theme.spacing(4),\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: \"100%\",\n    minHeight: 250,\n  },\n  progress: {\n    alignSelf: \"center\",\n    justifySelf: \"center\",\n    margin: theme.spacing(10),\n  },\n  primaryInfoWrapper: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    width: \"100%\",\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n    paddingBottom: theme.spacing(1.5),\n  },\n  joinDate: {\n    fontSize: \"1.25rem\",\n    [theme.breakpoints.down(\"sm\")]: {\n      paddingBottom: theme.spacing(1.5),\n    },\n  },\n  bold: {\n    fontWeight: \"bold\",\n  },\n  secondaryInfo: {\n    paddingBottom: theme.spacing(2),\n    fontSize: \"1.25rem\",\n  },\n  button: {\n    fontFamily: theme.typography.special,\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    position: \"static\",\n    height: 40,\n    minWidth: 80,\n    padding: theme.spacing(2)\n  },\n}));\n\nexport default function UserProfileInfo({user, profile, username}){\n    const classes = useStyles();\n\n    return (\n      <ContentPaper style={{ width: \"100%\" }}>\n        <Box className={classes.wrapper}>\n          <Avatar\n            src={user.profile_picture}\n            alt={`${user.first_name}\n                ${user.last_name}`}\n            className={classes.profilePicture}\n          />\n          <Box className={classes.mainProfileContent}>\n            {!user.username ? ( \n              <CircularProgress className={classes.progress} size={100}/>\n            ):(  \n              <>\n              <Box className={classes.primaryInfoWrapper}>\n                <Box>\n                  <Typography\n                    variant=\"p\"\n                    component=\"p\"\n                    color=\"textSecondary\"\n                    className={classes.joinDate}\n                  >\n                    Joined {user.joined}\n                  </Typography>\n                  <Typography\n                    variant=\"h3\"\n                    component=\"h1\"\n                    className={classes.title}\n                  >\n                    {user.first_name} {user.last_name}\n                  </Typography>\n                </Box>\n                { profile ? (\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.button}\n                    href={\"/profile/settings\"}\n                  >\n                    <SettingsIcon style={{paddingRight: '.25em'}}/> Settings \n                  </Button>\n                ) : (\n                  <ContactModal userToContact={user} username={username}/> \n                )}\n              </Box>\n\n              <Box className={classes.secondaryInfoWrapper}>\n                {user.location && user.location.description && (\n                  <Typography\n                    variant=\"p\"\n                    component=\"p\"\n                    color=\"textPrimary\"\n                    className={classes.secondaryInfo}\n                  >\n                    <span className={classes.bold}>Location:</span>{\" \"}\n                    {user.location.description}\n                  </Typography>\n                )}\n                {user.languages && user.languages.length && (\n                  <Typography\n                    variant=\"p\"\n                    component=\"p\"\n                    color=\"textPrimary\"\n                    className={classes.secondaryInfo}\n                  >\n                    <span className={classes.bold}>Languages:</span>{\" \"}\n                    {user.languages.join(\", \")}\n                  </Typography>\n                )}\n                {user.bio && (\n                  <Typography\n                    variant=\"p\"\n                    component=\"p\"\n                    color=\"textPrimary\"\n                    className={classes.secondaryInfo}\n                  >\n                    <span\n                      className={classes.bold}\n                      style={{ display: \"block\", marginBottom: \".25em\" }}\n                    >\n                      About {user.first_name}:\n                    </span>\n                    {user.bio}\n                  </Typography>\n                )}\n              </Box>\n              </>\n            )}\n          </Box> \n        </Box>\n      </ContentPaper>\n    );\n}","import React, {useState, useContext} from 'react';\nimport {Paper, Box, makeStyles, Typography, IconButton, Link, Chip, Avatar} from '@material-ui/core';\nimport pink from '@material-ui/core/colors/pink';\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport HotelIcon from \"@material-ui/icons/Hotel\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport BathtubIcon from \"@material-ui/icons/Bathtub\";\nimport WifiIcon from \"@material-ui/icons/Wifi\";\nimport ContactModal from './ContactModal';\nimport context from './Context';\nimport Button from './Button'\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    minHeight: 250,\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    [theme.breakpoints.down(\"sm\")]: {\n      flexDirection: \"column\",\n    },\n  },\n  img: {\n    backgroundPosition: \"center\",\n    //TODO: add a better default img\n    // backgroundImage: `url(https://r-cf.bstatic.com/images/hotel/max1024x768/365/36548015.jpg)`,\n    backgroundRepeat: \"no-repeat\",\n    backgroundSize: \"cover\",\n    minHeight: 225,\n    minWidth: 350,\n    maxWidth: 400,\n    display: \"inline-block\",\n    borderRight: `1px solid #fafafa`,\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100%\",\n      minWidth: \"100%\",\n    },\n  },\n  mainContent: {\n    padding: theme.spacing(2),\n    paddingTop: theme.spacing(4),\n    width: \"95%\",\n    minHeight: 225,\n    [theme.breakpoints.down(\"sm\")]: { \n      paddingTop: theme.spacing(2),\n    },\n  },\n  topContent: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    [theme.breakpoints.down(\"sm\")]: {\n      flexDirection: 'column-reverse',\n      alignItems: 'flex-start'\n    },\n  },\n  heartButton: {\n    color: pink[500],\n    [theme.breakpoints.down(\"sm\")]: {\n      margin: 0,\n      marginRight: theme.spacing(1),\n\n      alignSelf: 'flex-start'\n    },\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    paddingRight: theme.spacing(1.5),\n    [theme.breakpoints.down(\"sm\")]: {\n      flexDirection: \"column-reverse\",\n      // alignItems: 'flex-start',\n    },\n  },\n  price: {\n    minWidth: 150,\n    textAlign: \"center\",\n    marginLeft: theme.spacing(2),\n    [theme.breakpoints.down(\"sm\")]: {\n      alignSelf: \"flex-end\",\n      textAlign: 'right',\n      marginRight: theme.spacing(.5),\n      paddingTop: theme.spacing(1),\n      paddingBottom: theme.spacing(1),\n    },\n  },\n  chips: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n  chip: {\n    backgroundColor: theme.palette.secondary.light,\n    margin: theme.spacing(1),\n    padding: theme.spacing(0.5),\n    [theme.breakpoints.down(\"xs\")]: {\n      margin: theme.spacing(0.25),\n    },\n  },\n  owner: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: 'center',\n    width: \"100%\",\n    marginTop: theme.spacing(4),\n    [theme.breakpoints.down(\"sm\")]: {\n      flexWrap: \"wrap\",\n    },\n  },\n  ownerInfo: {\n    display: \"inline-flex\",\n    justifyContent: \"left\",\n    alignItems: \"center\",\n    [theme.breakpoints.down(\"sm\")]: {\n      flexGrow: 1,\n      paddingRight: theme.spacing(2.5),\n      paddingBottom: theme.spacing(1.5)\n    },\n  },\n  contactButton: {\n    marginTop: theme.spacing(2),\n    alignSelf: \"center\",\n    justifySelf: 'center',\n    // paddingRight: theme.spacing(3),\n  },\n}));\n\nexport default function ListingCard({listing}){\n    const classes = useStyles();\n    const {user: {uid}} = useContext(context);\n    \n    const [hearted, setHearted] = useState(false);\n    const overview = listing.roommates ? `Room in shared ${listing.type}` : `Whole ${listing.type}`\n\n    const toggleFavorite = () => {\n        setHearted(!hearted);\n    }\n    const triggerModal = () => {\n        //TODO add modal for contacting host \n    }\n    console.log('background img::', listing.primary_img)\n    return (\n      <Paper className={classes.root} elevation={2}>\n        {listing.primary_img && <div\n          className={classes.img}\n          style={{ backgroundImage: `url(${listing.primary_img})` }}\n        ></div>}\n        <Box className={classes.mainContent}>\n          <Box className={classes.topContent}>\n            <Typography variant=\"p\" component=\"p\" color=\"textSecondary\">\n              {overview}\n              {\"  \"}\n              {listing.location.description}\n            </Typography>\n            <IconButton\n              className={classes.heartButton}\n              onClick={toggleFavorite}\n            >\n              {/* {hearted ? <FavoriteIcon /> : <FavoriteBorderIcon />} */}\n            </IconButton>\n          </Box>\n          <Typography variant=\"h4\" component=\"h3\" className={classes.title}>\n            <Link href={`/listings/${listing.id}`}>{listing.title}</Link>\n            <Typography variant=\"h4\" component=\"p\" className={classes.price}>\n              {`$${listing.price}/mo`}\n            </Typography>\n          </Typography>\n          <Box className={classes.chips}>\n            <Chip\n              icon={<HotelIcon />}\n              label={`${listing.bedrooms} bedroom`}\n              className={classes.chip}\n            />\n            <Chip\n              icon={<GroupIcon />}\n              label={\n                listing.max_guests > 1\n                  ? `${listing.max_guests} guests`\n                  : `${listing.max_guests} guest`\n              }\n              className={classes.chip}\n            />\n            <Chip\n              icon={<BathtubIcon />}\n              label={`${listing.bathrooms} bath`}\n              className={classes.chip}\n            />\n            {listing.wifi_speed && (\n              <Chip\n                icon={<WifiIcon />}\n                label={`${listing.wifi_speed} mb/s`}\n                className={classes.chip}\n              />\n            )}\n            {listing.lgbtq && (\n              <Chip label=\" LGBTQ+ friendly\" className={classes.chip} />\n            )}\n          </Box>\n          <div className={classes.owner}>\n            <div className={classes.ownerInfo}>\n              <Avatar\n                src={listing.owner.profile_picture}\n                alt={`${listing.owner.first_name} ${listing.owner.last_name}`}\n                style={{ marginRight: 5, display: \"inline-block\" }}\n              />\n              Listing by{\" \"}\n              <Link\n                href={`/users/${listing.owner.username}`}\n                style={{ marginLeft: 5 }}\n              >\n                {`${listing.owner.first_name} ${listing.owner.last_name}`}\n              </Link>\n            </div>\n            {listing.owner.uid !== uid ? (\n              <ContactModal\n                username={listing.owner.username}\n                className={classes.contactButton}\n              />\n            ) : (\n              <Link href={`/listings/${listing.id}/edit`}>\n                <Button href={`/listings/${listing.id}/edit`}>\n                  Edit Listing\n                </Button>\n              </Link>\n            )}\n            {/* {<ContactModal username={listing.owner.username} />} */}\n          </div>\n        </Box>\n      </Paper>\n    );\n}","import React from 'react';\nimport { Box, makeStyles } from '@material-ui/core';\nimport ListingCard from './ListingCard';\nimport { v4 as uuid } from \"uuid\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    minHeight: \"10vh\",\n    marginLeft: theme.spacing(10),\n    marginRight: theme.spacing(10),\n    [theme.breakpoints.down(\"sm\")]: {\n      marginLeft: theme.spacing(0),\n      marginRight: theme.spacing(0),\n    },\n  },\n}));\nexport default function Listings({listings}){\n    const classes = useStyles();\n    return(\n        <Box className={classes.root}>\n            {listings && listings.length ?(\n                <>\n                    {listings.map(listing => <ListingCard key={uuid()} listing={listing}/>)}\n                </>\n            ):(\n                <p>No listings yet!</p>\n            ) }\n        </Box>\n        \n    )\n}","import db from \"../../config/firestoreDb\";\n\nexport default async function getUserByUserName(username){ \n    const res = await db.collection('listings').where('owner.username', '==', username).get();\n    \n    if (res.empty) return null;\n    \n    const listings = []\n    res.forEach((doc) => {\n      listings.push(doc.data());\n    });\n    return listings;\n\n}","import React, {useEffect, useState, useCallback} from 'react';\nimport ContentPaper from './ContentPaper';\nimport { Typography, makeStyles, Box, CircularProgress } from '@material-ui/core';\nimport Listings from './Listings';\nimport getUserListings from '../queries/listings/getListingsByHostUsername';\n\nconst useStyles = makeStyles((theme) => ({\n  progressWrapper: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: 300,\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n  },\n  wrapper: {\n    padding: theme.spacing(2)\n  },\n}));\nexport default function UserListings({user}){\n    const classes = useStyles();\n    const [listings, setListings] = useState([]);\n\n    const getListings = useCallback(async ()=>{\n      if(user.username){\n        const userListings = await getUserListings(user.username);\n        setListings(userListings);\n      }\n    }, [user.username])\n\n    useEffect(()=>{\n      getListings();\n    },[getListings])\n\n    return (\n      <ContentPaper style={{ marginTop: \"2rem\", width: \"100%\" }}>\n        {(!listings || !listings.length) ? ( <>\n          { !listings ? <p style={{textAlign:'center'}}>{user.first_name} does not have any listings right now.</p> : (\n            <div className={classes.progressWrapper}>\n            <CircularProgress size={100}/>\n          </div>\n          ) }</>\n          \n        ):(\n          <Box className={classes.wrapper}>\n            <Typography variant=\"h4\" component=\"h2\" className={classes.title}>\n              {user.first_name.endsWith(\"s\")\n                ? `${user.first_name}' `\n                : `${user.first_name}'s `}\n              Listings\n            </Typography>\n            <Box>\n                <Listings listings={listings}/>\n            </Box>\n          </Box>\n        )}\n      </ContentPaper>\n    );\n}","\nconst ben = {\n  first_name: \"Homer\",\n  last_name: \"Simpson\",\n  date_added: new Date(),\n  profile_picture:\n    \"https://okdiario.com/img/2019/09/05/mejores-frases-de-homer-simpson-655x368.jpg\",\n  location: {\n    city: \"Medellin\",\n    country: \"Colombia\",\n  },\n  contact: {\n    email: \"ben@perlmutter.io\",\n    phone: \"+1 (914) 589-5304\",\n    website: \"https://ben.perlmutter.io\",\n    whatsapp: \"+1 (914) 589-5304\",\n  },\n  bio: `Im a passionate software developer with an entrepreneurial and product-oriented mindset. I have experience building web applications with the MERN stack, Flask, Postgres and more. I love transforming an idea into a plan, and that plan into an application. Software development isn't just a job for me, but a vocationit's my creative outlet and a way to add value to the world. I like to write words in addition to code. Check out my recent writings here: https://ben.perlmutter.io/blog`,\n  languages: [\"english\", \"spanish\"],\n  listings: [],\n};\n\nconst listing1 = {\n  active: true,\n  title: \"1 bedroom 2nd floor walkup in Laureles\",\n  primary_img:\n    \"https://pix10.agoda.net/hotelImages/167/167577/167577_15020322560025067789.jpg?s=1024x768\",\n  additional_imgs: [\n    \"https://r-cf.bstatic.com/images/hotel/max1024x768/365/36548015.jpg\",\n    \"https://cdn.decoist.com/wp-content/uploads/2017/03/Modern-apartment-units-inside-heritage-building-Down-Under.jpg\",\n  ],\n  amenities: [\"hot water\"],\n  wifi_speed: 50,\n  bathrooms: 1,\n  bedrooms: 1,\n  beds: 1,\n  max_guests: 2,\n  roommates: 2,\n  price_in_dollars: 500,\n  lgbtq_friendly: true,\n  created_at: new Date(),\n  updated_at: new Date(),\n  dates_available: [\n    {\n      start: new Date(),\n      end: null,\n    },\n  ],\n  description: \"best apartment round town\",\n  living_with_host: false,\n  type: \"apartment\",\n  location: {\n    address: \"124 Jefferson Place\",\n    neighborhood: \"Laureles\",\n    city: \"Medellin\",\n    state_province: \"Antioquia\",\n    country: \"Colombia\",\n    description:\n      \"in the barrio de laureles right near some high quality tiendas and la 70\",\n    geo: [0, 0],\n  },\n  owner: {\n    username: \"ben\",\n    first_name: \"Ben\",\n    last_name: \"Perlmutter\",\n    profile_picture:\n      \"https://avatars0.githubusercontent.com/u/57849986?s=400&u=8897665d835d70b9b506b44e525eebcf0de3053e&v=4\",\n  },\n  payment_methods: [\"cash\", \"Paypal\", \"Bitcoin\"],\n  pets: [\"cat\", \"dog\"],\n  rules: [\"overnight guests allowed\", \"no parties\", \"quiet after 10\"],\n};\n\nconst listing2 = listing1;\nconst listing3 = listing1;\nconst listings = [listing1, listing2, listing3]\n\nconst exports = {\n    ben,\n    listings\n}\nexport default exports","import React, {useEffect, useState, useContext} from 'react';\nimport MainContentWrapper from './MainContentWrapper';\nimport UserProfileInfo from './UserProfileInfo';\nimport UserListings from './UserListings';\nimport data from '../testData';\nimport getUser from '../queries/users/getUserByUserName';\nimport {useParams, Redirect} from 'react-router-dom';\nimport dateFormatter from '../utils/dateFormatter';\nimport context from './Context';\n// const ben = data.ben;\nconst listings = data.listings;\n\nexport default function UserPage(){\n    //do stuff\n    const {user: { username: usernameContext}} = useContext(context);\n    \n    const [user, setUser] = useState({\n      first_name: \"\",\n      languages: [],\n      contact: {},\n      uid: ''\n    });\n    const { username } = useParams();\n    useEffect(() => {\n      (async () => {\n        const userFromUsername = await getUser(username);\n        if (userFromUsername) {\n          userFromUsername.joined = dateFormatter(userFromUsername.date_added);\n        }\n        setUser(userFromUsername);\n      })();\n    }, [username]);\n\n    if(username === usernameContext){\n        return(\n            <div>\n                <Redirect to=\"/profile\"/>\n            </div>\n        )\n    }\n\n    if(user === null){ \n        return(<div>\n            <Redirect to=\"/404\"/>\n        </div>)\n    }\n    \n\n    return(\n\n        <MainContentWrapper>\n            <UserProfileInfo\n                user={user}\n                username={username}\n            />\n            <UserListings user={user}/>\n\n        </MainContentWrapper>\n    )\n}","import React from 'react';\nimport {Box, Typography, Link} from '@material-ui/core';\nimport {makeStyles} from '@material-ui/core/styles';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport { IconButton } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme=>({\n    //add styles\n    root: {\n        backgroundColor: theme.palette.secondary.light,\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center'\n        // minHeight: 60,\n    },\n    contact: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: '100%',\n        \n    },\n    ghIcon: { \n        margin: '0 .25rem',\n        position: 'relative',\n        top: -3,\n        color: theme.palette.primary.light\n    }\n}))\n\nconst Footer = () =>{\n    const classes = useStyles();\n\n    return (\n      <Box className={classes.root}>\n        <Box className={classes.contact}>\n          <IconButton\n            href=\"https://github.com/bpmutter/acasa\"\n            target=\"_blank\"\n            className={classes.ghIcon}\n          >\n            <GitHubIcon />\n          </IconButton>\n          <Typography>\n            Made by{\" \"}\n            <Link href=\"https://ben.perlmutter.io\" target=\"_blank\">\n              Ben Perlmutter\n            </Link>\n          </Typography>\n        </Box>\n      </Box>\n    );\n}\n\nexport default Footer;","import React, { useContext } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport context from './Context';\nfunction PrivateRoute({ children, ...rest }) {\n  const {loggedIn} = useContext(context);\n  return (\n    <Route\n      {...rest}\n      render={({ location }) =>\n        loggedIn ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: \"/\",\n              state: { from: location },\n            }}\n          />\n        )\n      }\n    />\n  );\n}\n\nexport default PrivateRoute;\n","import React, { useEffect, useState, useContext } from \"react\";\nimport MainContentWrapper from \"./MainContentWrapper\";\nimport UserProfileInfo from \"./UserProfileInfo\";\nimport UserListings from \"./UserListings\";\nimport data from \"../testData\";\nimport getUser from \"../queries/users/getUserProfileByAuth\";\nimport db from \"../config/firestoreDb\";\nimport firebase from 'firebase';\nimport dateFormatter from \"../utils/dateFormatter\";\nconst ben = data.ben;\nconst listings = data.listings;\n\n\nexport default function UserPage() {\n\n  const [user, setUser] = useState({\n    first_name: '',\n    languages: [],\n    contact: {}\n  });\n\n  useEffect(() => {\n  //   TODO: refactor to put in another component...just throwing code elsewhere\n  // was causing problems...i think it might have to do w fact that this uses\n  // web sockets\n  const unsubscribe = firebase.auth().onAuthStateChanged(async function (user) {\n    if (user) {\n      const uid = firebase.auth().currentUser.uid;\n      const res = await db.collection(\"users\").doc(uid).get();\n      if (res.empty) {\n        setUser(null);\n        return unsubscribe();\n      }\n      const profileUser = res.data();\n      profileUser.joined = dateFormatter(profileUser.date_added);\n \n      setUser(profileUser);\n      return unsubscribe();\n    }\n  });\n  }, []);\n\n  const userVal = user; \n   \n  return (\n    <MainContentWrapper>\n      <UserProfileInfo user={userVal} profile/>\n      <UserListings user={userVal} listings={listings} />\n    </MainContentWrapper>\n  );\n}\n","import React, {useState} from \"react\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    \"& > * + *\": {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function CustomizedSnackbars({ msgSeverity, msg, onClose}) {\n  const classes = useStyles();\n  const [open, setOpen] = useState(msg ? true : false); \n\n  \n\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpen(false);\n    if (onClose) {\n      onClose();\n    }\n  };\n\n  return (<>\n    {open && <div className={classes.root}>\n      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\n        <Alert onClose={handleClose} severity={msgSeverity}>\n          {msg}\n        </Alert>\n      </Snackbar>\n    </div>}\n  </>);\n}\n","import React, { useEffect } from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Select from \"@material-ui/core/Select\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Chip from \"@material-ui/core/Chip\";\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 250,\n    maxWidth: 350,\n  },\n  chips: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  chip: {\n    margin: 2,\n    backgroundColor: theme.palette.secondary\n  },\n  noLabel: {\n    marginTop: theme.spacing(3),\n  },\n}));\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      minWidth: 300,\n\n\n    },\n  },\n};\n\n\nfunction getStyles(option, optionName, theme) {\n  return {\n    fontWeight:\n      optionName.indexOf(option) === -1\n        ? theme.typography.fontWeightRegular\n        : theme.typography.fontWeightMedium,\n  };\n}\n\nexport default function MultipleSelect({label, name, options, formSetter, style, defaultValue = []}) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [optionName, setOptionName] = React.useState([]);\n\n  useEffect(()=>{\n    setOptionName(defaultValue)\n  }, [defaultValue.length])\n\n  const handleChange = (e) => {\n    setOptionName(e.target.value);\n    if(formSetter){\n      formSetter(e.target.value)\n    }\n  };\n\n  return (\n    <div>\n      <FormControl className={classes.formControl} style={style} color=\"secondary\">\n        <InputLabel>{label}</InputLabel>\n        <Select\n          multiple\n          name={name}\n          value={optionName}\n          defaultValue={defaultValue}\n          onChange={handleChange}\n          input={<Input id=\"select-multiple-chip\" />}\n          renderValue={(selected) => (\n            <div className={classes.chips}>\n              {selected.map((value) => (\n                <Chip key={value} label={value} className={classes.chip} />\n              ))}\n            </div>\n          )}\n          MenuProps={MenuProps}\n        >\n          {options.map((option) => (\n            <MenuItem\n              key={option}\n              value={option}\n              style={getStyles(option, optionName, theme)}\n            >\n              {option}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n    </div>\n  );\n}\n","import db from \"../config/firestoreDb\";\nimport firebase from \"firebase\";\n\nexport default async function createUserInDb({uid, firstName, lastName, email, phone, website, whatsapp, bio, languages, location}) {\n  if(!firstName || !lastName || !email){\n    return {\n      \"message\":{\n        type: \"error\", \n        content: \"Missing a required field.\"\n      }\n    }\n  }\n  const uidAuth = firebase.auth().currentUser.uid;\n  if(uidAuth !== uid){\n    return {\n      \"message\":{\n        type: \"error\", \n        content: \"You're not authorized to perform this action.\"\n      }\n    }\n  }\n\n  const user = {};\n\n\n  user.first_name = firstName;\n  user.last_name = lastName;\n  user.contact = {};\n  user.contact.email = email;\n  user.contact.phone = phone ||  \"\";\n  user.contact.website = website ||  \"\";\n  user.contact.whatsapp = whatsapp ||  \"\";\n\n  user.bio = bio || \"\";\n  user.location = location || {};\n  user.languages = languages || [];\n\n\n  user.date_updated = new Date();\n \n  try {\n    const res = await db.collection(\"users\").doc(uid).update(user);\n    //const listingRes = await db.collection('listings').where('owner.uid', '==', uid);\n    //TODO: UPDATE OWNER TO THE NEW INFO FOR LISTINGS\n    return {\n      message: {\n        type: \"success\",\n        content: \"Your account has been successfully updated.\",\n      },\n    };\n  } catch (err) {\n    console.error(err);\n    \n    return { \n      message: {\n        type: \"error\",\n        content: \"You're information was not updated. Please try again later.\",\n      },\n    };\n  }\n}\n\n\n","import React, {useState, useEffect, useContext} from 'react';\nimport MainContentWrapper from './MainContentWrapper';\nimport {\n  makeStyles,\n  TextField,\n  Typography,\n  Button,\n  Divider,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport Snackbar from './Snackbar';\nimport firebase from 'firebase';\nimport db from \"../config/firestoreDb\";\nimport ContentPaper from './ContentPaper';\nimport GoogleMapsAutoComplete from './GoogleMapsSearchBox';\nimport SelectMultiple from './SelectMultiple';\nimport updateUserAccountInfo from '../auth/updateUserAccountInfo';\nimport languageList from '../languages.json';\nimport {useHistory} from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.main\n  },\n  progressWrapper: {\n    display: 'flex',\n    justifyContent: 'center',\n    marginTop: theme.spacing(8),\n    marginBottom: theme.spacing(8),\n  },\n  form: {\n    padding: theme.spacing(1),\n    maxWidth: 500\n  },\n  textInput: {\n    width: 300\n  },\n  sectionDivider: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  buttonWrapper: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  submitButton: {\n    margin: theme.spacing(2),\n    fontFamily: theme.typography.special,\n  },\n}));\n\n\nexport default function EditProfile(){\n    const classes = useStyles();\n    const history = useHistory();\n\n    const [user, setUser] = useState({\n      contact: {},\n      location: {},\n      languages: [],\n    });\n    const [firstName, setFirstName] = useState(\"\");\n    const [lastName, setLastName] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [phone, setPhone] = useState(\"\");\n    const [website, setWebsite] = useState(\"\");\n    const [whatsapp, setWhatsapp] = useState(\"\");\n    const [bio, setBio] = useState(\"\");\n    const [languages, setLanguages] = useState([])\n    const [location, setLocation] = useState({});\n    const [snackbar, setSnackbar] = useState({\n      msg: null,\n      severity: null,\n    });\n  \n  // TODO: refactor to put in another component...just throwing code elsewhere\n  // was causing problems...i think it might have to do w fact that this uses\n  // web sockets\n  useEffect(()=>{\n    const deactivate = firebase.auth().onAuthStateChanged(async function (user) {\n      if (user) {\n        const uid = firebase.auth().currentUser.uid;\n        const res = await db.collection(\"users\").doc(uid).get();\n        if (res.empty) {\n          setUser(null);\n          return;\n        }\n        const thisUser = res.data()\n        setUser(thisUser);\n        setLanguages(thisUser.languages);\n        setFirstName(thisUser.first_name);\n        setLastName(thisUser.last_name);\n        setEmail(thisUser.contact.email);\n        setPhone(thisUser.contact.phone);\n        setWebsite(thisUser.contact.website);\n        setWhatsapp(thisUser.contact.whatsapp);\n        setBio(thisUser.bio);\n        setLocation(thisUser.location || {});\n        return deactivate();\n      }\n    });\n  },[]);\n\n    \n  const inputChangeHandler = e => {\n    switch(e.target.name){\n      case \"firstName\": \n        setFirstName(e.target.value);\n        break;\n      case 'lastName':\n        setLastName(e.target.value)\n        break;\n      case 'email':\n        setEmail(e.target.value);\n        break;\n      case 'phone':\n        setPhone(e.target.value);\n        break;\n      case 'website': \n        setWebsite(e.target.value);\n        break;\n      case 'whatsapp':\n      setWhatsapp(e.target.value);\n        break;\n      case 'bio':\n        setBio(e.target.value);\n        break;\n      case 'location':\n        setLocation(e.target.value);\n        break;\n      case 'languages':\n        setLocation(e.target.value);\n        break;\n      default: \n      return\n    } \n  }\n  const selectMultipleHandler = e => { \n    setLanguages(e.target.value)\n  }\n  const updateProfile = async () => {\n    const uid = user.uid;\n    const res = await updateUserAccountInfo({\n      firstName, lastName, email, phone, website, whatsapp, bio, location, languages, uid\n    });\n    setSnackbar({ msg: res.message.content, severity: res.message.type });\n    if(res.message.type){\n      setTimeout(()=>{\n        history.push('/profile')\n      }, 100)\n    }\n  }\n\n  return (\n    <>\n      <MainContentWrapper>\n        <ContentPaper>\n          <Typography\n            variant=\"h4\"\n            component=\"h3\"\n            color=\"primary\"\n            className={classes.title}\n          >\n            Edit Account Info\n          </Typography>\n          {!user.uid ? (\n            <div className={classes.progressWrapper}>\n              <CircularProgress size={100} />\n            </div>\n          ) : (\n            <form className={classes.form} noValidate onSubmit={updateProfile}>\n              <div className={classes.primaryInfo}>\n                <div>\n                  <TextField\n                    id=\"first-name\"\n                    name=\"firstName\"\n                    label=\"First Name\"\n                    color=\"secondary\"\n                    value={firstName}\n                    defaultValue={user.first_name}\n                    className={classes.textInput}\n                    onChange={inputChangeHandler}\n                    required\n                  />\n                </div>\n                <div>\n                  <TextField\n                    id=\"last-name\"\n                    label=\"Last Name\"\n                    name=\"lastName\"\n                    color=\"secondary\"\n                    value={lastName}\n                    defaultValue={user.last_name}\n                    className={classes.textInput}\n                    onChange={inputChangeHandler}\n                    required\n                  />\n                </div>\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.contact}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Contact Information\n                </Typography>\n                <Typography variant=\"p\" component=\"p\" color=\"textSecondary\">\n                  Prospective guests can use these methods to contact you.{\" \"}\n                </Typography>\n                <div>\n                  <TextField\n                    id=\"email\"\n                    name=\"email\"\n                    label=\"Email\"\n                    type=\"email\"\n                    color=\"secondary\"\n                    value={email}\n                    defaultValue={user.contact.email}\n                    className={classes.textInput}\n                    onChange={inputChangeHandler}\n                    helperText=\"This email is just for guests to contact you. It will not affect your login account.\"\n                    required\n                  />\n                </div>\n                <div>\n                  <TextField\n                    id=\"phone\"\n                    name=\"phone\"\n                    label=\"Phone\"\n                    type=\"tel\"\n                    value={phone}\n                    defaultValue={user.contact.phone}\n                    color=\"secondary\"\n                    onChange={inputChangeHandler}\n                    className={classes.textInput}\n                  />\n                </div>\n                <div>\n                  <TextField\n                    id=\"website\"\n                    name=\"website\"\n                    label=\"Website\"\n                    type=\"url\"\n                    value={website}\n                    defaultValue={user.contact.website}\n                    color=\"secondary\"\n                    onChange={inputChangeHandler}\n                    className={classes.textInput}\n                  />\n                </div>\n                <div>\n                  <TextField\n                    id=\"whatsapp\"\n                    label=\"Whatsapp\"\n                    name=\"whatsapp\"\n                    value={whatsapp}\n                    defaultValue={user.contact.whatsapp}\n                    type=\"tel\"\n                    onChange={inputChangeHandler}\n                    color=\"secondary\"\n                    className={classes.textInput}\n                  />\n                </div>\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.additionalInfo}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Additional Information\n                </Typography>\n                <Typography variant=\"p\" component=\"p\" color=\"textSecondary\">\n                  Add a bit more information for prospective guests to have a\n                  better idea of who you are and why they should stay with you.\n                </Typography>\n                <div>\n                  <TextField\n                    id=\"bio\"\n                    name=\"bio\"\n                    label=\"Bio\"\n                    multiline\n                    rows={4}\n                    value={bio}\n                    defaultValue={user.bio}\n                    color=\"secondary\"\n                    onChange={inputChangeHandler}\n                    style={{ width: \"100%\" }}\n                  />\n                </div>\n                <div>\n                  <SelectMultiple\n                    name=\"languages\"\n                    label=\"Languages\"\n                    // value={languages}\n                    defaultValue={languages}\n                    options={languageList}\n                    formSetter={setLanguages}\n                  />\n                </div>\n                <div>\n                  {location.description && (\n                    <div style={{ paddingTop: \".5em\", paddingBottom: \".5em\" }}>\n                      <Typography>\n                        <b>Your current location is: </b> {location.description}\n                      </Typography>\n                    </div>\n                  )}\n                  <GoogleMapsAutoComplete\n                    variant=\"standard\"\n                    label=\"Location\"\n                    name=\"location\"\n                    inputVal={location.description}\n                    defaultValue={\n                      user.location && user.location.description\n                        ? user.location.description\n                        : null\n                    }\n                    formSetter={setLocation}\n                    className={classes.textInput}\n                  />\n                  {/* )} */}\n                </div>\n              </div>\n              <div className={classes.buttonWrapper}>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  className={classes.submitButton}\n                  onClick={updateProfile}\n                >\n                  Update Profile\n                </Button>\n              </div>\n\n              {/* TODO: change username functionality */}\n              {/* this will take some config with the DB to do in a non-hacky way */}\n              {/* gotta present race conditions and all that */}\n              {/* <TextField id=\"standard-basic\" label=\"Username\"/> */}\n            </form>\n          )}\n        </ContentPaper>\n      </MainContentWrapper>\n      {snackbar.msg && (\n        <Snackbar msgSeverity={snackbar.severity} msg={snackbar.msg} />\n      )}\n    </>\n  );\n}","import { useState, useCallback } from \"react\";\nconst useUserInput = (defaultValue = \"\") => {\n  const [value, setValue] = useState(defaultValue);\n  const onChange = useCallback((e) => setValue(e.target.value), []);\n\n  return { value, onChange };\n};\nexport default useUserInput;\n","import React from \"react\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport CheckBoxOutlineBlankIcon from \"@material-ui/icons/CheckBoxOutlineBlank\";\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\nimport Favorite from \"@material-ui/icons/Favorite\";\nimport FavoriteBorder from \"@material-ui/icons/FavoriteBorder\";\n\n\nexport default function CheckboxWithLabel({name, label, formSetter, helperText, defaultValue}) {\n  const [checked, setChecked] = React.useState(defaultValue);\n  const handleChange = e => { \n    const newVal = !checked;\n    setChecked(newVal);\n    if(formSetter){\n        formSetter(newVal)\n    }\n  }\n\n  return (\n    <FormControlLabel\n      control={\n        <Checkbox\n          checked={checked}\n          onChange={handleChange}\n          name={name}\n          helperText={helperText}\n        />\n      }\n      label={label}\n    />\n  );\n}\n","import React from \"react\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\n\nexport default function RadioButtonsGroup({defaultValue, formLabel, ariaLabel, name, options, required, formSetter}) {\n  const [value, setValue] = React.useState(defaultValue);\n\n  const handleChange = (e) => {\n    \n    setValue(e.target.value);\n    if (formSetter) {\n      if(options[0].value === \"true\" && options[1].value === 'false'){\n        // const boolVal = e.target.value === \"true\";\n        formSetter(e.target.value === \"true\");\n        return;\n      }\n      formSetter(value);\n      \n    } \n  };\n\n  return (\n    <FormControl component=\"fieldset\">\n      <FormLabel component=\"legend\" color=\"secondary\">{formLabel}</FormLabel>\n      <RadioGroup\n        aria-label={ariaLabel}\n        name={name}\n        value={value || JSON.stringify(defaultValue)}\n        onChange={handleChange}\n        required={required}\n        row\n      >\n        {options.map(option=>(\n            <FormControlLabel value={option.value} control={<Radio checked={value===option.value}/>} label={option.label} />\n\n        ))}\n\n\n      </RadioGroup>\n    </FormControl>\n  );\n}\n","// import geofirestore from 'geofirestore';\nimport * as geofirestore from \"geofirestore\";\n\nimport firestore from './firestoreDb';\n\nconst GeoFirestore = geofirestore.initializeApp(firestore);\n\n// Create a GeoCollection reference\nconst geoListings = GeoFirestore.collection(\"listings\");\n\nexport default geoListings","import db from \"../../config/firestoreDb\";\nimport firebase from 'firebase';\nimport accents from \"remove-accents\";\nimport geoListings from '../../config/geofirestore';\n\nexport default async function postListing(listing, setRes){\n  const {title, type, description, active, price, start_date, end_date, location, \n                        location_description, shared, roommates, bedrooms, bathrooms,\n                        max_guests, wifi_speed, rules, pets, lgbtq, living_with_host, primary_img,\n                        additional_imgs, payment_methods,  \n                      } = listing;\n  if(!title || !location || !type || !start_date \n    || !bedrooms || !bathrooms || !max_guests || !primary_img){ \n    setRes({\n      \"message\":{\n        type: \"error\", \n        content: \"Missing one or more required fields.\"\n      }\n    });\n    return;\n  }\n\n  let timestamp = new Date();\n  timestamp = timestamp.getTime();\n  const titleDash = title.split(\" \").join(\"-\")\n  const id = encodeURI(`${accents.remove(titleDash.slice(0, 25))}-${timestamp}`);\n  let coordinates;\n  if(location.geometry){\n    const {lat, lng} = location.geometry.location;\n    coordinates = new firebase.firestore.GeoPoint(lat, lng);\n  }\n  \n\n  const newListing = {title, type, active, price, start_date, end_date, location, description,\n                        location_description, shared, roommates, bedrooms, bathrooms,\n                        max_guests, wifi_speed, rules, pets, lgbtq, id, living_with_host,\n                        created_at: timestamp, updated_at: timestamp, primary_img, coordinates,\n                        additional_imgs, payment_methods\n                    }\n\n  const unsubscribe = firebase.auth().onAuthStateChanged(async function (user) {\n    if (user) {\n        const uid = await firebase.auth().currentUser.uid;\n        console.log('uid::', uid)\n        let user = await db.collection(\"users\").doc(uid).get();\n        user = user.data();\n        const owner = { \n            first_name: user.first_name,\n            last_name: user.last_name,\n            profile_picture: user.profile_picture,\n            uid: user.uid,\n            username: user.username\n        }\n        newListing.owner = owner;\n\n        try{ \n            const res = await geoListings.doc(id)\n            .set(newListing);     \n            setRes({\n              message: {\n                type: \"success\",\n                content: \"Your Listing has been successfully posted.\",\n              },\n              redirectId: id,\n            });\n\n        } catch(err){\n            console.error(err);\n            return ({\n              message: {\n                type: \"error\",\n                content:\n                  \"There was an error posting your listing. Please try again later.\",\n              },\n            });\n        }\n    }\n  });\n}","import app from \"./firebaseApp\";\nimport firebase from \"firebase\";\n\nconst storage = app.storage('gs://acasa-bd3af.appspot.com');\n\nexport default storage;\n","import storage from \"../config/firebaseStorage\";\nimport { v4 as uuid } from \"uuid\";\n\nexport default function uploadFile(file, path, imgSetter, progressSetter) {\n  const storageRef = storage.ref();\n\n  const fileName = `${uuid()}-${file.name}`;\n  const pathRef = storageRef.child(`${path}/${fileName}`);\n  const uploadTask = pathRef.put(file);\n\n  uploadTask.on(\n    \"state_changed\",\n    function (snapshot) {\n      if(progressSetter){\n        const progress = Math.round(\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n        );\n        progressSetter(progress);\n      }\n      \n    },\n    function (error) {\n      alert(\"There was a problem uploading the file. Please try again later.\");\n      console.error(error);\n    },\n    function () {\n      uploadTask.snapshot.ref.getDownloadURL().then(function (downloadURL) {\n        if(imgSetter) imgSetter(downloadURL);\n        else return downloadURL;\n      });\n    }\n  );\n}","/* eslint-disable jsx-a11y/img-redundant-alt */\nimport React, { useState } from 'react';\nimport ThemeButton from './Button';\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport storage from '../config/firebaseStorage';\nimport { v4 as uuid } from 'uuid'\nimport {makeStyles} from '@material-ui/core';\nimport uploadFile from '../utils/uploadFile'\n\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n      display: 'flex',\n      alignItems: 'center',\n      flexDirection: 'row'\n  },\n  button: {\n      display: 'inline-block'\n  },\n  imgWrapper: {\n      padding: '.5em',\n      paddingLeft: '1em',\n      display: 'inline-block',\n      position: 'relative',\n      zIndex: 1,\n      top: 12\n  },\n  imgPreview: {\n    width: 100,\n    height: 100,\n    backgroundPosition: \"center center\",\n    backgroundSize: \"cover\",\n    backgroundColor: theme.palette.text.secondary\n  },\n}));\n\nexport default function UploadOneImage({multiple, required, formSetter , preview}){\n    const id = uuid();\n    const [imgUrl, setImgUrl] = useState(\"\");\n    const [progress, setProgress] = useState(0);\n    const classes = useStyles();\n    const fileHandler = async e => {\n        const file = e.currentTarget.files[0];\n        const setter = inputVal => {\n          setImgUrl(inputVal);\n          if(formSetter) formSetter(inputVal)\n        }\n        if(file){ \n          setImgUrl('loading')\n          await uploadFile(file, \"listings\", setter, setProgress);\n        }\n    }        \n        \n    \n    \n    return (\n      <div>\n        <div className={classes.button}>\n          <input\n            accept=\"image/*\"\n            hidden\n            id={`upload-img-${id}`}\n            multiple={multiple}\n            type=\"file\"\n            onChange={fileHandler}\n          />\n          <label htmlFor={`upload-img-${id}`}>\n            <ThemeButton>Upload Image{required ? \"*\" : null}</ThemeButton>\n          </label>\n        </div>\n\n        <div className={classes.imgWrapper}>\n          {imgUrl === \"loading\" && <CircularProgress value={progress} />}\n          {imgUrl && (imgUrl !== \"loading\") && preview &&  (\n            <div\n              className={classes.imgPreview}\n              style={{ backgroundImage: `url(${imgUrl})` }}\n            ></div>\n          )}\n        </div>\n      </div>\n    );\n}","import storage from \"../config/firebaseStorage\";\nimport { v4 as uuid } from \"uuid\";\n\nexport default async function uploadAndGetURL(file, path) {\n  const storageRef = storage.ref();\n  const fileName = `${uuid()}-${file.name}`;\n  const pathRef = storageRef.child(`${path}/${fileName}`);\n  const snapshot = await pathRef.put(file);\n  const snapshotUrl = await snapshot.ref.getDownloadURL();\n  return snapshotUrl;\n}\n","import uploadAndGetURL from './uploadFileAndGetURL'\nconst { map } = require(\"p-iteration\");\n\n\nexport default async function bulkUpload(files, path){\n    const filesResolved = await map(files, file => uploadAndGetURL(file, path));\n    return filesResolved;\n}\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Modal, Fade } from \"@material-ui/core\";\nimport GridList from \"@material-ui/core/GridList\";\nimport GridListTile from \"@material-ui/core/GridListTile\";\n\nconst useStyles = makeStyles((theme) => ({\n  gridListRoot: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-around\",\n    overflow: \"hidden\",\n    backgroundColor: theme.palette.background.paper,\n  },\n  gridList: {\n    flexWrap: \"nowrap\",\n    // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\n    transform: \"translateZ(0)\",\n  },\n  gridImg: {\n    cursor: \"pointer\",\n  },\n  modalFrame: {\n    display: \"inline-block\",\n    outlineColor: theme.palette.secondary.light,\n    backgroundColor: \"white\",\n  },\n  imgModal: {\n    maxHeight: 600,\n    maxWidth: 900,\n  },\n}));\n\nexport default function SingleLineGridList({ imgs }) {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [modalSrc, setModalSrc] = useState(\"\");\n  const [modalAlt, setModalAlt] = useState(\"\");\n\n  const handleOpen = (e) => {\n    setOpen(true);\n    setModalSrc(e.target.src);\n    setModalAlt(e.target.alt);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  return (\n    <div className={classes.gridListRoot}>\n      <GridList className={classes.gridList} cols={2.5}>\n        {imgs.map((src, i) => (\n          <GridListTile key={src}>\n            <img\n              src={src}\n              alt={src}\n              onClick={handleOpen}\n              className={classes.gridImg}\n            />\n          </GridListTile>\n        ))}\n      </GridList>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"additional image preview\"\n        aria-describedby=\"additional image preview\"\n        TransitionComponent={Fade}\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <Fade in={open}>\n          <div className={classes.modalFrame}>\n            <img\n              src={modalSrc}\n              alt={modalAlt}\n              className={classes.imgModal}\n            ></img>\n          </div>\n        </Fade>\n      </Modal>\n    </div>\n  );\n}\n","import React, {useState, useEffect} from \"react\";\nimport ImageUploader from \"react-images-upload\";\nimport { useTheme, makeStyles, CircularProgress, Typography } from \"@material-ui/core\";\nimport bulkUploadFiles from '../utils/bulkUploadFiles';\nimport ImageGrid from './ImageGrid';\nimport { set } from \"lodash\";\n\nconst useStyles = makeStyles((theme) => ({\n  imagesLoading: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    backgroundColor: 'white',\n    padding: theme.spacing(2)\n  },\n  progress: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n  }\n}));\n\nexport default function UploadManyImgs({formSetter, defaultImages=[]}){\n    const classes = useStyles();\n    \n    const [uploadedPics, setUploadedPics] = useState([]);\n    const [uploadStatus, setUploadStatus] = useState(null);\n\n\n    const theme = useTheme();\n    const styles = {\n      buttonStyles: {\n        fontFamily: theme.typography.special,\n        padding: theme.spacing(2),\n        maxHeight: 50,\n        textAlign: \"center\",\n        backgroundColor: theme.palette.primary.main,\n        borderRadius: theme.spacing(0.5),\n      },\n      \n    };\n    \n    const onDrop = async pictures => { \n        debugger;\n        setUploadStatus(true);\n        const urls = await bulkUploadFiles(pictures, \"listings\");\n        setUploadedPics(urls);\n        setUploadStatus(false);\n        if(formSetter) formSetter(urls);\n\n    }\n\n    \n\n    return (\n      <div>\n        <ImageUploader\n          withIcon={true}\n          buttonText=\"Select Additional Images\"\n          buttonStyles={styles.buttonStyles}\n          onChange={onDrop}\n          imgExtension={[\".jpg\", \".gif\", \".png\", \".webp\"]}\n          maxFileSize={5242880}\n        />\n\n        <div className={classes.imgFrame}>\n          <>\n            {!uploadedPics.length && !!defaultImages.length && (\n              <ImageGrid imgs={defaultImages} />\n            )}\n          </>\n          {uploadStatus && (\n            <div className={classes.imagesLoading}>\n              <CircularProgress size={100} className={classes.progress} />\n              <Typography align=\"center\" component=\"p\">\n                Images uploading. This can take a moment. Please be patient{\" \"}\n                <span role=\"img\" aria-label=\"smile emoji\">\n                  \n                </span>\n              </Typography>\n            </div>\n          )}\n          <>{!!uploadedPics.length && <ImageGrid imgs={uploadedPics} />}</>\n        </div>\n      </div>\n    );\n}\n","import React, { useState, useEffect, useContext } from \"react\";\nimport useInput from '../utils/useInputHook';\nimport MainContentWrapper from \"./MainContentWrapper\";\nimport logo from \"../theme/logo-big.webp\";\nimport dateParse from \"date-fns/parse\";\nimport {\n  makeStyles,\n  TextField,\n  Typography,\n  Button,\n  Divider,\n  FormGroup, InputAdornment\n} from \"@material-ui/core\";\nimport WifiIcon from \"@material-ui/icons/Wifi\";\nimport format from \"date-fns/format\";\nimport {Redirect} from 'react-router-dom';\nimport Snackbar from \"./Snackbar\";\nimport Checkbox from './Checkbox';\nimport DateSelector from './DateSelector';\nimport RadioGroup from './RadioGroup';\nimport SelectOption from './SelectOption';\nimport ContentPaper from \"./ContentPaper\";\nimport GoogleMapsAutoComplete from \"./GoogleMapsSearchBox\";\nimport SelectMultiple from './SelectMultiple';\nimport hometypes from \"../hometypes.json\";\nimport postListingToDb from '../queries/listings/postListing';\nimport UploadOneImage from './UploadOneImage';\nimport UploadManyImgs from \"./UploadManyImages\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  titleLogoWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    paddingBottom: theme.spacing(2),\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.main,\n    paddingBottom: theme.spacing(1.5),\n  },\n  logo: {\n    width: 50,\n    paddingBottom: theme.spacing(1),\n  },\n  form: {\n    padding: theme.spacing(1),\n    maxWidth: 750,\n  },\n  textInput: {\n    width: 300,\n    margin: \".5rem 0\",\n  },\n  sectionDivider: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  buttonWrapper: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  uploadOneImageWrapper: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    flexDirection: 'column',\n    alignItems: 'center',\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n  },\n  currentPrimaryImg: {\n    display: \"block\",\n    paddingBottom: theme.spacing(2),\n  },\n  primaryImg: {\n    maxWidth: 250,\n  },\n  submitButton: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    marginLeft: theme.spacing(5),\n    marginRight: theme.spacing(5),\n    fontFamily: theme.typography.special,\n    width: \"100%\",\n    padding: theme.spacing(1.5),\n    fontSize: theme.typography.fontSize * 2,\n  },\n}));\n\nlet todayStr = format(Date.now(), \"y-MM-d\");\nconst oneToTenOptions = [\n  { value: 1, label: \"1\" },\n  { value: 2, label: \"2\" },\n  { value: 3, label: \"3\" },\n  { value: 4, label: \"4\" },\n  { value: 5, label: \"5\" },\n  { value: 6, label: \"6\" },\n  { value: 7, label: \"7\" },\n  { value: 8, label: \"8\" },\n  { value: 9, label: \"9\" },\n  { value: 10, label: \"10+\" },\n];\n\nexport default function CreateListing(){ \n\n    const classes = useStyles();\n\n    const [snackbar, setSnackbar] = useState({\n      msg: null,\n      severity: null,\n    });\n    \n    const title = useInput(\"\");\n    const [type, setType] = useState(\"\");\n    const price = useInput(\"\");\n    const [publish_now, setPublishNow] = useState(true);\n    const description = useInput(\"\");\n    const [start_date, setStartDate] = useState(todayStr);\n    const [end_date, setEndDate] = useState(\"\");    \n    const [location, setLocation] = useState({});    \n    const location_description = useInput(\"\");\n    const [shared, setShared] = useState(true);\n    const [living_with_host, setLivingWithHost] = useState(false)\n    const [roommates, setRoommates] = useState(\"\");\n    const [bedrooms, setBedrooms] = useState(\"\");\n    const [bathrooms, setBathrooms] = useState(\"\");\n    const [max_guests, setMaxGuests] = useState(\"\");\n    const wifi_speed = useInput(\"\");\n    const [rules, setRules] = useState([]);\n    const [pets, setPets] = useState([]);\n    const [payment_methods, setPaymentMethods] = useState([]);\n    const [lgbtq, setLgbtq] = useState(false);\n    const [primary_img, setPrimaryImage] = useState(\"\");\n    const [additional_imgs, setAdditionalImages] = useState([]);\n    const [disableSubmit, setDisableSubmit] = useState(false);\n    const [resMsg, setResMsg] = useState(null);\n\n    const createListing = async (e) => {\n        e.preventDefault();\n        if(!shared){\n          setLivingWithHost(false);\n          setRoommates(\"\");\n        }\n        const priceInt = parseInt(price.value)\n        const bathroomsInt = parseInt(bathrooms);\n        const bedroomsInt = parseInt(bedrooms);\n        const maxGuestsInt = parseInt(max_guests);\n        let roommatesInt = \"\";\n        if(roommates) roommatesInt = parseInt(roommates)\n        let wifiInt = \"\";\n        if(wifi_speed.value) wifiInt = parseInt(wifi_speed.value);\n\n        //TODO add data converters\n        const startDateObj = dateParse(\n          start_date,\n          'yyyy-MM-dd',\n          new Date()\n        );\n        let endDate = \"\";\n        if(end_date){\n          endDate = dateParse(\n          end_date,\n          'yyyy-MM-dd',\n          new Date()\n        );\n        }\n\n        const listing = {\n                        title: title.value, type, price: priceInt, active: publish_now,\n                        start_date: startDateObj, end_date: endDate, description: description.value,\n                        location, location_description: location_description.value, shared, \n                        roommates: roommatesInt, living_with_host, bedrooms: bedroomsInt, \n                        bathrooms: bathroomsInt, max_guests: maxGuestsInt, wifi_speed: wifiInt, \n                        rules, pets, lgbtq, primary_img, additional_imgs, payment_methods\n                      }\n        await postListingToDb(listing, setResMsg);\n    }\n    \n    return (\n      <>\n        <>\n          {resMsg && resMsg.message.type === \"success\" && (\n            <div>\n              <Redirect to={`/listings/${resMsg.redirectId}`} />\n            </div>\n          )}\n        </>\n        <>\n          {resMsg && (\n            <>\n              <Snackbar\n                msgSeverity={resMsg.message.type}\n                msg={resMsg.message.content}\n                onClose={() => setResMsg(null)}\n              />\n            </>\n          )}\n        </>\n\n        <MainContentWrapper>\n          <ContentPaper>\n            <div className={classes.titleLogoWrapper}>\n              <img src={logo} alt=\"aCasa logo\" className={classes.logo} />\n              <Typography\n                variant=\"h4\"\n                component=\"h3\"\n                color=\"primary\"\n                align=\"center\"\n                className={classes.title}\n              >\n                Create Listing\n              </Typography>\n            </div>\n\n            <form className={classes.form} noValidate onSubmit={createListing}>\n              <div className={classes.primaryInfo}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Basic Information\n                </Typography>\n                <div>\n                  <TextField\n                    name=\"title\"\n                    label=\"Listing Title\"\n                    color=\"secondary\"\n                    defaultValue={title.value}\n                    onChange={title.onChange}\n                    className={classes.textInput}\n                    required\n                  />\n                </div>\n                <div>\n                  <SelectOption\n                    required={true}\n                    labelText={\"Property Type\"}\n                    name=\"type\"\n                    options={hometypes}\n                    formSetter={setType}\n                  />\n                </div>\n                <div>\n                  <TextField\n                    name=\"price\"\n                    type=\"number\"\n                    label=\"Price per Month in Dollars\"\n                    color=\"secondary\"\n                    className={classes.textInput}\n                    defaultValue={price.value}\n                    onChange={price.onChange}\n                    InputProps={{\n                      startAdornment: (\n                        <InputAdornment position=\"start\">$</InputAdornment>\n                      ),\n                    }}\n                    required\n                    helperText=\"NOTE: You can negotiate price with guests once they've contacted you. \"\n                  />\n                </div>\n                <div>\n                  <RadioGroup\n                    formLabel=\"Publish Now *\"\n                    ariaLabel=\"publish listing publicly\"\n                    name=\"active\"\n                    required={true}\n                    defaultValue=\"true\"\n                    formSetter={setPublishNow}\n                    className={classes.textInput}\n                    options={[\n                      { value: \"true\", label: \"Yes\" },\n                      { value: \"false\", label: \"Not Right Now\" },\n                    ]}\n                  />\n                </div>\n                <div>\n                  <TextField\n                    name=\"description\"\n                    label=\"Property Description\"\n                    defaultValue={description.value}\n                    onChange={description.onChange}\n                    multiline\n                    rows={4}\n                    color=\"secondary\"\n                    style={{ width: \"100%\" }}\n                  />\n                </div>\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.dates}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Dates\n                </Typography>\n                <DateSelector\n                  className={classes.textInput}\n                  labelText=\"Start Date\"\n                  defaultValue={todayStr}\n                  required={true}\n                  formSetter={setStartDate}\n                />\n                <DateSelector\n                  className={classes.textInput}\n                  labelText=\"End Date\"\n                  required={false}\n                  helperText=\"Only include if there is a fixed end date for the availability\"\n                  formSetter={setEndDate}\n                />\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.location}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Location\n                </Typography>\n                {location.description && (\n                  <div style={{ paddingTop: \".5em\", paddingBottom: \".5em\" }}>\n                    <Typography>\n                      <b>Your current location is: </b> {location.description}\n                    </Typography>\n                  </div>\n                )}\n                <GoogleMapsAutoComplete\n                  variant=\"standard\"\n                  label=\"Location\"\n                  name=\"location\"\n                  required\n                  formSetter={setLocation}\n                  className={classes.textInput}\n                />\n                <TextField\n                  name=\"location_description\"\n                  label=\"Location Description\"\n                  multiline\n                  defaultValue={location_description.value}\n                  onChange={location_description.onChange}\n                  rows={4}\n                  color=\"secondary\"\n                  style={{ width: \"100%\" }}\n                />\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.dates}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Occupancy\n                </Typography>\n                <div>\n                  <RadioGroup\n                    formLabel=\"Shared *\"\n                    ariaLabel=\"apartment is shared option\"\n                    name=\"shared\"\n                    required={true}\n                    defaultValue=\"true\"\n                    className={classes.textInput}\n                    formSetter={setShared}\n                    options={[\n                      { value: \"true\", label: \"Yes\" },\n                      { value: \"false\", label: \"No\" },\n                    ]}\n                  />\n                </div>\n                {shared === true && (\n                  <FormGroup\n                    row\n                    style={{ display: \"flex\", alignItems: \"center\" }}\n                  >\n                    <div>\n                      <SelectOption\n                        required={true}\n                        labelText={\"Roommates\"}\n                        name=\"roommates\"\n                        formSetter={setRoommates}\n                        options={oneToTenOptions}\n                        className={classes.textInput}\n                      />\n                    </div>\n                    <div>\n                      <Checkbox\n                        label={\"Living with Host\"}\n                        name=\"living_with_host\"\n                        formSetter={setLivingWithHost}\n                        className={classes.textInput}\n                      />\n                    </div>\n                  </FormGroup>\n                )}\n                <FormGroup row>\n                  <div>\n                    <SelectOption\n                      required={true}\n                      labelText={\"Bedrooms\"}\n                      name=\"bedrooms\"\n                      formSetter={setBedrooms}\n                      options={oneToTenOptions}\n                    />\n                  </div>\n                  <div>\n                    <SelectOption\n                      required={true}\n                      labelText={\"Bathrooms\"}\n                      name=\"bathrooms\"\n                      formSetter={setBathrooms}\n                      options={oneToTenOptions}\n                    />\n                  </div>\n                  <div>\n                    <SelectOption\n                      required={true}\n                      labelText={\"Max Guests\"}\n                      name=\"max_guests\"\n                      formSetter={setMaxGuests}\n                      options={oneToTenOptions}\n                    />\n                  </div>\n                </FormGroup>\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.contact}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Additional Information\n                </Typography>\n                <Typography variant=\"p\" component=\"p\" color=\"textSecondary\">\n                  It is highly recommended to include the following information\n                  to make your listing stand out and be more searchable.\n                </Typography>\n                <FormGroup row>\n                  <div>\n                    <TextField\n                      name=\"wifi_speed\"\n                      type=\"number\"\n                      label=\"Wifi speed (Mbps)\"\n                      color=\"secondary\"\n                      InputProps={{\n                        startAdornment: (\n                          <InputAdornment position=\"start\">\n                            <WifiIcon color=\"secondary\" />\n                          </InputAdornment>\n                        ),\n                      }}\n                      className={classes.textInput}\n                      defaultValue={wifi_speed.value}\n                      onChange={wifi_speed.onChange}\n                    />\n                  </div>\n                  <div>\n                    <SelectMultiple\n                      options={[\n                        \"Quiet after 10 PM\",\n                        \"No parties\",\n                        \"No overnight guests\",\n                        \"No smoking\",\n                      ]}\n                      label=\"House Rules\"\n                      formSetter={setRules}\n                    />\n                  </div>\n                </FormGroup>\n                <FormGroup\n                  row\n                  style={{ display: \"flex\", alignItems: \"center\" }}\n                >\n                  <div>\n                    <SelectMultiple\n                      options={[\n                        \"Cats\",\n                        \"Dogs\",\n                        \"Fish\",\n                        \"Guinea Pigs\",\n                        \"Hamsters\",\n                        \"Insects\",\n                        \"Rabbits\",\n                        \"Reptiles\",\n                      ]}\n                      label=\"Pets\"\n                      formSetter={setPets}\n                    />\n                  </div>\n                  <div>\n                    <SelectMultiple\n                      options={[\n                        \"Bank Transfer\",\n                        \"Cash\",\n                        \"Card\",\n                        \"Cheque\",\n                        \"Cryptocurrency\",\n                        \"Other (discuss with host)\",\n                      ]}\n                      label=\"Payment Methods\"\n                      formSetter={setPaymentMethods}\n                    />\n                  </div>\n                  <div style={{ paddingTop: 12 }}>\n                    <Checkbox\n                      label={\"LGBTQ+ Friendly\"}\n                      name=\"lgbtq\"\n                      formSetter={setLgbtq}\n                    />\n                  </div>\n                </FormGroup>\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.images}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                  style={{ paddingBottom: \".5em\" }}\n                >\n                  Images\n                </Typography>\n                <div>\n                  <Typography component=\"h4\" variant=\"h6\">\n                    Select the listing's primary image\n                  </Typography>\n                  <Typography color=\"textSecondary\">\n                    This will be featured prominently throughout the site, so\n                    make you it's a picture you really like!\n                  </Typography>\n                  <div className={classes.uploadOneImageWrapper}>\n                    {primary_img && (\n                      \n                        <div className={classes.currentPrimaryImg}>\n                          <Typography component=\"p\" variant=\"h6\" align=\"center\">\n                            Current Primary Image\n                          </Typography>\n                          <img\n                            src={primary_img}\n                            alt={primary_img}\n                            className={classes.primaryImg}\n                          />\n                        </div>\n                      \n                    )}\n                    <UploadOneImage\n                      formSetter={setPrimaryImage}\n                      required={true}\n                    />\n                  </div>\n                </div>\n                <div>\n                  <Typography component=\"h4\" variant=\"h6\">\n                    Select additional images\n                  </Typography>\n                  <Typography color=\"textSecondary\">\n                    Add some more photos to help make your listing shine.\n                  </Typography>\n                  <UploadManyImgs formSetter={setAdditionalImages} />\n                </div>\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.buttonWrapper}>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  className={classes.submitButton}\n                  type=\"submit\"\n                >\n                  Post Listing!\n                </Button>\n              </div>\n            </form>\n          </ContentPaper>\n        </MainContentWrapper>\n      </>\n    );\n}","import React, {useState} from 'react';\nimport {Modal, makeStyles, Fade} from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  img: {\n    height: \"100%\",\n    width: \"100%\",\n    backgroundPosition: \"center\",\n    backgroundSize: \"cover\",\n    // backgroundRepeat: \"no-repeat\",\n    // backgroundColor: \"pink\",\n    cursor: \"pointer\",\n  },\n  modalFrame: {\n    display: \"inline-block\",\n    outlineColor: theme.palette.secondary.light,\n    backgroundImage: \"/assets/loading-spinner.gif\",\n  },\n  imgModal: {\n    maxHeight: 600,\n    maxWidth: 900,\n  },\n}));\n\n\nexport default function ImageModal({ src, alt, component, className }) {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n\n  return (\n    <div className={classes.imgWrapper}>\n      <div\n        className={className ? `${classes.img} ${className}` : classes.img}\n        style={{ backgroundImage: `url(${src})` }}\n        onClick={handleOpen}\n      ></div>\n\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n        style={{display: 'flex', alignItems: 'center', justifyContent: 'center'}}\n      >\n        <Fade in={open}>\n\n        <div className={classes.modalFrame}>\n            <img src={src} alt={alt} className={classes.imgModal}></img>\n        </div>\n        </Fade>\n      </Modal>\n    </div>\n  );\n}\n\n","import React from 'react';\nimport {makeStyles} from '@material-ui/core';\nimport MainContentWrapper from './MainContentWrapper';\nimport ContentPaper from './ContentPaper';\nimport ContactModal from './ContactModal';\nimport ImageModal from './ImageModal';\nimport UploadManyImgs from './UploadManyImages';\n\nconst useStyles = makeStyles((theme) => ({\n  light: {\n    backgroundColor: theme.palette.primary.light,\n  },\n  main: {\n    backgroundColor: theme.palette.primary.main,\n  },\n  dark: {\n    backgroundColor: theme.palette.primary.dark,\n  },\n}));\nexport default function Testing(){\n  const classes = useStyles();\n    const demoUser = {\n      first_name: \"Ben\",\n      last_name: \"Perlmutter\",\n      profile_picture:\n        \"https://lh3.googleusercontent.com/a-/AOh14Gg9WbJE0awcv_EPhlqHyIMSTqLbvbSdjzmXOunEcQ\",\n      contact: {\n        email: \"ben@perlmutter.io\",\n        whatsapp: \"+1 (914) 589-5304\",\n        phone: \"+1 (914) 589-5304\",\n        website: \"ben.perlmutter.io\",\n      },\n    };\n    return (\n      <MainContentWrapper>\n        <ContentPaper style={{ padding: \"3em\", width: 800, minHeight: 500 }}>\n          <UploadManyImgs />\n          <img\n            src=\"https://acasa-bd3af.appspot.com/listings/cfaad2d9-0beb-498b-b956-ba2ed56c326f-art-james-jean-feature.jpg?alt=media\"\n            alt=\"idk anymore\"\n          />\n        </ContentPaper>\n      </MainContentWrapper>\n    );\n}","import React, {useContext} from 'react';\nimport {makeStyles, Typography, List, ListItem, ListItemIcon, ListItemText, Link} from '@material-ui/core';\nimport MainContentWrapper from './MainContentWrapper';\nimport ContentPaper from './ContentPaper';\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport PersonAddIcon from \"@material-ui/icons/PersonAdd\";\nimport context from './Context';\nimport fourOhFourImg from \"../vector-icons/green/hiding-in-trees.svg\";\n\nconst useStyles = makeStyles(theme => ({\n  pageWrapper: {\n    width: \"75vw\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-evenly\",\n    paddingTop: theme.spacing(12),\n    paddingBottom: theme.spacing(12),\n    paddingLeft: theme.spacing(3),\n    paddingRight: theme.spacing(3),\n    [theme.breakpoints.down(\"sm\")]: {\n      flexDirection: \"column-reverse\",\n      paddingTop: theme.spacing(6),\n      paddingBottom: theme.spacing(6),\n    },\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n    paddingBottom: theme.spacing(2),\n    [theme.breakpoints.down(\"sm\")]: {\n      paddingTop: theme.spacing(3),\n    },\n  },\n  subtitle: {\n    fontSize: theme.typography.fontSize * 1.5,\n    color: theme.palette.text.secondary,\n    paddingBottom: theme.spacing(2),\n  },\n  img: {\n    maxWidth: 450,\n    [theme.breakpoints.down(\"sm\")]: { \n        width: '90%'\n    }\n  },    \n}));\n\nexport default function FourOhFour(){\n    const classes = useStyles();\n    const {loggedIn} = useContext(context);\n\n    return (\n      <MainContentWrapper>\n        <ContentPaper className={classes.root}>\n          <div className={classes.pageWrapper}>\n            <div>\n              <Typography component=\"p\" variant=\"h4\" className={classes.title}>\n                Awwww, snap!\n              </Typography>\n              <Typography className={classes.subtitle}>\n                We can't find the page you're looking for.\n              </Typography>\n              <Typography>\n                <b>Error Code:</b> 404\n              </Typography>\n              <p>Here are some useful links to get you back on track:</p>\n              <List dense={true}>\n                <ListItem>\n                  <ListItemIcon>\n                    <HomeIcon />\n                  </ListItemIcon>\n                  <ListItemText\n                    primary={\n                      <Link href=\"/\" color=\"inherit\">\n                        Home\n                      </Link>\n                    }\n                  />\n                </ListItem>\n                <ListItem>\n                  <ListItemIcon>\n                    <SearchIcon />\n                  </ListItemIcon>\n                  <ListItemText\n                    primary={\n                      <Link href=\"/explore\" color=\"inherit\">\n                        Search\n                      </Link>\n                    }\n                  />\n                </ListItem>\n                {loggedIn ? (\n                  <ListItem>\n                    <ListItemIcon>\n                      <AccountCircleIcon />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={\n                        <Link href=\"/profile\" color=\"inherit\">\n                          Profile\n                        </Link>\n                      }\n                    />\n                  </ListItem>\n                ) : (\n                  <>\n                    <ListItem>\n                      <ListItemIcon>\n                        <PersonAddIcon />\n                      </ListItemIcon>\n                      <ListItemText\n                        primary={\n                          <Link href=\"/sign-up\" color=\"inherit\">\n                            Sign Up\n                          </Link>\n                        }\n                      />\n                    </ListItem>\n                    <ListItem>\n                      <ListItemIcon>\n                        <AccountCircleIcon />\n                      </ListItemIcon>\n                      <ListItemText\n                        primary={\n                          <Link href=\"/log-in\" color=\"inherit\">\n                            Log In\n                          </Link>\n                        }\n                      />\n                    </ListItem>\n                  </>\n                )}\n              </List>\n            </div>\n            <div className={classes.imgWrapper}>\n              <img\n                src={fourOhFourImg}\n                alt=\"small creatures hiding in trees\"\n                className={classes.img}\n              />\n            </div>\n          </div>\n        </ContentPaper>\n      </MainContentWrapper>\n    );\n}","import React, {useState} from 'react';\nimport {makeStyles, IconButton} from '@material-ui/core';\nimport pink from \"@material-ui/core/colors/pink\";\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nconst useStyles = makeStyles((theme) => ({\n  heartButton: {\n    color: pink[500],\n  },\n}));\n\nexport default function HeartButton(props){\n    const classes = useStyles();\n    const [hearted, setHearted] = useState(false);\n\n    const toggleFavorite = () => {\n      setHearted(!hearted);\n    };\n\n    return (\n      <div {...props}>\n        <IconButton onClick={toggleFavorite}>\n          {hearted ? (\n            <FavoriteIcon className={classes.heartButton} />\n          ) : (\n            <FavoriteBorderIcon className={classes.heartButton} />\n          )}\n        </IconButton>\n      </div>\n    );\n}\n","import React, {useContext} from 'react';\nimport {makeStyles, Paper, Typography, Link} from '@material-ui/core';\nimport ContactModal from './ContactModal';\nimport HeartButton from './HeartButton';\nimport Button from './Button';\nimport context from './Context';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    position: \"sticky\",\n    minHeight: 100,\n    marginTop: theme.spacing(1),\n    top: 0,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    zIndex: 2,\n    [theme.breakpoints.down(\"sm\")]: {\n      position: \"static\",\n    },\n  },\n  mainContent: {\n    display: \"inline-flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(3),\n    paddingRight: theme.spacing(3),\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(1),\n    boxSizing: \"border-box\",\n    width: 800,\n    backgroundColor: theme.palette.background.default,\n    [theme.breakpoints.down(\"sm\")]: {\n      paddingLeft: theme.spacing(1),\n      paddingRight: theme.spacing(1),\n    },\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n    paddingBottom: theme.spacing(1),\n  },\n  actionButtons: {\n    display: \"inline-flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-evenly\",\n    [theme.breakpoints.down(\"sm\")]: {\n      justifyContent: \"flex-end\",\n    },\n  },\n  contactButton: {\n    marginLeft: theme.spacing(1.5),\n    marginRight: theme.spacing(1.5),\n    [theme.breakpoints.down(\"sm\")]: {\n      marginLeft: theme.spacing(0),\n      marginRight: theme.spacing(0),\n    },\n  },\n}));\nexport default function ListingHeader({listing}){\n\n    const classes = useStyles();\n    const {user: {uid}} = useContext(context);\n    return (\n      <>\n        <div className={classes.root}>\n          <Paper className={classes.mainContent} component=\"div\" >\n            <div className={classes.info}>\n              <Typography component=\"p\" variant=\"p\" color=\"textSecondary\">\n                {listing.location.description}\n              </Typography>\n              <Typography component=\"h1\" variant=\"h4\" className={classes.title}>\n                {listing.title}\n              </Typography>\n              <Typography component=\"p\" variant=\"h5\">\n                ${listing.price}/mo\n              </Typography>\n            </div>\n            <div className={classes.actionButtons}>\n\n                {listing.owner.uid !== uid ? (<ContactModal username={listing.owner.username} noName={true} />\n                ):(\n                  <Link href={`/listings/${listing.id}/edit`}>\n                    <Button href={`/listings/${listing.id}/edit`}>Edit Listing</Button>\n                  </Link>\n                )}\n              <span className={classes.contactButton}>\n                {/* <HeartButton /> */}\n              </span>\n            </div>\n          </Paper>\n        </div>\n      </>\n    );\n}","import React, {useState} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Paper, Modal, Fade} from '@material-ui/core';\nimport GridList from \"@material-ui/core/GridList\";\nimport GridListTile from \"@material-ui/core/GridListTile\";\nimport ContentPaper from \"./ContentPaper\";\nimport ImageModal from './ImageModal';\n\nconst useStyles = makeStyles((theme) => ({\n  gridListRoot: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-around\",\n    overflow: \"hidden\",\n    backgroundColor: theme.palette.background.paper,\n  },\n  gridList: {\n    flexWrap: \"nowrap\",\n    // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\n    transform: \"translateZ(0)\",\n  },\n  gridImg: {\n      cursor: 'pointer',\n  },\n  modalFrame: {\n    display: \"inline-block\",\n    outlineColor: theme.palette.secondary.light,\n    backgroundColor: \"white\",\n  },\n  imgModal: {\n    maxHeight: 600,\n    maxWidth: 900,\n  },\n  primaryImgWrapper: {\n    \"&:hover\": {\n      position: \"relative\",\n      zIndex: 400,\n      transform: \"scale(1.05)\",\n    },\n  },\n  primaryImg: {\n    width: 500,\n    height: 300,\n    backgroundPosition: \"center\",\n    backgroundSize: \"cover\",\n    backgroundRepeat: \"no-repeat\",\n    backgroundImage: '/assets/loading-spinner.gif',\n    [theme.breakpoints.down(\"sm\")]: { \n      width: 300,\n    }\n  },\n  spacing: {\n    margin: theme.spacing(1),\n  },\n}));\n\nfunction SingleLineGridList({imgs, listingTitle}) {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [modalSrc,  setModalSrc] = useState('');\n  const [modalAlt, setModalAlt] = useState('');\n\n  const handleOpen = (e) => {\n    setOpen(true);\n    setModalSrc(e.target.src)\n    setModalAlt(e.target.alt)\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  return (\n    <div className={classes.gridListRoot}>\n      <GridList className={classes.gridList} cols={2.5}>\n        {imgs.map((src, i) => (\n          <GridListTile key={src}>\n            <img\n              src={src}\n              alt={`${listingTitle} img ${i + 1}`}\n              onClick={handleOpen}\n              className={classes.gridImg}\n            />\n          </GridListTile>\n        ))}\n      </GridList>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n        TransitionComponent={Fade}\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <Fade in={open}>\n            <div className={classes.modalFrame}>\n            <img src={modalSrc} alt={modalAlt} className={classes.imgModal}></img>\n            </div>\n        </Fade>\n      </Modal>\n    </div>\n  );\n}\n\n\nexport default function ListingPhotos({primaryImg, additionalImgs, title, ...props}) {\n    const classes = useStyles();\n    return (\n      <section {...props}>\n        <Paper className={classes.primaryImgWrapper}\n        style={{marginBottom: '1em', maxWidth:500, margin: '0 auto', padding: '.5em'}}>\n          {/* <div\n            className={classes.primaryImg}\n            style={{ backgroundImage: `url(${primaryImg})` }}\n          ></div> */}\n          <ImageModal\n              src={primaryImg}\n              alt={title}\n              className={classes.primaryImg}\n          />\n        </Paper>\n        <div className={classes.spacing}>\n        </div>\n        {additionalImgs && !!additionalImgs.length && (\n          <ContentPaper>\n            <SingleLineGridList imgs={additionalImgs} title={title} />\n          </ContentPaper>\n        )}\n      </section>\n    );\n}","import React, { useCallback, useState, useEffect } from 'react';\nimport {\n  withScriptjs,\n  withGoogleMap,\n  GoogleMap,\n  Marker,\n} from \"react-google-maps\";\nimport geocoder from '../google-maps/geocoder';\nimport mapTheme from '../map-styling.json'\nimport { CircularProgress } from '@material-ui/core';\n\nconst MapWithAMarker = withScriptjs(\n  withGoogleMap(({ lat, lng }) => (\n    <GoogleMap\n      defaultZoom={15}\n      defaultCenter={{ lat: lat, lng: lng }}\n      defaultOptions={{ styles: mapTheme }}\n    >\n      <Marker position={{ lat: lat, lng: lng }} />\n    </GoogleMap>\n  ))\n);\n\nexport default function ListingMap({placeName, lat, lng, ...props}){\n    return (\n      <>\n        {!lat || !lng ?(\n            <div style={{width: '100%', height: 400, display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\n                <CircularProgress size={100}/>\n            </div>\n        ):(\n          <MapWithAMarker\n            googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyBSHvxwJqoYbeiJTby6ijIkR74Bia1bJ0s&v=3.exp&libraries=geometry,drawing,places\"\n            loadingElement={<div style={{ height: `100%` }} />}\n            containerElement={<div style={{ height: 400 }} />}\n            mapElement={<div style={{ height: `100%` }} />}\n            lat={lat}\n            lng={lng}\n            {...props}\n          />\n        )}{\" \"}\n      </>\n    );\n}","import db from \"../../config/firestoreDb\";\nimport geoListings from '../../config/geofirestore';\nexport default async function getListingById(id){ \n    const res = await geoListings.doc(id).get();\n    if (res.empty) return null;\n    return res.data();\n}","import React, {useState, useEffect, useCallback} from 'react';\nimport MainContentWrapper from './MainContentWrapper';\nimport ContentPaper from './ContentPaper';\nimport ListingHeader from './ListingHeader';\nimport ListingPhotos from './ListingPhotos';\nimport ContactModal from './ContactModal';\nimport {Box, makeStyles, Typography, Link, Chip, \n    Avatar, Divider, List, ListItem, \n    ListItemIcon, ListItemText} from '@material-ui/core';\nimport dateFormatter from '../utils/dateFormatter';\nimport {useParams} from 'react-router-dom';\nimport HotelIcon from \"@material-ui/icons/Hotel\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport BathtubIcon from \"@material-ui/icons/Bathtub\";\nimport WifiIcon from \"@material-ui/icons/Wifi\";\nimport SupervisedUserCircleIcon from \"@material-ui/icons/SupervisedUserCircle\";\nimport PetsIcon from \"@material-ui/icons/Pets\";\nimport MonetizationOnIcon from \"@material-ui/icons/MonetizationOn\";\nimport GavelIcon from \"@material-ui/icons/Gavel\";\nimport ListingMap from './ListingMap';\nimport LooksIcon from \"@material-ui/icons/Looks\";\nimport getListingById from '../queries/listings/getListingById'\nconst useStyles = makeStyles((theme) => ({\n  contentWrapper: {\n    display: \"grid\",\n    maxWidth: 1200,\n    gridTemplateColumns: \"2.25fr 1fr\",\n    gridTemplateRows: \"auto auto auto\",\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"flex\",\n      flexDirection: \"column\",\n    },\n  },\n  mainContent: {\n    margin: theme.spacing(1),\n    gridColumn: \"1 / 2\",\n    gridRow: \"1/4\",\n  },\n  availability: {\n    margin: theme.spacing(1),\n    gridColumn: \"2 / 3\",\n    gridRow: \"1/2\",\n  },\n  contactOwner: {\n    margin: theme.spacing(1),\n    gridColumn: \"2 / 3\",\n    gridRow: \"2/3\",\n  },\n  title: {\n    color: theme.palette.primary.dark,\n    fontFamily: theme.typography.special,\n  },\n  chips: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n    display: \"flex\",\n    justifyContent: \"center\",\n  },\n  chip: {\n    backgroundColor: theme.palette.secondary.light,\n    margin: theme.spacing(1),\n    padding: theme.spacing(0.5),\n    [theme.breakpoints.down(\"xs\")]: {\n      margin: theme.spacing(0.25),\n      padding: theme.spacing(0.25),\n      fontSize: theme.typography.fontSize * 0.75,\n    },\n  },\n  listingDescription: {\n    marginTop: theme.spacing(2),\n    paddingLeft: theme.spacing(5),\n    paddingRight: theme.spacing(5),\n  },\n  sectionDivider: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  locationTopContent: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    paddingBottom: theme.spacing(3),\n  },\n  mapWrapper: {\n    margin: theme.spacing(2),\n    marginTop: theme.spacing(4),\n  },\n  availableNow: {\n    // fontWeight: 'bold',\n    color: theme.palette.secondary.dark,\n    fontFamily: theme.typography.special,\n  },\n  ownerInfo: {\n    display: \"inline-flex\",\n    justifyContent: \"left\",\n    alignItems: \"center\",\n    paddingTop: theme.spacing(2.5),\n    paddingBottom: theme.spacing(2.5),\n    paddingLeft: theme.spacing(1.5),\n  },\n  contactButton: {\n    marginTop: theme.spacing(2),\n    alignSelf: \"center\",\n    justifySelf: \"center\",\n  },\n}));\n\nexport default function ListingPage(){\n\n    const [listing, setListing] = useState({\n      owner: {},\n      additional_imgs: [],\n      location: { geometry: {location: {}}},\n      payment_methods: [],\n    })\n    const [availableNow, setAvailableNow] = useState(false);\n    const classes = useStyles();\n    const {id} = useParams();\n    const overview = listing.roommates ? `Room in shared ${listing.type}` : `Whole ${listing.type}`;\n    \n    const getListing = useCallback(async () => {\n      const listing = await getListingById(id);\n      setListing(listing);\n\n      let currentTime = new Date();\n      currentTime = currentTime.getTime();\n      const availableFrom = listing.start_date.toMillis();\n      setAvailableNow(availableFrom <= currentTime)\n\n    }, [id])\n\n    useEffect(()=>{\n      getListing()\n    },[getListing])\n\n    return (\n      <>\n        <ListingHeader listing={listing} />\n        <MainContentWrapper>\n          <div>\n            <ListingPhotos\n              title={listing.title}\n              primaryImg={listing.primary_img}\n              additionalImgs={listing.additional_imgs}\n            />\n          </div>\n          <main className={classes.contentWrapper}>\n            <section className={classes.mainContent}>\n              <ContentPaper>\n                <div>\n                  <Typography\n                    className={classes.title}\n                    component=\"h3\"\n                    variant=\"h5\"\n                    align=\"center\"\n                  >\n                    {overview}\n                  </Typography>\n                  <Box className={classes.chips}>\n                    <Chip\n                      icon={<HotelIcon />}\n                      label={`${listing.bedrooms} bedroom`}\n                      className={classes.chip}\n                    />\n                    <Chip\n                      icon={<GroupIcon />}\n                      label={\n                        listing.max_guests > 1\n                          ? `${listing.max_guests} guests`\n                          : `${listing.max_guests} guest`\n                      }\n                      className={classes.chip}\n                    />\n                    <Chip\n                      icon={<BathtubIcon />}\n                      label={`${listing.bathrooms} bath`}\n                      className={classes.chip}\n                    />\n                  </Box>\n                </div>\n                {listing.description && (\n                  <>\n                    <div>\n                      <Typography className={classes.listingDescription}>\n                        {listing.description}\n                      </Typography>\n                    </div>\n                  </>\n                )}\n                <Divider className={classes.sectionDivider} />\n                <div>\n                  <Typography\n                    component=\"h2\"\n                    variant=\"h5\"\n                    className={classes.title}\n                  >\n                    Additional Info\n                  </Typography>\n                  <List dense>\n                    {listing.wifi && (\n                      <ListItem>\n                        <ListItemIcon>\n                          <WifiIcon color=\"secondary\" />\n                        </ListItemIcon>\n                        <ListItemText\n                          primary={\n                            <Typography>\n                              <b>Wifi:</b> {listing.wifi_speed} mb/s\n                            </Typography>\n                          }\n                        />\n                      </ListItem>\n                    )}\n                    {listing.wifi && (\n                      <ListItem>\n                        <ListItemIcon>\n                          <WifiIcon color=\"secondary\" />\n                        </ListItemIcon>\n                        <ListItemText\n                          primary={\n                            <Typography>\n                              <b>Wifi:</b> {listing.wifi_speed} mb/s\n                            </Typography>\n                          }\n                        />\n                      </ListItem>\n                    )}\n                    {listing.lgbtq && (\n                      <ListItem>\n                        <ListItemIcon>\n                          <LooksIcon color=\"secondary\" />\n                        </ListItemIcon>\n                        <ListItemText\n                          primary={<Typography>LGBTQ+ Friendly</Typography>}\n                        />\n                      </ListItem>\n                    )}\n                    <ListItem>\n                      <ListItemIcon>\n                        <PetsIcon color=\"secondary\" />\n                      </ListItemIcon>\n                      <ListItemText\n                        primary={\n                          <Typography>\n                            <b>Pets:</b>{\" \"}\n                            {listing.pets && listing.pets.length\n                              ? listing.pets.join(\", \")\n                              : \"None\"}\n                          </Typography>\n                        }\n                      />\n                    </ListItem>\n                    <ListItem>\n                      <ListItemIcon>\n                        <MonetizationOnIcon color=\"secondary\" />\n                      </ListItemIcon>\n                      <ListItemText\n                        primary={\n                          <Typography>\n                            <b>Payment Methods:</b>{\" \"}\n                            {listing.payment_methods &&\n                            listing.payment_methods.length\n                              ? listing.payment_methods.join(\", \")\n                              : \"Discuss with host\"}\n                          </Typography>\n                        }\n                      />\n                    </ListItem>\n                    <ListItem>\n                      <ListItemIcon>\n                        <GavelIcon color=\"secondary\" />\n                      </ListItemIcon>\n                      <ListItemText\n                        primary={\n                          <Typography>\n                            <b>House Rules:</b>{\" \"}\n                            {listing.rules && listing.rules.length\n                              ? listing.rules.join(\", \")\n                              : \"Discuss with host\"}\n                          </Typography>\n                        }\n                      />\n                    </ListItem>\n                  </List>\n                  <Divider className={classes.sectionDivider} />\n                </div>\n                <div>\n                  <div className={classes.locationTopContent}>\n                    <Typography\n                      component=\"h2\"\n                      variant=\"h5\"\n                      className={classes.title}\n                      style={{ paddingRight: \"1.5em\" }}\n                    >\n                      Location\n                    </Typography>\n                    <Typography component=\"p\" variant=\"h6\">\n                      {listing.location.description}\n                    </Typography>\n                  </div>\n                  {listing.location.location_description && (\n                    <Typography>\n                      {listing.location.location_description}\n                    </Typography>\n                  )}\n                  <div>\n                    <div className={classes.mapWrapper}>\n                      <ListingMap\n                        placeName={listing.location.description}\n                        lat={\n                          listing.location.geometry\n                            ? listing.location.geometry.location.lat\n                            : null\n                        }\n                        lng={\n                          listing.location.geometry\n                            ? listing.location.geometry.location.lng\n                            : null\n                        }\n                      />\n                    </div>\n                  </div>\n                </div>\n              </ContentPaper>\n            </section>\n            <section className={classes.availability}>\n              {/* TODO: FIX THIS uP WITH DATES */}\n              <ContentPaper>\n                <Typography\n                  component=\"h2\"\n                  variant=\"h5\"\n                  className={classes.title}\n                >\n                  Availability\n                </Typography>\n                <List dense={true}>\n                  <ListItem>\n                    <ListItemText\n                      primary={\n                        <>\n                          <>\n                            {listing.start_date && availableNow && (\n                              <Typography\n                                className={classes.availableNow}\n                                align=\"center\"\n                                variant='h6'\n                              >\n                                Available Now!\n                              </Typography>\n                            )}\n                          </>\n                          <>\n                            {listing.start_date && !availableNow && (\n                              <Typography align=\"center\">\n                                <b>Available from:</b>{\" \"}\n                                {dateFormatter(listing.start_date)}\n                              </Typography>\n                            )}\n                          </>\n                        </>\n                      }\n                    />\n                  </ListItem>\n                  <ListItem>\n                    <ListItemText\n                      primary={\n                        <>\n                          {listing.end_date ? (\n                            <Typography align=\"center\">\n                              <b>Available until:</b>{\" \"}\n                              {dateFormatter(listing.end_date)}\n                            </Typography>\n                          ) : (\n                            <Typography align=\"center\">\n                              No specified end date\n                            </Typography>\n                          )}\n                        </>\n                      }\n                    />\n                  </ListItem>\n                </List>\n              </ContentPaper>\n            </section>\n            <section className={classes.contactOwner}>\n              <ContentPaper>\n                <Typography\n                  component=\"h3\"\n                  variant=\"h5\"\n                  className={classes.title}\n                  style={{ textAlign: \"center\" }}\n                >\n                  Owner Info\n                </Typography>\n                <div className={classes.ownerInfo}>\n                  <Avatar\n                    src={listing.owner.profile_picture}\n                    alt={`${listing.owner.first_name} ${listing.owner.last_name}`}\n                    style={{ marginRight: 5, display: \"inline-block\" }}\n                  />\n                  Listing by{\" \"}\n                  <Link\n                    href={`/users/${listing.owner.username}`}\n                    style={{ marginLeft: 5 }}\n                  >\n                    {`${listing.owner.first_name} ${listing.owner.last_name}`}\n                  </Link>\n                </div>\n                <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n                  <ContactModal\n                    username={listing.owner.username}\n                    className={classes.contactButton}\n                  />\n                </div>\n              </ContentPaper>\n            </section>\n          </main>\n        </MainContentWrapper>\n      </>\n    );\n}","import geoListings from '../../config/geofirestore';\nimport firebase from 'firebase';\nimport dateStringToObj from '../../utils/dateStringToObj';\nconst { map } = require(\"p-iteration\");\n\nexport default async function getNearbyListings(lat, lng, kmDistance, hometype, startDate){\n    const query = geoListings.near({\n      center: new firebase.firestore.GeoPoint(lat, lng),\n      radius: kmDistance || 15,\n    });\n\n    const res = await query.get();\n    const resDocs = res.docs;\n\n    let results = await map(resDocs, doc => doc.data());\n    if (hometype && hometype.toLowerCase() !== \"everything\") {\n      results = results.filter(\n        (result) => result.type === hometype.toLowerCase()\n      );\n    }\n\n    return {results}\n    \n\n    \n}","import React, {useState, useEffect} from 'react';\nimport ContentPaper from './ContentPaper';\nimport {makeStyles, Typography, Divider, CircularProgress} from '@material-ui/core';\nimport getNearbyListings from '../queries/listings/getNearbyListings';\nimport emptyVoid from \"../vector-icons/green/empty-void.svg\";\nimport Listings from './Listings';\n import dateFormatter from '../utils/dateFormatter';\nconst useStyles = makeStyles((theme) => ({\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n    paddingTop: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n  },\n  searchResultsWrapper: {\n    minWidth: \"70vw\",\n  },\n  sectionDivider: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  progressWrapper: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    marginTop: theme.spacing(8),\n    marginBottom: theme.spacing(8),\n  },\n  noResultsImgWrapper: {\n    display: \"flex\",\n    width: \"100%\",\n    JustifyContent: \"center\",\n    alignItems: \"center\",\n    paddingTop: theme.spacing(5),\n    paddingBottom: theme.spacing(5),\n  },\n  noResultsImg: {\n    maxWidth: 300,\n    display: 'inline-block',\n    margin: '0 auto',\n  },\n}));\n\nexport default function SearchResults({locationDescription, lat, lng, hometype, startDate, searchRadiusKm}){\n    const classes = useStyles();\n    const [listings, setListings] = useState([]);\n    const [loading, setLoading] = useState(true);\n\n    const getAndSetListings = async () => {\n        const res = await getNearbyListings(lat, lng, searchRadiusKm, hometype, startDate);\n        setListings(res.results);\n        setLoading(false);\n    }\n    useEffect(()=>{\n        if(locationDescription) (async () => getAndSetListings())()\n    }, [locationDescription])\n\n    return (\n      <div>\n        <ContentPaper>\n          <div className={classes.searchResultsWrapper}>\n            <Typography component=\"h1\" variant=\"h4\" className={classes.title}>\n              Search results for: {locationDescription}\n            </Typography>\n            {startDate && <Typography><b>Start Date: </b>{dateFormatter(startDate)}</Typography>}\n            {hometype && <Typography><b>Home type: </b>{hometype}</Typography>}\n            <Divider className={classes.sectionDivider} />\n            <section>\n              {loading && (\n                <div className={classes.progressWrapper}>\n                  <CircularProgress size={100} color=\"primary\" />\n                </div>\n              )}\n              {!loading ? (\n                !!listings.length ? (\n                    <Listings \n                        listings={listings}\n                    />\n                ) : (\n                  <div>\n                    <Typography\n                      component=\"p\"\n                      variant=\"h5\"\n                      className={classes.title}\n                      align=\"center\"\n                    >\n                      We got nothing.\n                    </Typography>\n                    <Typography color=\"textSecondary\" align=\"center\">\n                      No listings match your search parameters. Please try\n                      another search.\n                    </Typography>\n                    <div className={classes.noResultsImgWrapper}>\n                      <img\n                        src={emptyVoid}\n                        alt={\"man staring into an empty void\"}\n                        className={classes.noResultsImg}\n                      />\n                    </div>\n                  </div>\n                )\n              ) : null}\n            </section>\n          </div>\n        </ContentPaper>\n      </div>\n    );\n}","import React, {useState} from 'react';\nimport SearchBar from './SearchBar';\nimport {makeStyles, Typography} from '@material-ui/core';\nimport queryString from \"query-string\";\nimport dateStringToObj from '../utils/dateStringToObj';\nimport MainContentWrapper from './MainContentWrapper';\nimport SearchResults from './SearchResults';\nimport locationSearch from \"../vector-icons/green/location-search.svg\";\nimport ContentPaper from './ContentPaper';\n\nconst useStyles = makeStyles((theme) => ({\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.dark,\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(4),\n  },\n  noQuery: {\n    minWidth: \"70vw\",\n    minHeight: '70vh'\n  },\n  searchImgWrapper: {\n    display: \"flex\",\n    width: \"100%\",\n    JustifyContent: \"center\",\n    alignItems: \"center\",\n    paddingTop: theme.spacing(5),\n    paddingBottom: theme.spacing(5),\n  },\n  searchImg: {\n    maxWidth: 300,\n    display: \"inline-block\",\n    margin: \"0 auto\",\n  },\n}));\nexport default function SearchResultsPage(props){\n    const classes = useStyles();\n    const parsed = queryString.parse(window.location.search);\n\n    const [query, setQuery] = useState({\n        description: parsed.query,\n        lat: parseFloat(parsed.lat),\n        lng: parseFloat(parsed.lng),\n        hometype: parsed.homeType,\n        startDate: (parsed.homeType ? dateStringToObj(parsed.startDate) : \"\"),\n        searchRadiusKm: parsed.searchRadius || 15,\n    });\n    const [rerender, setRerender] = useState(Date.now())\n\n    const refreshResults = (queryObj) => {\n        setQuery(queryObj);\n        setRerender(Date.now());\n    }\n    return (\n      <div>\n        <MainContentWrapper>\n          <SearchBar setSearch={refreshResults}/>\n          {!query.description && (\n            <ContentPaper>\n              <div className={classes.noQuery}>\n                <Typography variant=\"h4\" className={classes.title} align=\"center\">\n                    Get searching!\n                </Typography>\n                <div className={classes.searchImgWrapper}>\n                    <img\n                    src={locationSearch}\n                    alt={\"woman looking at galaxy with phone vector art\"}\n                    className={classes.searchImg}\n                    />\n                </div>\n              </div>\n            </ContentPaper>\n          )}\n          {query.description  && !!rerender && (\n            <SearchResults\n              locationDescription={query.description}\n              lat={query.lat}\n              lng={query.lng}\n              searchRadiusKm={query.searchRadiusKm}\n              startDate={query.startDate}\n              hometype={query.hometype}\n            />\n          )}\n        </MainContentWrapper>\n      </div>\n    );\n}","import dateParse from \"date-fns/parse\";\n\nexport default function dateStringToObj(dateStr){\n    return dateParse(dateStr, \"yyyy-MM-dd\", new Date());\n}","import React from 'react';\nimport MainContentWrapper from './MainContentWrapper';\nimport ContentPaper from './ContentPaper';\nimport LogIn from './LogIn';\n\n\nexport default function LoginPage(){\n\n\n    return (\n      <MainContentWrapper>\n        <ContentPaper style={{ margin: \"2em .5em 5em\" }}>\n          <div\n            style={{ minHeight: \"65vh\", display: \"flex\", alignItems: \"center\", padding: '1em' }}\n          >\n            <LogIn />\n          </div>\n        </ContentPaper>\n      </MainContentWrapper>\n    );\n}","\nimport format from \"date-fns/format\";\n\nexport default function fbDateToHtmlStr(fbDate) {\n    if(fbDate){\n        const jsDate = fbDate.toDate();\n        const dateStr = format(jsDate, \"yyyy-MM-dd\");\n        return dateStr;\n    } \n    return \"\";\n    \n}","import db from \"../../config/firestoreDb\";\nimport firebase from \"firebase\";\nimport geoListings from \"../../config/geofirestore\";\n\nexport default async function postListing(listing, setRes) {\n  const {\n    title,\n    id,\n    type,\n    description,\n    active,\n    price,\n    start_date,\n    end_date,\n    location,\n    location_description,\n    shared,\n    roommates,\n    bedrooms,\n    bathrooms,\n    max_guests,\n    wifi_speed,\n    rules,\n    pets,\n    lgbtq,\n    living_with_host,\n    primary_img,\n    additional_imgs,\n    payment_methods,\n  } = listing;\n  if (\n    !title ||\n    !location ||\n    !type ||\n    !start_date ||\n    !bedrooms ||\n    !bathrooms ||\n    !max_guests ||\n    !primary_img\n  ) {\n    setRes({\n      message: {\n        type: \"error\",\n        content: \"Missing one or more required fields.\",\n      },\n    });\n    return;\n  }\n\n  let timestamp = new Date();\n  let coordinates;\n  if (location.geometry) {\n    debugger;\n    const { lat, lng } = location.geometry.location;\n    coordinates = new firebase.firestore.GeoPoint(lat, lng);\n  }\n\n  const newListing = {\n    title,\n    id,\n    type,\n    active,\n    price,\n    start_date,\n    end_date,\n    location,\n    description,\n    location_description,\n    shared,\n    roommates,\n    bedrooms,\n    bathrooms,\n    max_guests,\n    wifi_speed,\n    rules,\n    pets,\n    lgbtq,\n    living_with_host,\n    created_at: timestamp,\n    updated_at: timestamp,\n    primary_img,\n    coordinates,\n    additional_imgs,\n    payment_methods,\n  };\n  const unsubscribe = firebase.auth().onAuthStateChanged(async function (user) {\n    if (user) {\n      const uid = firebase.auth().currentUser.uid;\n      let user = await db.collection(\"users\").doc(uid).get();\n      user = user.data();\n      const owner = {\n        first_name: user.first_name,\n        last_name: user.last_name,\n        profile_picture: user.profile_picture,\n        uid: user.uid,\n        username: user.username,\n      };\n      newListing.owner = owner;\n\n      try {\n        const res = await geoListings.doc(id).update(newListing);\n        setRes({\n          message: {\n            type: \"success\",\n            content: \"Your Listing has been successfully updated.\",\n          },\n          redirectId: id,\n        });\n      } catch (err) {\n        console.error(err);\n        return {\n          message: {\n            type: \"error\",\n            content:\n              \"There was an error updating your listing. Please try again later.\",\n          },\n        };\n      }\n    }\n  });\n}\n","import React, { useState, useEffect, useCallback, useContext } from \"react\";\nimport useInput from \"../utils/useInputHook\";\nimport MainContentWrapper from \"./MainContentWrapper\";\nimport logo from \"../theme/logo-big.webp\";\nimport dateParse from \"date-fns/parse\";\nimport {\n  makeStyles,\n  TextField,\n  Typography,\n  Button,\n  Divider,\n  FormGroup,\n  InputAdornment,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport WifiIcon from \"@material-ui/icons/Wifi\";\nimport format from \"date-fns/format\";\nimport { Redirect, useParams } from \"react-router-dom\";\nimport Snackbar from \"./Snackbar\";\nimport Checkbox from \"./Checkbox\";\nimport DateSelector from \"./DateSelector\";\nimport RadioGroup from \"./RadioGroup\";\nimport SelectOption from \"./SelectOption\";\nimport ContentPaper from \"./ContentPaper\";\nimport GoogleMapsAutoComplete from \"./GoogleMapsSearchBox\";\nimport SelectMultiple from \"./SelectMultiple\";\nimport hometypes from \"../hometypes.json\";\nimport postListingToDb from \"../queries/listings/postListing\";\nimport UploadOneImage from \"./UploadOneImage\";\nimport UploadManyImgs from \"./UploadManyImages\";\nimport getListing from '../queries/listings/getListingById';\nimport fBdateToHtmlString from '../utils/dateFbToHTML';\nimport context from './Context';\nimport updateListingToDb from '../queries/listings/updateListing';\n\nconst useStyles = makeStyles((theme) => ({\n  titleLogoWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    paddingBottom: theme.spacing(2),\n  },\n  title: {\n    fontFamily: theme.typography.special,\n    color: theme.palette.primary.main,\n    paddingBottom: theme.spacing(1.5),\n  },\n  logo: {\n    width: 50,\n    paddingBottom: theme.spacing(1),\n  },\n  progressWrapper: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    marginTop: theme.spacing(8),\n    marginBottom: theme.spacing(8),\n    minWidth: 450,\n    [theme.breakpoints.down('sm')]: {\n        maxWidth: '100%',\n    }\n\n  },\n  form: {\n    padding: theme.spacing(1),\n    maxWidth: 750,\n  },\n  textInput: {\n    width: 300,\n    margin: \".5rem 0\",\n  },\n  sectionDivider: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  buttonWrapper: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  uploadOneImageWrapper: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    flexDirection: 'column',\n    alignItems: 'center',\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n  },\n  currentPrimaryImg: {\n      display: 'block',\n      paddingBottom: theme.spacing(2)\n  },\n  primaryImg: { \n    maxWidth: 250,\n  },\n  submitButton: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    marginLeft: theme.spacing(5),\n    marginRight: theme.spacing(5),\n    fontFamily: theme.typography.special,\n    width: \"100%\",\n    padding: theme.spacing(1.5),\n    fontSize: theme.typography.fontSize * 2,\n  },\n}));\n\nlet todayStr = format(Date.now(), \"y-MM-d\");\nconst oneToTenOptions = [\n  { value: 1, label: \"1\" },\n  { value: 2, label: \"2\" },\n  { value: 3, label: \"3\" },\n  { value: 4, label: \"4\" },\n  { value: 5, label: \"5\" },\n  { value: 6, label: \"6\" },\n  { value: 7, label: \"7\" },\n  { value: 8, label: \"8\" },\n  { value: 9, label: \"9\" },\n  { value: 10, label: \"10+\" },\n];\n\nexport default function CreateListing() {\n  const classes = useStyles();\n  const {id} = useParams();\n  const {user: {uid}} = useContext(context);\n\n  const [snackbar, setSnackbar] = useState({\n    msg: null,\n    severity: null,\n  });\n\n  const [title, setTitle] = useState(\"\");\n  const [type, setType] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [publish_now, setPublishNow] = useState(null);\n  const [description, setDescription] = useState(\"\");\n  const [start_date, setStartDate] = useState(null);\n  const [end_date, setEndDate] = useState(null);\n  const [location, setLocation] = useState({});\n  const [location_description, setLocationDescription] = useState(\"\");\n  const [shared, setShared] = useState(null);\n  const [living_with_host, setLivingWithHost] = useState(null);\n  const [roommates, setRoommates] = useState(\"\");\n  const [bedrooms, setBedrooms] = useState(\"\");\n  const [bathrooms, setBathrooms] = useState(\"\");\n  const [max_guests, setMaxGuests] = useState(\"\");\n  const [wifi_speed, setWifiSpeed] = useState(\"\");\n  const [rules, setRules] = useState([]);\n  const [pets, setPets] = useState([]);\n  const [payment_methods, setPaymentMethods] = useState([]);\n  const [lgbtq, setLgbtq] = useState(null);\n  const [primary_img, setPrimaryImage] = useState(null);\n  const [additional_imgs, setAdditionalImages] = useState(null);\n  const [disableSubmit, setDisableSubmit] = useState(false);\n  const [resMsg, setResMsg] = useState(null);\n  const [redirect, setRedirect] = useState(null);\n\n  useEffect( ()=>{\n    (async () => {\n    if(uid){\n      const listing = await getListing(id);\n        if (listing.owner.uid !== uid) {\n\n          setRedirect(`/listings/${listing.id}`);\n          return;\n        }\n        const {title, type, description, active, price, start_date, end_date, location, \n                        location_description, shared, roommates, bedrooms, bathrooms,\n                        max_guests, wifi_speed, rules, pets, lgbtq, living_with_host, primary_img,\n                        additional_imgs, payment_methods,\n                      } = listing;\n        setTitle(title);\n        setDisableSubmit(id)\n        setType(type);\n        setDescription(description);\n        setPublishNow(active);\n        setPrice(price);\n        setStartDate(fBdateToHtmlString(start_date));\n        setEndDate(fBdateToHtmlString(end_date)); \n        setLocation(location);\n        setLocationDescription(location_description);\n        setShared(shared);\n        setRoommates(roommates);\n        setBedrooms(bedrooms);\n        setBathrooms(bathrooms);\n        setMaxGuests(max_guests);\n        setWifiSpeed(wifi_speed);\n        setRules(rules);\n        setPets(pets);\n        setLgbtq(lgbtq);\n        setLivingWithHost(living_with_host);\n        setPrimaryImage(primary_img);\n        setAdditionalImages(additional_imgs);\n        setPaymentMethods(payment_methods);\n    }  \n    })();\n  },[uid, id])\n  const updateListing = async (e) => {\n    e.preventDefault();\n    if (!shared) {\n      setLivingWithHost(false);\n      setRoommates(\"\");\n    }\n    const priceInt = parseInt(price);\n    const bathroomsInt = parseInt(bathrooms);\n    const bedroomsInt = parseInt(bedrooms);\n    const maxGuestsInt = parseInt(max_guests);\n    let roommatesInt = \"\";\n    if (roommates) roommatesInt = parseInt(roommates);\n    let wifiInt = \"\";\n    if (wifi_speed.value) wifiInt = parseInt(wifi_speed);\n\n    //TODO add data converters\n    const startDateObj = dateParse(start_date, \"yyyy-MM-dd\", new Date());\n    let endDate = \"\";\n    if (end_date) {\n      endDate = dateParse(end_date, \"yyyy-MM-dd\", new Date());\n    }\n\n    const listing = {\n      title: title,\n      type,\n      price: priceInt,\n      active: publish_now,\n      start_date: startDateObj,\n      end_date: endDate,\n      description: description,\n      location,\n      location_description: location_description,\n      shared,\n      roommates: roommatesInt,\n      living_with_host,\n      bedrooms: bedroomsInt,\n      bathrooms: bathroomsInt,\n      max_guests: maxGuestsInt,\n      wifi_speed: wifiInt,\n      rules,\n      pets,\n      lgbtq,\n      primary_img,\n      additional_imgs,\n      payment_methods,\n      id\n    };\n    await updateListingToDb(listing, setResMsg);\n  };\n\n  return (\n    <>\n      <>\n        {redirect && (\n          <div>\n            {\" \"}\n            <Redirect to={redirect} />{\" \"}\n          </div>\n        )}\n      </>\n      <>\n        {resMsg && resMsg.message.type === \"success\" && (\n          <div>\n            <Redirect to={`/listings/${resMsg.redirectId}`} />\n          </div>\n        )}\n      </>\n      <>\n        {resMsg && (\n          <>\n            <Snackbar\n              msgSeverity={resMsg.message.type}\n              msg={resMsg.message.content}\n              onClose={() => setResMsg(null)}\n            />\n          </>\n        )}\n      </>\n\n      <MainContentWrapper>\n        <ContentPaper>\n          <div className={classes.titleLogoWrapper}>\n            <img src={logo} alt=\"aCasa logo\" className={classes.logo} />\n            <Typography\n              variant=\"h4\"\n              component=\"h3\"\n              color=\"primary\"\n              align=\"center\"\n              className={classes.title}\n            >\n              Update Listing\n            </Typography>\n          </div>\n          {!title ? (\n            <div className={classes.progressWrapper}>\n              <CircularProgress size={100} color=\"primary\" />\n            </div>\n          ) : (\n            <form className={classes.form} noValidate onSubmit={updateListing}>\n              <div className={classes.primaryInfo}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Basic Information\n                </Typography>\n                <div>\n                  <TextField\n                    name=\"title\"\n                    label=\"Listing Title\"\n                    color=\"secondary\"\n                    defaultValue={title}\n                    onChange={(e) => setTitle(e.target.value)}\n                    className={classes.textInput}\n                    required\n                  />\n                </div>\n                <div>\n                  <SelectOption\n                    required={true}\n                    labelText={\"Property Type\"}\n                    name=\"type\"\n                    options={hometypes}\n                    formSetter={setType}\n                    defaultValue={type}\n                  />\n                </div>\n                <div>\n                  {price && (\n                    <TextField\n                      name=\"price\"\n                      type=\"number\"\n                      label=\"Price per Month in Dollars\"\n                      color=\"secondary\"\n                      className={classes.textInput}\n                      defaultValue={price}\n                      onChange={(e) => setPrice(e.target.value)}\n                      InputProps={{\n                        startAdornment: (\n                          <InputAdornment position=\"start\">$</InputAdornment>\n                        ),\n                      }}\n                      required\n                      helperText=\"NOTE: You can negotiate price with guests once they've contacted you. \"\n                    />\n                  )}\n                </div>\n                <div>\n                  {publish_now !== null && (\n                    <RadioGroup\n                      formLabel=\"Publish Now *\"\n                      ariaLabel=\"publish listing publicly\"\n                      name=\"active\"\n                      required={true}\n                      defaultValue={JSON.stringify(publish_now)}\n                      formSetter={setPublishNow}\n                      className={classes.textInput}\n                      options={[\n                        { value: \"true\", label: \"Yes\" },\n                        { value: \"false\", label: \"Not Right Now\" },\n                      ]}\n                    />\n                  )}\n                </div>\n                <div>\n                  <TextField\n                    name=\"description\"\n                    label=\"Property Description\"\n                    defaultValue={description}\n                    onChange={(e) => setDescription(e.target.value)}\n                    multiline\n                    rows={4}\n                    color=\"secondary\"\n                    style={{ width: \"100%\" }}\n                  />\n                </div>\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.dates}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Dates\n                </Typography>\n                {start_date && (\n                  <DateSelector\n                    className={classes.textInput}\n                    labelText=\"Start Date\"\n                    defaultValue={start_date}\n                    required={true}\n                    formSetter={setStartDate}\n                  />\n                )}\n                {end_date !== null && (\n                  <DateSelector\n                    className={classes.textInput}\n                    defaultValue={end_date}\n                    labelText=\"End Date\"\n                    required={false}\n                    helperText=\"Only include if there is a fixed end date for the availability\"\n                    formSetter={setEndDate}\n                  />\n                )}\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.location}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Location\n                </Typography>\n                {location.description && (\n                  <div style={{ paddingTop: \".5em\", paddingBottom: \".5em\" }}>\n                    <Typography>\n                      <b>Your current location is: </b> {location.description}\n                    </Typography>\n                  </div>\n                )}\n                <GoogleMapsAutoComplete\n                  variant=\"standard\"\n                  label=\"Location\"\n                  name=\"location\"\n                  required\n                  formSetter={setLocation}\n                  className={classes.textInput}\n                />\n                <TextField\n                  name=\"location_description\"\n                  label=\"Location Description\"\n                  multiline\n                  defaultValue={location_description}\n                  onChange={(e) => setLocationDescription(e.target.value)}\n                  rows={4}\n                  color=\"secondary\"\n                  style={{ width: \"100%\" }}\n                />\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.dates}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Occupancy\n                </Typography>\n                <div>\n                  {shared !== null && (\n                    <RadioGroup\n                      formLabel=\"Shared *\"\n                      ariaLabel=\"apartment is shared option\"\n                      name=\"shared\"\n                      required={true}\n                      defaultValue={JSON.stringify(shared)}\n                      className={classes.textInput}\n                      formSetter={setShared}\n                      options={[\n                        { value: \"true\", label: \"Yes\" },\n                        { value: \"false\", label: \"No\" },\n                      ]}\n                    />\n                  )}\n                </div>\n                {shared === true && (\n                  <FormGroup\n                    row\n                    style={{ display: \"flex\", alignItems: \"center\" }}\n                  >\n                    <div>\n                      <SelectOption\n                        required={true}\n                        labelText={\"Roommates\"}\n                        name=\"roommates\"\n                        defaultValue={roommates}\n                        formSetter={setRoommates}\n                        options={oneToTenOptions}\n                        className={classes.textInput}\n                      />\n                    </div>\n                    <div>\n                      {living_with_host !== null && (\n                        <Checkbox\n                          label={\"Living with Host\"}\n                          name=\"living_with_host\"\n                          formSetter={setLivingWithHost}\n                          className={classes.textInput}\n                          defaultValue={living_with_host}\n                        />\n                      )}\n                    </div>\n                  </FormGroup>\n                )}\n                <FormGroup row>\n                  <div>\n                    <SelectOption\n                      required={true}\n                      labelText={\"Bedrooms\"}\n                      name=\"bedrooms\"\n                      formSetter={setBedrooms}\n                      options={oneToTenOptions}\n                      defaultValue={bedrooms}\n                    />\n                  </div>\n                  <div>\n                    <SelectOption\n                      required={true}\n                      labelText={\"Bathrooms\"}\n                      name=\"bathrooms\"\n                      formSetter={setBathrooms}\n                      options={oneToTenOptions}\n                      defaultValue={bathrooms}\n                    />\n                  </div>\n                  <div>\n                    <SelectOption\n                      required={true}\n                      labelText={\"Max Guests\"}\n                      name=\"max_guests\"\n                      formSetter={setMaxGuests}\n                      options={oneToTenOptions}\n                      defaultValue={max_guests}\n                    />\n                  </div>\n                </FormGroup>\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.contact}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                >\n                  Additional Information\n                </Typography>\n                <Typography variant=\"p\" component=\"p\" color=\"textSecondary\">\n                  It is highly recommended to include the following information\n                  to make your listing stand out and be more searchable.\n                </Typography>\n                <FormGroup row>\n                  <div>\n                    {wifi_speed && (\n                      <TextField\n                        name=\"wifi_speed\"\n                        type=\"number\"\n                        label=\"Wifi speed (Mbps)\"\n                        color=\"secondary\"\n                        InputProps={{\n                          startAdornment: (\n                            <InputAdornment position=\"start\">\n                              <WifiIcon color=\"secondary\" />\n                            </InputAdornment>\n                          ),\n                        }}\n                        className={classes.textInput}\n                        defaultValue={wifi_speed}\n                        onChange={wifi_speed.onChange}\n                      />\n                    )}\n                  </div>\n                  <div>\n                    <SelectMultiple\n                      options={[\n                        \"Quiet after 10 PM\",\n                        \"No parties\",\n                        \"No overnight guests\",\n                        \"No smoking\",\n                      ]}\n                      label=\"House Rules\"\n                      formSetter={setRules}\n                      defaultValue={rules}\n                    />\n                  </div>\n                </FormGroup>\n                <FormGroup\n                  row\n                  style={{ display: \"flex\", alignItems: \"center\" }}\n                >\n                  <div>\n                    <SelectMultiple\n                      options={[\n                        \"Cats\",\n                        \"Dogs\",\n                        \"Fish\",\n                        \"Guinea Pigs\",\n                        \"Hamsters\",\n                        \"Insects\",\n                        \"Rabbits\",\n                        \"Reptiles\",\n                      ]}\n                      label=\"Pets\"\n                      formSetter={setPets}\n                      defaultValue={pets}\n                    />\n                  </div>\n                  <div>\n                    <SelectMultiple\n                      options={[\n                        \"Bank Transfer\",\n                        \"Cash\",\n                        \"Card\",\n                        \"Cheque\",\n                        \"Cryptocurrency\",\n                        \"Other (discuss with host)\",\n                      ]}\n                      label=\"Payment Methods\"\n                      formSetter={setPaymentMethods}\n                      defaultValue={payment_methods}\n                    />\n                  </div>\n                  <div style={{ paddingTop: 12 }}>\n                    {lgbtq !== null && (\n                      <Checkbox\n                        label={\"LGBTQ+ Friendly\"}\n                        name=\"lgbtq\"\n                        formSetter={setLgbtq}\n                        defaultValue={lgbtq}\n                      />\n                    )}\n                  </div>\n                </FormGroup>\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.images}>\n                <Typography\n                  variant=\"h5\"\n                  component=\"h3\"\n                  color=\"primary\"\n                  className={classes.title}\n                  style={{ paddingBottom: \".5em\" }}\n                >\n                  Images\n                </Typography>\n                <div>\n                  <Typography component=\"h4\" variant=\"h6\">\n                    Select the listing's primary image\n                  </Typography>\n                  <Typography color=\"textSecondary\">\n                    This will be featured prominently throughout the site, so\n                    make you it's a picture you really like!\n                  </Typography>\n                  <div className={classes.uploadOneImageWrapper}>\n                    {primary_img && (\n                      <>\n                        <div className={classes.currentPrimaryImg}>\n                          <Typography component=\"p\" variant=\"h6\" align=\"center\">\n                            Current Primary Image\n                          </Typography>\n                          <img\n                            src={primary_img}\n                            alt={primary_img}\n                            className={classes.primaryImg}\n                          />\n                        </div>\n                        <UploadOneImage\n                          formSetter={setPrimaryImage}\n                          required={true}\n                        />\n                      </>\n                    )}\n                  </div>\n                </div>\n                <div>\n                  <Typography component=\"h4\" variant=\"h6\">\n                    Select additional images\n                  </Typography>\n                  <Typography color=\"textSecondary\">\n                    <b>NOTE:</b> at this time you can only bulk add photos, so if you\n                    want to keep your current photos and add others, you need to\n                    add them again.\n                  </Typography>\n                  {additional_imgs !== null && <UploadManyImgs\n                    formSetter={setAdditionalImages}\n                    defaultImages={additional_imgs}\n                  />}\n                </div>\n              </div>\n              <Divider className={classes.sectionDivider} />\n              <div className={classes.buttonWrapper}>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  className={classes.submitButton}\n                  type=\"submit\"\n                >\n                  Update Listing!\n                </Button>\n              </div>\n            </form>\n          )}\n        </ContentPaper>\n      </MainContentWrapper>\n    </>\n  );\n}\n","import React, {useState} from \"react\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport {makeStyles, Typography} from '@material-ui/core';\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport InboxIcon from \"@material-ui/icons/Inbox\";\nimport WebIcon from \"@material-ui/icons/Web\";\nimport Link from \"@material-ui/core/Link\";\nimport LinkedInIcon from \"@material-ui/icons/LinkedIn\";\nimport GitHubIcon from \"@material-ui/icons/GitHub\";\nimport TwitterIcon from \"@material-ui/icons/Twitter\";\n\nconst useStyles = makeStyles((theme) => ({\n  contentWrapper: {\n    width: 450,\n    [theme.breakpoints.down(\"xs\")]: {\n      width: \"92%\",\n    },\n  },\n  bitmojiButton: {\n    backgroundImage: `url(${process.env.PUBLIC_URL}/assets/img/bitmoji-neutral.png)`,\n    backgroundSize: \"cover\",\n    backgroundRepeat: \"no-repeat\",\n    backgroundPosition: \"center\",\n    height: 66,\n    width: 50,\n    position: \"fixed\",\n    bottom: 10,\n    left: 15,\n    zIndex: 25,\n    cursor: 'pointer',\n    \"&:hover\": {\n      backgroundImage: `url(${process.env.PUBLIC_URL}/assets/img/bitmoji-smile.png)`,\n    },\n  },\n  precache: {\n    position: \"absolute\",\n    bottom: 0,\n    left: 0,\n    opacity: 0.1,\n    width: 2,\n  },\n  imgWrapper: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    margin: `${theme.spacing(2)} 0`,\n    width: \"100%\",\n  },\n  img: {\n    maxWidth: 160,\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  title: {\n      color: theme.palette.primary.dark,\n      fontFamily: theme.typography.special\n  },\n  contactInfo: {\n    marginLeft: theme.spacing(10),\n    [theme.breakpoints.down(\"xs\")]: {\n      marginLeft: theme.spacing(0.5),\n    },\n  },\n}));\n\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ContactModal() {\n\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div className={classes.contentWrapper}>\n      <div className={classes.bitmojiButton} onClick={handleClickOpen}></div>\n      <img\n        className={classes.precache}\n        src=\"/assets/img/bitmoji-smile.png\"\n        alt=\"smiling ben precache img\"\n      />\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-contact-info\"\n        aria-describedby=\"alert-dialog-ben-perlmutter-contact-information\"\n        className={classes.dialog}\n      >\n        <div className={classes.contentWrapper}>\n          <div className={classes.imgWrapper}>\n            <img\n              className={classes.img}\n              src={`/assets/img/bitmoji-location-pin.png`}\n              alt=\"Ben emoji location pin\"\n            />\n          </div>\n          <Typography id=\"ben-permutter-contact\" align=\"center\" component=\"h3\" variant=\"h4\" className={classes.title}>\n            Ben Perlmutter\n          </Typography>\n          <DialogContent className={classes.contactInfo}>\n            <List component=\"nav\" aria-label=\"main mailbox folders\">\n              <ListItem>\n                <ListItemIcon>\n                  <WebIcon />\n                </ListItemIcon>\n                <ListItemText\n                  primary={\n                    <Link href=\"https://ben.perlmutter.io\" target=\"_blank\">\n                      ben.perlmutter.io\n                    </Link>\n                  }\n                />\n              </ListItem>\n              <ListItem>\n                <ListItemIcon>\n                  <InboxIcon />\n                </ListItemIcon>\n                <ListItemText\n                  primary={\n                    <Link href=\"mailto:ben@perlmutter.io\">\n                      ben@perlmutter.io\n                    </Link>\n                  }\n                />\n              </ListItem>\n              <ListItem>\n                <ListItemIcon>\n                  <GitHubIcon />\n                </ListItemIcon>\n                <ListItemText\n                  primary={\n                    <Link href=\"https://github.com/bpmutter\" target=\"_blank\">\n                      Github\n                    </Link>\n                  }\n                />\n              </ListItem>\n              <ListItem>\n                <ListItemIcon>\n                  <LinkedInIcon />\n                </ListItemIcon>\n                <ListItemText\n                  primary={\n                    <Link\n                      href=\"https://linkedin.com/in/ben-perlmutter\"\n                      target=\"_blank\"\n                    >\n                      LinkedIn\n                    </Link>\n                  }\n                />\n              </ListItem>\n              <ListItem>\n                <ListItemIcon>\n                  <TwitterIcon />\n                </ListItemIcon>\n                <ListItemText\n                  primary={\n                    <Link href=\"https://twitter.com/bpmutter\" target=\"_blank\">\n                      Twitter\n                    </Link>\n                  }\n                />\n              </ListItem>\n            </List>\n          </DialogContent>\n        </div>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { Typography, IconButton, Link } from \"@material-ui/core\";\nimport HelpIcon from \"@material-ui/icons/Help\";\nimport GitHubIcon from \"@material-ui/icons/GitHub\";\nimport TwitterIcon from \"@material-ui/icons/Twitter\";\nimport WebIcon from \"@material-ui/icons/Web\";\nimport LinkedInIcon from \"@material-ui/icons/LinkedIn\";\n\nconst useStyles = makeStyles((theme) => ({\n  contentWrapper: {\n    width: 450,\n    padding: theme.spacing(2),\n    [theme.breakpoints.down(\"xs\")]: {\n      width: \"90%\",\n    },\n  },\n  iconButton: {\n    backgroundColor: \"rgba(2,18,26, .075)\",\n    borderRadius: \"50%\",\n    height: 50,\n    width: 50,\n    position: \"fixed\",\n    bottom: 90,\n    left: 15,\n    zIndex: 25,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    \"&:hover\": {\n      backgroundColor: \"rgba(2,18,26, .25)\",\n    },\n  },\n  icon: {\n    color: theme.palette.secondary.main,\n    opacity: 0.95,\n    fontSize: \"2.25em\",\n  },\n  imgWrapper: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    margin: `${theme.spacing(2)} 0`,\n    width: \"100%\",\n  },\n  img: {\n    maxWidth: 100,\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  \n  title: {\n    color: theme.palette.primary.dark,\n    fontFamily: theme.typography.special,\n    marginBottom: theme.spacing(3),\n  },\n  aboutInfo: {\n      fontSize: theme.typography.fontSize*1.25\n  },\n  contactIcon: {\n      fontSize: theme.typography.fontSize*1.5,\n      margin: theme.spacing(1),\n\n  }\n  \n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"down\" ref={ref} {...props} />;\n});\n\nexport default function AboutModal() {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div className={classes.contentWrapper}>\n      <IconButton className={classes.iconButton} onClick={handleClickOpen}>\n        <HelpIcon className={classes.icon} />\n      </IconButton>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-contact-info\"\n        aria-describedby=\"alert-dialog-ben-perlmutter-contact-information\"\n        className={classes.dialog}\n      >\n        <div className={classes.contentWrapper}>\n          <div className={classes.imgWrapper}>\n            <img\n              className={classes.img}\n              src={`/logo-big.webp`}\n              alt=\"aCasa logo\"\n            />\n          </div>\n          <Typography\n            id=\"ben-permutter-contact\"\n            align=\"center\"\n            component=\"h3\"\n            variant=\"h4\"\n            className={classes.title}\n          >\n            About aCasa\n          </Typography>\n          <div className={classes.aboutInfo}>\n            <p>aCasa is a medium-term listing platform.</p>\n            <p>\n              Home seekers can browse homes based on location, view home info\n              relevant to medium-term stays, and contact the owners to continue\n              the conversation on other mediums.\n            </p>\n            <p>\n              Homeowners can post, update, and delete listings. They also have a\n              dedicated profile page that they can update and share to build\n              their business.\n            </p>\n            <p>\n              aCasa was made with a React frontend and a Firebase serverless\n              backend. Learn more and view the source code on{\" \"}\n              <Link\n                href=\"https://github.com/bpmutter/acasa\"\n                target=\"_blank\"\n                rel=\"noopener\"\n              >\n                Github\n              </Link>\n              .\n            </p>\n\n            <Typography color=\"textSecondary\" align=\"center\">\n              {\"Made with  by \"}\n              Ben Perlmutter, {new Date().getFullYear()}\n            </Typography>\n            <Typography\n              variant=\"body2\"\n              color=\"textSecondary\"\n              align=\"center\"\n              className={classes.icons}\n            >\n              <IconButton\n                color=\"secondary\"\n                href=\"https://ben.perlmutter.io/\"\n                target=\"_blank\"\n                rel=\"noopener\"\n              >\n                <WebIcon className={classes.contactIcon} />\n              </IconButton>\n              <IconButton\n                color=\"secondary\"\n                href=\"https://github.com/bpmutter\"\n                target=\"_blank\"\n                rel=\"noopener\"\n              >\n                <GitHubIcon className={classes.contactIcon} />\n              </IconButton>\n              <IconButton\n                color=\"secondary\"\n                href=\"https://linkedin.com/in/ben-perlmutter\"\n                target=\"_blank\"\n                rel=\"noopener\"\n              >\n                <LinkedInIcon className={classes.contactIcon} />\n              </IconButton>\n              <IconButton\n                color=\"secondary\"\n                href=\"https://twitter.com/bpmutter\"\n                target=\"_blank\"\n                rel=\"noopener\"\n              >\n                <TwitterIcon className={classes.contactIcon} />\n              </IconButton>\n            </Typography>\n          </div>\n        </div>\n      </Dialog>\n    </div>\n  );\n}\n","import React from 'react';\nimport Navigation from './Navigation';\nimport Homepage from './Homepage';\nimport UserPage from './UserPage';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Footer from './Footer';\nimport ProtectedRoute from './ProtectedRoute';\nimport Profile from './Profile';\nimport ProfileSettings from \"./ProfileSettings\";\nimport CreateListing from './CreateListing';\nimport Testing from './Testing';\nimport FourOhFour from './FourOhFour';\nimport ListingPage from './ListingPage';\nimport SearchPage from './SearchPage';\nimport LoginPage from './LoginPage';\nimport UpdateListingForm from './UpdateListingForm';\nimport PersonalContactModal from './PersonalContactModal';\nimport AboutModal from './AboutModal';\nfunction App() {\n  return (\n    <>\n      <div style={{ minHeight: \"94vh\" }}>\n        <Router>\n          <Navigation />\n          <Switch>\n            <Route path=\"/\" exact>\n              <Homepage />\n            </Route>\n            <ProtectedRoute exact path=\"/profile\">\n              <Profile />\n            </ProtectedRoute>\n            <ProtectedRoute exact path=\"/profile/settings\">\n              <ProfileSettings />\n            </ProtectedRoute>\n            <ProtectedRoute path=\"/create-listing\">\n              <CreateListing />\n            </ProtectedRoute>\n            <Route path=\"/users/:username\">\n              <UserPage />\n            </Route>\n            <ProtectedRoute path=\"/listings/:id/edit\">\n              <UpdateListingForm />\n            </ProtectedRoute>\n            <Route path=\"/listings/:id\">\n              <ListingPage />\n            </Route>\n            <Route path=\"/testing\">\n              <Switch>\n                <Route exact path=\"/testing\">\n                  <Testing />\n                </Route>\n                <Route path=\"/testing/listing\">\n                  <ListingPage />\n                </Route>\n              </Switch>\n            </Route>\n            <Route exact path=\"/search\">\n              <SearchPage />\n            </Route>\n            <Route exact path=\"/login\">\n              <LoginPage />\n            </Route>\n            <Route exact path=\"/signup\">\n              <LoginPage />\n            </Route>\n            <Route path=\"*\">\n              <FourOhFour />\n            </Route>\n          </Switch>\n        </Router>\n        <AboutModal/>\n        <PersonalContactModal/>\n      </div>\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","\nimport { createMuiTheme, responsiveFontSizes } from \"@material-ui/core/styles\";\n\n\nlet themeLight = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#8e24aa\",\n    },\n    secondary: {\n      main: \"#1de9b6\",\n    },\n    gradients: {\n      primary: \"linear-gradient(90deg, rgba(142,36,170,1) 0%, rgba(254,102,197,1) 100%)\",\n      secondary: \"linear-gradient(90deg, rgba(29,233,182,1) 20%, rgba(34,193,195,1) 100%)\",\n\n    }\n  },\n  typography: {\n    special: \"'Fredoka One', Roboto, Arial, sans-serif\",\n  },\n});\nthemeLight = responsiveFontSizes(themeLight);\n\nlet themeDark = createMuiTheme({\n\n})\nthemeDark = responsiveFontSizes(themeDark)\n\n\nexport {themeLight, themeDark}\n\n// const getTheme = () => {\n//   let overwrites = {\n//     \"palette\": {\n//         \"primary1Color\": \"#7e57c2\",\n//         \"primary2Color\": \"#ff4081\",\n//         \"accent1Color\": \"#d1c4e9\",\n//         \"accent2Color\": \"#f48fb1\",\n//         \"pickerHeaderColor\": \"#26c6da\",\n//         \"textColor\": \"#616161\",\n//         \"canvasColor\": \"rgba(255, 255, 255, 0.87)\"\n//     }\n// };\n//   return getMuiTheme(baseTheme, overwrites);\n// }\n","import db from '../config/firestoreDb';\nimport firebase from 'firebase';\n\n\nexport default async function createUserInDb(authResult){\n      const {\n        additionalUserInfo: { isNewUser, profile},\n      } = authResult;\n\n      const uid = await firebase.auth().currentUser.uid;\n      const newUser = {};\n\n      //create unique username with timestamp\n      let timestamp = new Date();\n      timestamp = timestamp.getTime();\n      newUser.username = `${profile.given_name\n        .split(\" \")\n        .join(\"\")\n        .toLowerCase()}-${profile.family_name\n        .split(\" \")\n        .join(\"\")\n        .toLowerCase()}-${timestamp}`;\n    \n      newUser.first_name = profile.given_name;\n      newUser.last_name = profile.family_name;\n      newUser.profile_picture = profile.picture;\n      newUser.contact = {\n          email: profile.email\n      };\n\n      const creationTime = new Date();\n      newUser.date_added = creationTime;\n      newUser.date_updated = creationTime;\n      newUser.oAuthInfo = profile;\n      newUser.uid = uid;\n      newUser.contact.email = profile.email;\n\n\n      let userId = null;\n      if(isNewUser){\n        try{ \n            const res = await db.collection(\"users\").doc(uid).set(newUser);\n        }catch(err){ \n          console.error(err)\n        }\n        userId = uid;    \n      }\n      return userId;\n}\n","import db from \"../config/firestoreDb\";\nimport firebase from 'firebase';\n\nexport default async function login(){\n    const uid = await firebase.auth().currentUser.uid;\n    \n    const userRef = await db.collection('users').doc(uid);\n    const doc = await userRef.get();\n    if (!doc.exists) {\n        return;\n    } else {\n        const docData = doc.data()\n        return docData;\n    }\n}\n","import firebase from 'firebase';\nimport login from './login';\nexport default async function loginOnPageLoad(setUser){\n    const unsubscribe = firebase.auth().onAuthStateChanged(async function (user) {\n          const userData = await login();\n          setUser(userData)\n          unsubscribe();\n        })\n\n}\n","import React, {useState, useEffect} from 'react';\nimport App from './App';\nimport {\n  ThemeProvider,\n} from \"@material-ui/core/styles\";\nimport {themeLight} from '../theme/theme';\nimport Context from './Context.js'\nimport firebase from 'firebase'\nimport logoutFirebase from '../auth/logout';\nimport signupFirebase from '../auth/signup';\nimport '../config/firebaseApp'\nimport loginFirebase from '../auth/login';\nimport loginOnPageLoadFirebase from '../auth/loginOnPageLoad';\n\nconst AppContext = () => {\n    const loggedInFromLS = JSON.parse(localStorage.getItem('loggedIn'))\n    const [loggedIn, setLoggedIn] = useState(loggedInFromLS);\n    const [user, setUser] = useState({username: \"\"})\n    const [errors, setErrors] = useState([]);\n\n    const signUp = async (authResult) => {\n      const userId = await signupFirebase(authResult);\n      if(userId){\n        logIn();\n      } else{\n        setErrors([\"It looks like there is already an account using this email. Log in with that account or choose a new log in method\", ...errors]);\n      } \n    }\n    const logIn = async () => {\n        const user  = await loginFirebase();\n        setUser(user);\n        setLoggedIn(true);\n        localStorage.setItem('loggedIn', true);\n    }\n    const logOut = () => {\n      logoutFirebase()\n      setLoggedIn(false);\n      localStorage.setItem('loggedIn', false)\n    }\n    useEffect( ()=>{\n      if(loggedIn){\n      (async ()=> {\n        await loginOnPageLoadFirebase(setUser);\n      })()\n    }\n      \n    },[user.username]);   \n\n    const context = { user, loggedIn, logIn, logOut, signUp };\n\n    return (\n      <Context.Provider value={context}>\n        <ThemeProvider theme={themeLight}>\n          <App />\n        </ThemeProvider>\n      </Context.Provider>\n    );\n}\n\nexport default AppContext","import firebase from 'firebase';\n\n\nexport default function logout(){\n    firebase.auth().signOut();\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport AppWithContext from './components/AppWithContext';\nReactDOM.render(\n  <React.StrictMode>\n    <AppWithContext />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}