(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{177:function(e){e.exports=JSON.parse('[{"value":"apartment","label":"Apartment"},{"value":"house","label":"House"},{"value":"studio","label":"Studio"},{"value":"townhouse","label":"Townhouse"}]')},304:function(e,t,a){e.exports=a.p+"static/media/woman-with-home-mountain.fbfbf632.svg"},306:function(e,t,a){e.exports=a.p+"static/media/remote-work.7c5a71b7.svg"},307:function(e,t,a){e.exports=a.p+"static/media/many-homes.d845869b.svg"},308:function(e,t,a){e.exports=a.p+"static/media/conversation.0dd3c6da.svg"},309:function(e,t,a){e.exports=a.p+"static/media/news-megaphone.f4d0d54c.svg"},310:function(e,t,a){e.exports=a.p+"static/media/control-settings.6a47a680.svg"},311:function(e,t,a){e.exports=a.p+"static/media/transfer-money.a0f26b4c.svg"},323:function(e){e.exports=JSON.parse('["Abkhazian","Afar","Afrikaans","Akan","Albanian","Amharic","Arabic","Aragonese","Armenian","Assamese","Avaric","Avestan","Aymara","Azerbaijani","Bambara","Bashkir","Basque","Belarusian","Bengali","Bihari languages","Bislama","Bosnian","Breton","Bulgarian","Burmese","Catalan, Valencian","Central Khmer","Chamorro","Chechen","Chichewa","Chinese","Church Slavonic","Chuvash","Cornish","Corsican","Cree","Croatian","Czech","Danish","Divehi, Maldivian","Dutch, Flemish","Dzongkha","English","Esperanto","Estonian","Ewe","Faroese","Fijian","Finnish","French","Fulah","Scottish Gaelic","Galician","Ganda","Georgian","German","Gikuyu","Greek","Greenlandic, Kalaallisut","Guarani","Gujarati","Haitian","Hausa","Hebrew","Herero","Hindi","Hiri Motu","Hungarian","Icelandic","Ido","Igbo","Indonesian","Inuktitut","Inupiaq","Irish","Italian","Japanese","Javanese","Kannada","Kanuri","Kashmiri","Kazakh","Kinyarwanda","Komi","Kongo","Korean","Kwanyama","Kurdish","Kyrgyz","Lao","Latin","Latvian","Luxembourgish","Limburgish","Lingala","Lithuanian","Luba-Katanga","Macedonian","Malagasy","Malay","Malayalam","Maltese","Manx","Maori","Marathi","Marshallese","Moldovan","Mongolian","Nauru","Navajo, Navaho","Northern Ndebele","Ndonga","Nepali","Northern Sami","Norwegian","Norwegian Bokm\xe5l","Norwegian Nynorsk","Nuosu, Sichuan Yi","Occitan","Ojibwa","Oriya","Oromo","Ossetian, Ossetic","Pali","Panjabi, Punjabi","Pashto, Pushto","Persian","Polish","Portuguese","Quechua","Romansh","Rundi","Russian","Samoan","Sango","Sanskrit","Sardinian","Serbian","Shona","Sindhi","Sinhala, Sinhalese","Slovak","Slovenian","Somali","Sotho","South Ndebele","Spanish","Sundanese","Swahili","Swati","Swedish","Tagalog","Tahitian","Tajik","Tamil","Tatar","Telugu","Thai","Tibetan","Tigrinya","Tonga","Tsonga","Tswana","Turkish","Turkmen","Twi","Uighur, Uyghur","Ukrainian","Urdu","Uzbek","Venda","Vietnamese","Volap_k","Walloon","Welsh","Western Frisian","Wolof","Xhosa","Yiddish","Yoruba","Zhuang","Zulu"]')},326:function(e,t,a){e.exports=a.p+"static/media/hiding-in-trees.c9cdc1f1.svg"},331:function(e){e.exports=JSON.parse('[{"featureType":"landscape.man_made","elementType":"geometry","stylers":[{"color":"#f7f1df"}]},{"featureType":"landscape.natural","elementType":"geometry","stylers":[{"color":"#d0e3b4"}]},{"featureType":"landscape.natural.terrain","elementType":"geometry","stylers":[{"visibility":"off"}]},{"featureType":"poi","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"poi.business","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"poi.medical","elementType":"geometry","stylers":[{"color":"#fbd3da"}]},{"featureType":"poi.park","elementType":"geometry","stylers":[{"color":"#bde6ab"}]},{"featureType":"road","elementType":"geometry.stroke","stylers":[{"visibility":"off"}]},{"featureType":"road","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"road.highway","elementType":"geometry.fill","stylers":[{"color":"#ffe15f"}]},{"featureType":"road.highway","elementType":"geometry.stroke","stylers":[{"color":"#efd151"}]},{"featureType":"road.arterial","elementType":"geometry.fill","stylers":[{"color":"#ffffff"}]},{"featureType":"road.local","elementType":"geometry.fill","stylers":[{"color":"black"}]},{"featureType":"transit.station.airport","elementType":"geometry.fill","stylers":[{"color":"#cfb2db"}]},{"featureType":"water","elementType":"geometry","stylers":[{"color":"#a2daf2"}]}]')},337:function(e,t,a){e.exports=a.p+"static/media/empty-void.2378110c.svg"},338:function(e,t,a){e.exports=a.p+"static/media/location-search.c46ea4fc.svg"},369:function(e,t,a){e.exports=a(621)},374:function(e,t,a){},401:function(e){e.exports=JSON.parse("{}")},621:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(25),i=a.n(l);a(374),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(5),o=a.n(c),s=a(112),m=a(11),u=a(4),p=a(669),d=a(681),g=a(682),f=a(675),b=a(95),h=a(625),y=a(671),E=a(63),v=a.n(E),w=a(630),j=a(152),O=a.n(j),x=a(16),N=a.n(x),k=a(702),S=r.a.createContext(),C=Object(p.a)((function(e){return{titleWrapper:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%"},logo:{width:50,paddingBottom:e.spacing(1)},title:{fontFamily:e.typography.special,color:e.palette.primary.dark}}})),I=function(){var e=C(),t=Object(n.useContext)(S),a=t.loggedIn,l=(t.logIn,t.logOut),i=t.signUp,c={signInFlow:"popup",signInOptions:[N.a.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(e,t){return i(e),!1}}};return r.a.createElement(k.a,null,r.a.createElement("div",{className:e.titleWrapper},r.a.createElement("img",{src:v.a,alt:"aCasa logo",className:e.logo}),r.a.createElement(b.a,{variant:"h4",component:"h3",className:e.title},"aCasa")),a?r.a.createElement("div",null,r.a.createElement("p",null,"Welcome ",N.a.auth().currentUser.displayName,"! You are now signed in!"),r.a.createElement(y.a,{onClick:function(){return l()}},"Go to Profile")):r.a.createElement("div",null,r.a.createElement("p",null,"Sign up with one of the following methods:"),r.a.createElement(b.a,{variant:"p",component:"p",color:"textSecondary"},"NOTE: You only need to sign up if you want to post a listing. If you're just looking for for your next home, you can browse and message the host without an account."),r.a.createElement(O.a,{uiConfig:c,firebaseAuth:N.a.auth()})))},T=Object(p.a)((function(e){return{modalContent:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),top:"50%",left:"50%",transform:"translate(-50%, -50%)",outlineColor:e.palette.secondary.light},buttonLink:{marginRight:e.spacing(2),fontFamily:e.typography.special,color:e.palette.primary.main,cursor:"pointer"},menuButton:{marginRight:e.spacing(2),fontFamily:e.typography.special},title:{fontFamily:e.typography.special,color:e.palette.primary.dark}}}));function _(){var e=T(),t=r.a.useState(!1),a=Object(u.a)(t,2),n=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"contained",color:"primary",className:e.menuButton,onClick:function(){l(!0)}},"Sign Up"),r.a.createElement(w.a,{open:n,onClose:function(){l(!1)},"aria-labelledby":"aCasa sign in","aria-describedby":"sign in to aCasa here",disableAutoFocus:!0},r.a.createElement("div",{className:e.modalContent},r.a.createElement(I,null))))}var D=a(8),W=a(343),B=a(676),F=a(677),L=a(678),P=a(162),R=a.n(P),A=a(123),M=a.n(A),q=a(301),z=a.n(q),V=a(299),H=a.n(V),Y=a(300),G=a.n(Y),U=a(29),J=Object(D.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return r.a.createElement(W.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))}));function K(e){var t=Object(n.useContext)(S).logOut,a=Object(U.g)(),l=Object(n.useState)(null),i=Object(u.a)(l,2),c=i[0],o=i[1];return r.a.createElement("div",null,r.a.createElement(h.a,{"aria-controls":"customized-menu","aria-haspopup":"true",variant:"contained",color:"primary",onClick:function(e){o(e.currentTarget)},style:e},r.a.createElement(M.a,{fontSize:"large"})),r.a.createElement(J,{id:"customized-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:function(){o(null)}},r.a.createElement(f.a,{href:"/profile",color:"inherit",underline:"none"},r.a.createElement(B.a,null,r.a.createElement(F.a,null,r.a.createElement(H.a,{fontSize:"small"})),r.a.createElement(L.a,{primary:"Profile"}))),r.a.createElement(f.a,{href:"/profile/settings",color:"inherit",underline:"none"},r.a.createElement(B.a,null,r.a.createElement(F.a,null,r.a.createElement(R.a,{fontSize:"small"})),r.a.createElement(L.a,{primary:"Settings"}))),r.a.createElement(f.a,{href:"/create-listing",color:"inherit",underline:"none"},r.a.createElement(B.a,null,r.a.createElement(F.a,null,r.a.createElement(G.a,{fontSize:"small"})),r.a.createElement(L.a,{primary:"Create Listing"}))),r.a.createElement(B.a,{onClick:function(){t(),a.push("/")}},r.a.createElement(F.a,null,r.a.createElement(z.a,{fontSize:"small"})),r.a.createElement(L.a,{primary:"Log out"}))))}var Q=Object(p.a)((function(e){return{titleWrapper:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%"},logo:{width:50,paddingBottom:e.spacing(1)},title:{fontFamily:e.typography.special,color:e.palette.primary.dark},buttonWrapper:{display:"flex",justifyContent:"space-evenly",alignItems:"center"}}})),Z=function(){var e=Q(),t=Object(n.useContext)(S),a=t.loggedIn,l=t.logIn,i={signInFlow:"popup",signInOptions:[N.a.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(e,t){return l(e),!1}}};return r.a.createElement(k.a,null,r.a.createElement("div",{className:e.titleWrapper},r.a.createElement("img",{src:v.a,alt:"aCasa logo",className:e.logo}),r.a.createElement(b.a,{variant:"h4",component:"h3",className:e.title},"aCasa")),a?r.a.createElement("div",null,r.a.createElement(b.a,{align:"center"},"Welcome back! You are now signed in!"),r.a.createElement("div",{className:e.buttonWrapper},r.a.createElement(y.a,{href:"/profile"},"Go to Profile"),r.a.createElement(y.a,{href:"/post"},"Post a Home"))):r.a.createElement("div",null,r.a.createElement(b.a,{align:"center"},"Log in with one of the following methods"),r.a.createElement(O.a,{uiConfig:i,firebaseAuth:N.a.auth()})))},$=Object(p.a)((function(e){return{modalContent:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),top:"50%",left:"50%",transform:"translate(-50%, -50%)",outlineColor:e.palette.secondary.light},buttonLink:{marginRight:e.spacing(2),fontFamily:e.typography.special,color:e.palette.primary.main,cursor:"pointer"},title:{fontFamily:e.typography.special,color:e.palette.primary.dark}}}));function X(){var e=$(),t=r.a.useState(!1),a=Object(u.a)(t,2),n=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null,r.a.createElement(b.a,{variant:"h6",component:"span",className:e.buttonLink,onClick:function(){l(!0)}},"Log In")),r.a.createElement(w.a,{open:n,onClose:function(){l(!1)},"aria-labelledby":"aCasa log in","aria-describedby":"log into your aCasa account here",disableAutoFocus:!0},r.a.createElement("div",{className:e.modalContent},r.a.createElement(Z,null))))}var ee=a(302),te=a.n(ee),ae=a(85),ne=a.n(ae),re=a(679),le=a(31),ie=Object(p.a)((function(e){return{root:{position:"static",zIndex:10,height:65,width:"100%"},menuButton:{marginRight:e.spacing(2)}}}));function ce(e){var t=ie(),a=r.a.useState(null),l=Object(u.a)(a,2),i=l[0],c=l[1],o=Boolean(i),s=Object(n.useContext)(S),m=s.loggedIn,p=s.logOut,d=function(){c(null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{edge:"start",className:t.menuButton,color:"primary",href:"/search"},r.a.createElement(ne.a,{fontSize:"large"})),r.a.createElement(h.a,{edge:"start",className:t.menuButton,color:"primary","aria-label":"open drawer","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)}},r.a.createElement(te.a,{fontSize:"large"})),r.a.createElement(W.a,{id:"fade-menu",anchorEl:i,keepMounted:!0,open:o,onClose:d,TransitionComponent:re.a},m?r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{onClick:d,component:le.b,to:"/profile"},"Profile"),r.a.createElement(B.a,{onClick:d,component:le.b,to:"/profile/settings"},"Settings"),r.a.createElement(B.a,{onClick:d,component:le.b,to:"/create-listing"},"Create Listing"),r.a.createElement(B.a,{onClick:function(){p(),d()}},"Log Out")):r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{onClick:d,component:le.b,to:"/search"},"Search"),r.a.createElement(B.a,{onClick:d,component:le.b,to:"/signup"},"Sign Up"),r.a.createElement(B.a,{onClick:d,component:le.b,to:"/login"},"Log In"))))}var oe=a(64),se=a(680),me=a(303),ue=a.n(me),pe=Object(p.a)((function(e){return{root:{flexGrow:1,position:"relative",zIndex:3},appBar:{backgroundColor:e.palette.secondary.main},menuButton:{marginRight:e.spacing(2),fontFamily:e.typography.special},menuLink:{marginRight:e.spacing(2),fontFamily:e.typography.special,color:e.palette.primary.main},logo:{width:50},title:{flexGrow:1,fontFamily:e.typography.special,color:e.palette.primary.main},rightNav:{display:"flex",flexDirection:"row",alignItems:"center"},profileMenu:{fontSize:"1.5rem"}}}));function de(){var e=pe(),t=Object(oe.a)(),a=Object(se.a)(t.breakpoints.down("sm")),l=Object(n.useContext)(S).loggedIn;return r.a.createElement("div",{className:e.root},r.a.createElement(d.a,{position:"static"},r.a.createElement(g.a,{className:e.appBar},r.a.createElement(h.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",href:"/"},r.a.createElement("img",{src:v.a,alt:"aCasa logo",className:e.logo})),r.a.createElement(b.a,{variant:"h4",component:"h2",className:e.title},r.a.createElement(f.a,{href:"/"},"aCasa")),r.a.createElement("div",{className:e.rightNav},a?r.a.createElement(ce,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"contained",color:"primary",className:e.menuButton,href:"/search"},r.a.createElement(ne.a,{style:{paddingRight:10}}),"Discover Homes"),l?r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"contained",color:"primary",className:e.menuButton,href:"/create-listing"},r.a.createElement(ue.a,{style:{paddingRight:10}}),"Create Listing"),r.a.createElement(K,{className:e.profileMenu})):r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null),r.a.createElement(X,null)))))))}var ge=a(15),fe=a(683),be=a(304),he=a.n(be),ye=Object(p.a)((function(e){var t,a;return{hero:(t={display:"grid",gridTemplateColumns:"1.25fr 1fr",padding:"6em 5em 0",alignItems:"center",fontFamily:e.typography.special,color:e.palette.primary.dark,backgroundColor:e.palette.background.default},Object(ge.a)(t,e.breakpoints.down("md"),{paddingTop:e.spacing(20)}),Object(ge.a)(t,e.breakpoints.down("sm"),{display:"flex",flexDirection:"column-reverse",paddingTop:e.spacing(12),paddingLeft:e.spacing(0),paddingRight:e.spacing(0),paddingBottom:e.spacing(6),width:"100%"}),t),heroImg:(a={width:500,opacity:.8,height:300,backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat"},Object(ge.a)(a,e.breakpoints.down("md"),{marginBottom:e.spacing(1),height:250,width:"auto"}),Object(ge.a)(a,e.breakpoints.down("sm"),{width:300}),a),heroText:{padding:e.spacing(1.5)},button:{fontFamily:e.typography.special}}})),Ee=function(){var e=ye();return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{className:e.hero},r.a.createElement(k.a,{className:e.heroText},r.a.createElement(b.a,{variant:"h5",component:"p",style:{fontFamily:"inherit"}},"aCasa"),r.a.createElement(b.a,{variant:"h4",component:"h1",style:{fontFamily:"inherit"}},"Medium-term furnished rentals"),r.a.createElement("p",null,"For when it's longer than a vacation but you don't want to sign the lease."),r.a.createElement(y.a,{variant:"contained",color:"primary",href:"/search",className:e.button},"Get Started")),r.a.createElement("div",{className:e.heroImg,style:{backgroundImage:"url(".concat(he.a,")")}})),r.a.createElement(fe.a,null))},ve=a(221),we=a(305),je=a(684),Oe=a(686),xe=a(685),Ne=Object(p.a)((function(e){return{root:Object(ge.a)({maxWidth:325,minHeight:250,margin:e.spacing(1)},e.breakpoints.down("sm"),{marginLeft:0,marginRight:0}),title:{fontFamily:e.typography.special,color:e.palette.primary.dark},img:{height:140,backgroundPosition:" 0 -7px",backgroundSize:"cover",width:"100%"}}}));function ke(e){var t=e.img,a=e.imgTitle,n=e.imgAlt,l=e.imgStyling,i=e.cardTitle,c=e.cardContent,o=e.buttonLink,s=e.buttonContent,m=Ne();return r.a.createElement(je.a,{className:m.root},r.a.createElement("div",{title:a,alt:n,className:m.img,style:Object(we.a)({backgroundImage:"url(".concat(t,")")},l)}),r.a.createElement(xe.a,null,r.a.createElement(b.a,{gutterBottom:!0,variant:"h5",component:"h2",className:m.title},i),r.a.createElement(b.a,{variant:"body2",color:"textSecondary",component:"p"},c)),o&&s&&r.a.createElement(Oe.a,null,r.a.createElement(y.a,{size:"small",color:"primary",href:o},s)))}var Se=a(306),Ce=a.n(Se),Ie=a(307),Te=a.n(Ie),_e=a(308),De=a.n(_e),We=a(309),Be=a.n(We),Fe=a(310),Le=a.n(Fe),Pe=a(311),Re=a.n(Pe),Ae=Object(p.a)((function(e){return{container:{margin:e.spacing(1.5),padding:e.spacing(2),maxWidth:"90vw",backgroundColor:e.palette.background.default},sectionWrapper:Object(ge.a)({padding:e.spacing(2)},e.breakpoints.down("sm"),{padding:0}),cardWrapper:Object(ge.a)({display:"flex",justifyContent:"space-evenly",flexDirection:"row",padding:"1rem",flexWrap:"wrap"},e.breakpoints.down("sm"),{padding:0}),title:{fontFamily:e.typography.special,color:e.palette.primary.dark},ownerLearnMoreWrapper:{width:"1005",display:"flex",justifyContent:"center"},divider:{marginTop:e.spacing(2),marginBottom:e.spacing(2)}}})),Me=function(){var e=Ae();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve.a,{className:e.container},r.a.createElement(k.a,{className:e.sectionWrapper},r.a.createElement(b.a,{variant:"h4",component:"h3",className:e.title},"For Renters"),r.a.createElement(k.a,{className:e.cardWrapper},r.a.createElement(ke,{img:Ce.a,imgAlt:"woman working remotely vector art",imgTitle:"Remote worker",cardTitle:"Digital Nomad Friendly",cardContent:"Flexible options and relevant info perfect for digital nomads."}),r.a.createElement(ke,{img:Te.a,imgAlt:"many types of homes vector art",imgTitle:"Selecting a home",imgStyling:{backgroundPosition:"bottom center"},cardTitle:"Diverse Selection",cardContent:"A broad selection of housing options all around the world."}),r.a.createElement(ke,{img:De.a,imgAlt:"two people talking vector art",imgTitle:"Direct communication with owner",cardTitle:"Direct Communication",cardContent:"Coordinate directly with property owner to accommodate your unique situation."}))),r.a.createElement(fe.a,{className:e.divider}),r.a.createElement(k.a,{className:e.sectionWrapper},r.a.createElement(b.a,{variant:"h4",component:"h3",className:e.title},"For Owners"),r.a.createElement(k.a,{className:e.cardWrapper},r.a.createElement(ke,{img:Be.a,imgAlt:"man standing out from crowd vector art",imgTitle:"Make your listings stand out",cardTitle:"Exposure",cardContent:"Get views on aCasa and your listings everywhere for maximum exposure.",imgStyling:{backgroundPosition:"0 15px ",backgroundRepeat:"no-repeat"}}),r.a.createElement(ke,{img:Le.a,imgAlt:"woman controlling settings vector art",imgTitle:"Control the experience",cardTitle:"Full Control",cardContent:"Once we connect you with the prospect, you control the whole process.",imgStyling:{backgroundPosition:"0 -25px "}}),r.a.createElement(ke,{img:Re.a,imgAlt:"two people exchanging money vector are",imgTitle:"Exchanging payment",cardTitle:"Your Payment Process",cardContent:"You decide the payment process and we take NO FEES.",imgStyling:{backgroundPosition:"0 -35px "}})))))},qe=a(693),ze=a(712),Ve=a(703),He=a(316),Ye=a.n(He),Ge=a(691),Ue=a(312),Je=a.n(Ue),Ke=a(313),Qe=a.n(Ke),Ze=a(124),$e=a.n(Ze);$e.a.setApiKey("AIzaSyBSHvxwJqoYbeiJTby6ijIkR74Bia1bJ0s"),$e.a.setLanguage("en");var Xe={geocodeFromLatLng:function(){var e=Object(m.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$e.a.fromLatLng(t,a);case 3:return n=e.sent,r=n.results[0],e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),geocodeFromAddress:function(){var e=Object(m.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$e.a.fromAddress(t);case 3:return a=e.sent,n=a.results[0].geometry,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()};var et={current:null},tt=Object(p.a)((function(e){return{icon:{color:e.palette.text.secondary,marginRight:e.spacing(2)}}}));function at(e){var t=e.formSetter,a=e.variant,n=e.label,l=(e.inputVal,e.defaultValue),i=e.helperText,c=e.required,p=tt(),d=r.a.useState(null),g=Object(u.a)(d,2),f=g[0],h=g[1],y=r.a.useState(l),E=Object(u.a)(y,2),v=E[0],w=E[1],j=r.a.useState([]),O=Object(u.a)(j,2),x=O[0],N=O[1],k=r.a.useRef(!1);"undefined"===typeof window||k.current||(document.querySelector("#google-maps")||function(e,t,a){if(t){var n=document.createElement("script");n.setAttribute("async",""),n.setAttribute("id",a),n.src=e,t.appendChild(n)}}("https://maps.googleapis.com/maps/api/js?key=AIzaSyBSHvxwJqoYbeiJTby6ijIkR74Bia1bJ0s&libraries=places",document.querySelector("head"),"google-maps"),k.current=!0);var S=r.a.useMemo((function(){return Qe()((function(e,t){et.current.getPlacePredictions(e,t)}),200)}),[]);return r.a.useEffect((function(){var e=!0;if(!et.current&&window.google){et.current=new window.google.maps.places.AutocompleteService({types:["establishment",""]})}if(et.current){if(""!==v)return S({input:v},(function(t){if(e){var a=[];f&&(a=[f]),t&&(a=[].concat(Object(s.a)(a),Object(s.a)(t))),N(a)}})),function(){e=!1};N(f?[f]:[])}}),[f,v,S]),r.a.createElement(Ve.a,{id:"google-map-autocomplete-search",style:{width:300},getOptionLabel:function(e){return"string"===typeof e?e:e.description},filterOptions:function(e){return e},options:x,autoComplete:!0,includeInputInList:!0,filterSelectedOptions:!0,value:f,onChange:function(){var e=Object(m.a)(o.a.mark((function e(a,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(n?[n].concat(Object(s.a)(x)):x),e.next=3,Xe.geocodeFromAddress(n.description);case 3:r=e.sent,n.geometry=r,h(n),t(n);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),onInputChange:function(e,t){w(t)},renderInput:function(e){return r.a.createElement(ze.a,Object.assign({},e,{label:n||"Search locations",variant:a||"outlined",color:"secondary",fullWidth:!0,defaultValue:v,helperText:i,required:c}))},renderOption:function(e){var t=e.structured_formatting.main_text_matched_substrings,a=Je()(e.structured_formatting.main_text,t.map((function(e){return[e.offset,e.offset+e.length]})));return r.a.createElement(Ge.a,{container:!0,alignItems:"center"},r.a.createElement(Ge.a,{item:!0},r.a.createElement(Ye.a,{className:p.icon})),r.a.createElement(Ge.a,{item:!0,xs:!0},a.map((function(e,t){return r.a.createElement("span",{key:t,style:{fontWeight:e.highlight?700:400}},e.text)})),r.a.createElement(b.a,{variant:"body2",color:"textSecondary"},e.structured_formatting.secondary_text)))}})}var nt=a(690),rt=a(689),lt=a(704),it=Object(p.a)((function(e){return{root:{display:"inline-block"},formControl:{marginRight:e.spacing(1.5),minWidth:140},selectEmpty:{marginTop:e.spacing(2)}}}));function ct(e){var t=e.labelText,a=e.name,l=e.options,i=e.required,c=e.formSetter,o=e.defaultValue,s=it(),m=Object(n.useState)(),p=Object(u.a)(m,2),d=p[0],g=p[1];return r.a.createElement("div",{className:s.root},r.a.createElement(rt.a,{className:s.formControl,required:i},r.a.createElement(nt.a,{htmlFor:a,color:"secondary"},t),r.a.createElement(lt.a,{native:!0,value:d||o,onChange:function(e){e.preventDefault(),g(e.target.value),c&&c(e.target.value)},label:t,name:a,color:"secondary"},r.a.createElement("option",{"aria-label":"None",value:""}),l&&l.map((function(e){return r.a.createElement("option",{value:e.value},e.label)})))))}var ot=a(59);var st=a(701),mt=Object(p.a)((function(e){return{container:{display:"inline-block"},textField:{marginLeft:e.spacing(1.5),marginRight:e.spacing(1.5),width:200}}}));function ut(e){var t=e.labelText,a=e.formSetter,l=e.required,i=e.defaultValue,c=e.helperText,o=e.disablePast,s=mt(),m=Object(n.useState)(i||null),p=Object(u.a)(m,2),d=p[0],g=p[1];return r.a.createElement("div",{className:s.container},r.a.createElement(st.a,{label:t,color:"secondary",disablePast:o,required:l,value:d,helperText:c,onChange:function(e,t){g(e);var n,r=(n=e)?Object(ot.a)(n,"yyyy-MM-dd"):"";a(r)},className:s.textField,InputLabelProps:{shrink:!0}}))}var pt=a(317),dt=a.n(pt);a(401);function gt(e){return ft.apply(this,arguments)}function ft(){return(ft=Object(m.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bt();case 3:return a=e.sent,n=a.coords,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),alert("You need to give aCasa access to your location to use this feature. If you'd prefer, you can also just search for your location in the search bar.");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function bt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,a){navigator.geolocation.getCurrentPosition(t,a,e)}))}var ht=Object(p.a)((function(e){var t;return{root:Object(ge.a)({marginBottom:e.spacing(1),padding:e.spacing(2),width:550,backgroundColor:e.palette.background.white},e.breakpoints.down("sm"),{backgroundColor:"rgba(255,255,255,.7)",width:"90%",paddingBottom:e.spacing(5)}),title:{fontFamily:e.typography.special,color:e.palette.primary.dark,paddingBottom:e.spacing(1.5)},form:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",flexWrap:"wrap",width:"100%"},formElementWrapper:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},dateSelect:Object(ge.a)({},e.breakpoints.down("xs"),{paddingTop:e.spacing(1.5)}),hometype:{marginLeft:"1em"},searchButton:(t={display:"inline-flex",justifyContent:"center",alignItems:"center",marginLeft:e.spacing(1),marginRight:e.spacing(1)},Object(ge.a)(t,e.breakpoints.down("md"),{width:150}),Object(ge.a)(t,e.breakpoints.down("xs"),{marginTop:e.spacing(3)}),t),demoSearch:{marginTop:e.spacing(2)}}})),yt=function(e){var t=e.setSearch,a=ht(),l=Object(U.h)(),i=Object(U.g)(),c=Object(n.useState)(""),s=Object(u.a)(c,2),p=s[0],d=s[1],g=Object(n.useState)(""),E=Object(u.a)(g,2),v=E[0],w=(E[1],Object(n.useState)("")),j=Object(u.a)(w,2),O=j[0],x=(j[1],Object(n.useState)(!1)),N=Object(u.a)(x,2),k=N[0],S=N[1],C=function(){var e=Object(m.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),p){e.next=4;break}return alert("Please select a location to search."),e.abrupt("return");case 4:i.push("/search?lat=".concat(p.geometry.location.lat,"&lng=").concat(p.geometry.location.lng,"&query=").concat(p.description,"&startDate=").concat(O||"","&homeType=").concat(v||"")),t&&t({homeType:v,startDate:O,description:p.description,lat:p.geometry.location.lat,lng:p.geometry.location.lng});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),S(!0),e.prev=2,e.next=5,gt();case 5:n=e.sent,d({description:"my current location",geometry:{location:{lat:n.latitude,lng:n.longitude}}}),i.push("/search?lat=".concat(p.geometry.location.lat,"&lng=").concat(p.geometry.location.lng,"&query=").concat(p.description,"&startDate=").concat(O||"","&homeType=").concat(v||"")),t&&t({homeType:v,startDate:O,description:"my current location",lat:n.latitude,lng:n.longitude}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),S(!1);case 14:S(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve.a,{className:a.root},r.a.createElement(b.a,{variant:"h5",component:"h3",className:a.title},"Find Your Next Home"),r.a.createElement("form",{className:a.form,onSubmit:C},r.a.createElement("div",{className:a.formElementWrapper},k?r.a.createElement(qe.a,{size:20}):r.a.createElement(h.a,{onClick:I},r.a.createElement(dt.a,null))),r.a.createElement("div",{className:a.formElementWrapper},r.a.createElement(at,{formSetter:d,required:!0})),r.a.createElement("div",{className:a.formElementWrapper},r.a.createElement(y.a,{className:a.searchButton,variant:"contained",color:"primary",href:"#",onClick:C},r.a.createElement(ne.a,null)))),"/"===l.pathname&&r.a.createElement(b.a,{align:"center",className:a.demoSearch},"Don't know where to start? Try ",r.a.createElement(f.a,{href:"/search?lat=40.7127753&lng=-74.0059728&query=New%20York,%20NY,%20USA&startDate=&homeType="},"New York, NY"))))},Et=Object(p.a)((function(e){return{main:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",marginTop:e.spacing(3),marginBottom:e.spacing(3)}}})),vt=function(e){var t=e.children,a=Et();return r.a.createElement("main",{className:a.main},t)},wt=Object(p.a)((function(e){return{searchWrapper:{position:"absolute",zIndex:1,width:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:"50%",transform:"translate(-50%, 0)"}}})),jt=function(){var e=wt();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.searchWrapper},r.a.createElement(yt,null)),r.a.createElement(Ee,null),r.a.createElement(vt,null,r.a.createElement(Me,null)))},Ot=Object(p.a)((function(e){return{root:{padding:e.spacing(1),maxWidth:"90vw",backgroundColor:e.palette.background.default}}}));function xt(e){var t=e.children,a=e.style,n=Ot();return r.a.createElement(ve.a,{className:n.root,style:a},t)}var Nt=a(717);function kt(e){var t=e.toDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()];return"".concat(a," ").concat(t.getDate(),", ").concat(t.getFullYear())}var St=a(674),Ct=a(626),It=a(86),Tt=Object(p.a)((function(e){return{button:{fontFamily:e.typography.special,padding:e.spacing(2),maxHeight:50,textAlign:"center"}}}));function _t(e){var t=e.children,a=e.color,n=Object(It.a)(e,["children","color"]),l=Tt();return r.a.createElement(y.a,Object.assign({},n,{className:l.button,variant:"contained",color:a||"primary",component:"div"}),t)}var Dt={apiKey:"AIzaSyAF9WtnzV6ZcalwDz_tXxbS2PNDLUkET-8",authDomain:"acasa-bd3af.firebaseapp.com",databaseURL:"https://acasa-bd3af.firebaseio.com",projectId:"acasa-bd3af",storageBucket:"acasa-bd3af.appspot.com",messagingSenderId:"425327876901",appId:"1:425327876901:web:fef97f39172473c6da18cc",measurementId:"G-T7F7CH36QN"},Wt=N.a.initializeApp(Dt);N.a.analytics();var Bt=Wt,Ft=N.a.firestore(Bt);var Lt=a(318),Pt=a.n(Lt),Rt=a(319),At=a.n(Rt),Mt=a(321),qt=a.n(Mt),zt=a(320),Vt=a.n(zt);function Ht(e){return Yt.apply(this,arguments)}function Yt(){return(Yt=Object(m.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft.collection("users").where("username","==",t).get();case 2:if(!(a=e.sent).empty){e.next=5;break}return e.abrupt("return",null);case 5:return n=[],a.forEach((function(e){n.push(e.data())})),e.abrupt("return",n[0]);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gt=Object(p.a)((function(e){return{modalContent:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),top:"50%",left:"50%",transform:"translate(-50%, -50%)",outlineColor:e.palette.secondary.light},header:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},avatar:{height:e.spacing(12),width:e.spacing(12),margin:e.spacing(3)},title:{fontFamily:e.typography.special,color:e.palette.primary.dark},listWrapper:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"}}}));function Ut(e){var t=e.userToContact,a=e.username,l=e.noName,i=Gt(),c=Object(n.useState)(!1),s=Object(u.a)(c,2),p=s[0],d=s[1],g=Object(n.useState)(t||{contact:{email:null}}),h=Object(u.a)(g,2),y=h[0],E=h[1];return Object(n.useEffect)((function(){a&&!y.contact.email&&Object(m.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ht(a);case 2:t=e.sent,E(t);case 4:case"end":return e.stop()}}),e)})))()}),[y.contact,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(_t,{onClick:function(){d(!0)},style:{padding:".5em"}},r.a.createElement(r.a.Fragment,null,"Contact ",l?"Owner":y.first_name)),r.a.createElement(w.a,{open:p,onClose:function(){d(!1)},"aria-labelledby":"aCasa log in","aria-describedby":"log into your aCasa account here",disableAutoFocus:!0},r.a.createElement("div",{className:i.modalContent},r.a.createElement("div",{className:i.header},r.a.createElement(Nt.a,{src:y.profile_picture,alt:"".concat(y.first_name," ").concat(y.last_name),style:{marginRight:10},className:i.avatar}),r.a.createElement(b.a,{className:i.title,component:"h3",variant:"h5"},"Contact ",y.first_name," ",y.last_name)),!y.contact.email&&r.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"2em"}},r.a.createElement(qe.a,{color:"secondary"})),y&&y.contact.email&&y.uid&&r.a.createElement("div",{className:i.listWrapper},r.a.createElement(St.a,null,y.contact.email&&r.a.createElement(Ct.a,null,r.a.createElement(F.a,null,r.a.createElement(Pt.a,null)),r.a.createElement(L.a,{primary:r.a.createElement(f.a,{href:"mailto:".concat(y.contact.email),target:"_blank"},y.contact.email)})),y.contact.phone&&r.a.createElement(Ct.a,null,r.a.createElement(F.a,null,r.a.createElement(At.a,null)),r.a.createElement(L.a,{primary:r.a.createElement(f.a,{href:"tel:".concat(y.contact.phone)},y.contact.phone)})),y.contact.whatsapp&&r.a.createElement(Ct.a,null,r.a.createElement(F.a,null,r.a.createElement(Vt.a,null)),r.a.createElement(L.a,{primary:r.a.createElement(f.a,{href:"tel:".concat(y.contact.whatsapp)},y.contact.whatsapp)})),y.contact.website&&r.a.createElement(Ct.a,null,r.a.createElement(F.a,null,r.a.createElement(qt.a,null)),r.a.createElement(L.a,{primary:r.a.createElement(f.a,{href:y.contact.website.startsWith("https://")||y.contact.website.startsWith("http://")?y.contact.website:"http://".concat(y.contact.website),target:"_blank"}," ",y.contact.website," ")})))))))}var Jt=Object(p.a)((function(e){return{wrapper:Object(ge.a)({display:"flex",padding:e.spacing(2)},e.breakpoints.down("sm"),{flexDirection:"column",justifyContent:"center",alignItems:"center"}),settingsButton:{position:"absolute"},profilePicture:Object(ge.a)({width:325,height:325},e.breakpoints.down("sm"),{width:300,height:300}),mainProfileContent:{padding:e.spacing(2),paddingLeft:e.spacing(4),display:"flex",flexDirection:"column",width:"100%",minHeight:250},progress:{alignSelf:"center",justifySelf:"center",margin:e.spacing(10)},primaryInfoWrapper:{display:"flex",justifyContent:"space-between",width:"100%"},title:{fontFamily:e.typography.special,color:e.palette.primary.dark,paddingBottom:e.spacing(1.5)},joinDate:Object(ge.a)({fontSize:"1.25rem"},e.breakpoints.down("sm"),{paddingBottom:e.spacing(1.5)}),bold:{fontWeight:"bold"},secondaryInfo:{paddingBottom:e.spacing(2),fontSize:"1.25rem"},button:{fontFamily:e.typography.special,display:"inline-flex",alignItems:"center",position:"static",height:40,minWidth:80,padding:e.spacing(2)}}}));function Kt(e){var t=e.user,a=e.profile,n=e.username,l=Jt();return r.a.createElement(xt,{style:{width:"100%"}},r.a.createElement(k.a,{className:l.wrapper},r.a.createElement(Nt.a,{src:t.profile_picture,alt:"".concat(t.first_name,"\n                ").concat(t.last_name),className:l.profilePicture}),r.a.createElement(k.a,{className:l.mainProfileContent},t.username?r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{className:l.primaryInfoWrapper},r.a.createElement(k.a,null,r.a.createElement(b.a,{variant:"p",component:"p",color:"textSecondary",className:l.joinDate},"Joined ",t.joined),r.a.createElement(b.a,{variant:"h3",component:"h1",className:l.title},t.first_name," ",t.last_name)),a?r.a.createElement(y.a,{variant:"contained",color:"primary",className:l.button,href:"/profile/settings"},r.a.createElement(R.a,{style:{paddingRight:".25em"}})," Settings"):r.a.createElement(Ut,{userToContact:t,username:n})),r.a.createElement(k.a,{className:l.secondaryInfoWrapper},t.location&&t.location.description&&r.a.createElement(b.a,{variant:"p",component:"p",color:"textPrimary",className:l.secondaryInfo},r.a.createElement("span",{className:l.bold},"Location:")," ",t.location.description),t.languages&&t.languages.length&&r.a.createElement(b.a,{variant:"p",component:"p",color:"textPrimary",className:l.secondaryInfo},r.a.createElement("span",{className:l.bold},"Languages:")," ",t.languages.join(", ")),t.bio&&r.a.createElement(b.a,{variant:"p",component:"p",color:"textPrimary",className:l.secondaryInfo},r.a.createElement("span",{className:l.bold,style:{display:"block",marginBottom:".25em"}},"About ",t.first_name,":"),t.bio))):r.a.createElement(qe.a,{className:l.progress,size:100}))))}var Qt=a(715),Zt=a(168),$t=a.n(Zt),Xt=a(169),ea=a.n(Xt),ta=a(170),aa=a.n(ta),na=a(171),ra=a.n(na),la=a(76),ia=a.n(la),ca=Object(p.a)((function(e){return{root:Object(ge.a)({display:"flex",flexDirection:"row",minHeight:250,marginTop:e.spacing(2),marginBottom:e.spacing(2)},e.breakpoints.down("sm"),{flexDirection:"column"}),img:Object(ge.a)({backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:225,minWidth:350,maxWidth:400,display:"inline-block",borderRight:"1px solid #fafafa"},e.breakpoints.down("sm"),{width:"100%",minWidth:"100%"}),mainContent:Object(ge.a)({padding:e.spacing(2),paddingTop:e.spacing(4),width:"95%",minHeight:225},e.breakpoints.down("sm"),{paddingTop:e.spacing(2)}),topContent:Object(ge.a)({display:"flex",justifyContent:"space-between",alignItems:"center"},e.breakpoints.down("sm"),{flexDirection:"column-reverse",alignItems:"flex-start"}),heartButton:Object(ge.a)({color:$t.a[500]},e.breakpoints.down("sm"),{margin:0,marginRight:e.spacing(1),alignSelf:"flex-start"}),title:Object(ge.a)({fontFamily:e.typography.special,color:e.palette.primary.dark,display:"flex",justifyContent:"space-between",paddingRight:e.spacing(1.5)},e.breakpoints.down("sm"),{flexDirection:"column-reverse"}),price:Object(ge.a)({minWidth:150,textAlign:"center",marginLeft:e.spacing(2)},e.breakpoints.down("sm"),{alignSelf:"flex-end",textAlign:"right",marginRight:e.spacing(.5),paddingTop:e.spacing(1),paddingBottom:e.spacing(1)}),chips:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},chip:Object(ge.a)({backgroundColor:e.palette.secondary.light,margin:e.spacing(1),padding:e.spacing(.5)},e.breakpoints.down("xs"),{margin:e.spacing(.25)}),owner:Object(ge.a)({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",marginTop:e.spacing(4)},e.breakpoints.down("sm"),{flexWrap:"wrap"}),ownerInfo:Object(ge.a)({display:"inline-flex",justifyContent:"left",alignItems:"center"},e.breakpoints.down("sm"),{flexGrow:1,paddingRight:e.spacing(2.5),paddingBottom:e.spacing(1.5)}),contactButton:{marginTop:e.spacing(2),alignSelf:"center",justifySelf:"center"}}}));function oa(e){var t=e.listing,a=ca(),l=Object(n.useContext)(S).user.uid,i=Object(n.useState)(!1),c=Object(u.a)(i,2),o=c[0],s=c[1],m=t.roommates?"Room in shared ".concat(t.type):"Whole ".concat(t.type);return r.a.createElement(ve.a,{className:a.root,elevation:2},t.primary_img&&r.a.createElement("div",{className:a.img,style:{backgroundImage:"url(".concat(t.primary_img,")")}}),r.a.createElement(k.a,{className:a.mainContent},r.a.createElement(k.a,{className:a.topContent},r.a.createElement(b.a,{variant:"p",component:"p",color:"textSecondary"},m," \u2022 ",t.location.description),r.a.createElement(h.a,{className:a.heartButton,onClick:function(){s(!o)}})),r.a.createElement(b.a,{variant:"h4",component:"h3",className:a.title},r.a.createElement(f.a,{href:"/listings/".concat(t.id)},t.title),r.a.createElement(b.a,{variant:"h4",component:"p",className:a.price},"$".concat(t.price,"/mo"))),r.a.createElement(k.a,{className:a.chips},r.a.createElement(Qt.a,{icon:r.a.createElement(ea.a,null),label:"".concat(t.bedrooms," bedroom"),className:a.chip}),r.a.createElement(Qt.a,{icon:r.a.createElement(aa.a,null),label:t.max_guests>1?"".concat(t.max_guests," guests"):"".concat(t.max_guests," guest"),className:a.chip}),r.a.createElement(Qt.a,{icon:r.a.createElement(ra.a,null),label:"".concat(t.bathrooms," bath"),className:a.chip}),t.wifi_speed&&r.a.createElement(Qt.a,{icon:r.a.createElement(ia.a,null),label:"".concat(t.wifi_speed," mb/s"),className:a.chip}),t.lgbtq&&r.a.createElement(Qt.a,{label:"\ud83c\udff3\ufe0f\u200d\ud83c\udf08 LGBTQ+ friendly",className:a.chip})),r.a.createElement("div",{className:a.owner},r.a.createElement("div",{className:a.ownerInfo},r.a.createElement(Nt.a,{src:t.owner.profile_picture,alt:"".concat(t.owner.first_name," ").concat(t.owner.last_name),style:{marginRight:5,display:"inline-block"}}),"Listing by"," ",r.a.createElement(f.a,{href:"/users/".concat(t.owner.username),style:{marginLeft:5}},"".concat(t.owner.first_name," ").concat(t.owner.last_name))),t.owner.uid!==l?r.a.createElement(Ut,{username:t.owner.username,className:a.contactButton}):r.a.createElement(f.a,{href:"/listings/".concat(t.id,"/edit")},r.a.createElement(_t,{href:"/listings/".concat(t.id,"/edit")},"Edit Listing")))))}var sa=a(708),ma=Object(p.a)((function(e){return{root:Object(ge.a)({minHeight:"10vh",marginLeft:e.spacing(10),marginRight:e.spacing(10)},e.breakpoints.down("sm"),{marginLeft:e.spacing(0),marginRight:e.spacing(0)})}}));function ua(e){var t=e.listings,a=ma();return r.a.createElement(k.a,{className:a.root},t&&t.length?r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement(oa,{key:Object(sa.a)(),listing:e})}))):r.a.createElement("p",null,"No listings yet!"))}function pa(e){return da.apply(this,arguments)}function da(){return(da=Object(m.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft.collection("listings").where("owner.username","==",t).get();case 2:if(!(a=e.sent).empty){e.next=5;break}return e.abrupt("return",null);case 5:return n=[],a.forEach((function(e){n.push(e.data())})),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ga=Object(p.a)((function(e){return{progressWrapper:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:300},title:{fontFamily:e.typography.special,color:e.palette.primary.dark},wrapper:{padding:e.spacing(2)}}}));function fa(e){var t=e.user,a=ga(),l=Object(n.useState)([]),i=Object(u.a)(l,2),c=i[0],s=i[1],p=Object(n.useCallback)(Object(m.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.username){e.next=5;break}return e.next=3,pa(t.username);case 3:a=e.sent,s(a);case 5:case"end":return e.stop()}}),e)}))),[t.username]);return Object(n.useEffect)((function(){p()}),[p]),r.a.createElement(xt,{style:{marginTop:"2rem",width:"100%"}},c&&c.length?r.a.createElement(k.a,{className:a.wrapper},r.a.createElement(b.a,{variant:"h4",component:"h2",className:a.title},t.first_name.endsWith("s")?"".concat(t.first_name,"' "):"".concat(t.first_name,"'s "),"Listings"),r.a.createElement(k.a,null,r.a.createElement(ua,{listings:c}))):r.a.createElement(r.a.Fragment,null,c?r.a.createElement("div",{className:a.progressWrapper},r.a.createElement(qe.a,{size:100})):r.a.createElement("p",{style:{textAlign:"center"}},t.first_name," does not have any listings right now.")))}var ba={first_name:"Homer",last_name:"Simpson",date_added:new Date,profile_picture:"https://okdiario.com/img/2019/09/05/mejores-frases-de-homer-simpson-655x368.jpg",location:{city:"Medellin",country:"Colombia"},contact:{email:"ben@perlmutter.io",phone:"+1 (914) 589-5304",website:"https://ben.perlmutter.io",whatsapp:"+1 (914) 589-5304"},bio:"I\u2019m a passionate software developer with an entrepreneurial and product-oriented mindset. I have experience building web applications with the MERN stack, Flask, Postgres and more. I love transforming an idea into a plan, and that plan into an application. Software development isn't just a job for me, but a vocation\u2014it's my creative outlet and a way to add value to the world. I like to write words in addition to code. Check out my recent writings here: https://ben.perlmutter.io/blog",languages:["english","spanish"],listings:[]},ha={active:!0,title:"1 bedroom 2nd floor walkup in Laureles",primary_img:"https://pix10.agoda.net/hotelImages/167/167577/167577_15020322560025067789.jpg?s=1024x768",additional_imgs:["https://r-cf.bstatic.com/images/hotel/max1024x768/365/36548015.jpg","https://cdn.decoist.com/wp-content/uploads/2017/03/Modern-apartment-units-inside-heritage-building-Down-Under.jpg"],amenities:["hot water"],wifi_speed:50,bathrooms:1,bedrooms:1,beds:1,max_guests:2,roommates:2,price_in_dollars:500,lgbtq_friendly:!0,created_at:new Date,updated_at:new Date,dates_available:[{start:new Date,end:null}],description:"best apartment round town",living_with_host:!1,type:"apartment",location:{address:"124 Jefferson Place",neighborhood:"Laureles",city:"Medellin",state_province:"Antioquia",country:"Colombia",description:"in the barrio de laureles right near some high quality tiendas and la 70",geo:[0,0]},owner:{username:"ben",first_name:"Ben",last_name:"Perlmutter",profile_picture:"https://avatars0.githubusercontent.com/u/57849986?s=400&u=8897665d835d70b9b506b44e525eebcf0de3053e&v=4"},payment_methods:["cash","Paypal","Bitcoin"],pets:["cat","dog"],rules:["overnight guests allowed","no parties","quiet after 10"]},ya={ben:ba,listings:[ha,ha,ha]};function Ea(){var e=Object(n.useContext)(S).user.username,t=Object(n.useState)({first_name:"",languages:[],contact:{},uid:""}),a=Object(u.a)(t,2),l=a[0],i=a[1],c=Object(U.i)().username;return Object(n.useEffect)((function(){Object(m.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ht(c);case 2:(t=e.sent)&&(t.joined=kt(t.date_added)),i(t);case 5:case"end":return e.stop()}}),e)})))()}),[c]),c===e?r.a.createElement("div",null,r.a.createElement(U.a,{to:"/profile"})):null===l?r.a.createElement("div",null,r.a.createElement(U.a,{to:"/404"})):r.a.createElement(vt,null,r.a.createElement(Kt,{user:l,username:c}),r.a.createElement(fa,{user:l}))}var va=a(109),wa=a.n(va),ja=Object(p.a)((function(e){return{root:{backgroundColor:e.palette.secondary.light,flexDirection:"column",alignItems:"center",justifyContent:"center"},contact:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",height:"100%"},ghIcon:{margin:"0 .25rem",position:"relative",top:-3,color:e.palette.primary.light}}})),Oa=function(){var e=ja();return r.a.createElement(k.a,{className:e.root},r.a.createElement(k.a,{className:e.contact},r.a.createElement(h.a,{href:"https://github.com/bpmutter/acasa",target:"_blank",className:e.ghIcon},r.a.createElement(wa.a,null)),r.a.createElement(b.a,null,"Made by"," ",r.a.createElement(f.a,{href:"https://ben.perlmutter.io",target:"_blank"},"Ben Perlmutter"))))};var xa=function(e){var t=e.children,a=Object(It.a)(e,["children"]),l=Object(n.useContext)(S).loggedIn;return r.a.createElement(U.b,Object.assign({},a,{render:function(e){var a=e.location;return l?t:r.a.createElement(U.a,{to:{pathname:"/",state:{from:a}}})}}))};var Na=ya.listings;function ka(){var e=Object(n.useState)({first_name:"",languages:[],contact:{}}),t=Object(u.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(n.useEffect)((function(){var e=N.a.auth().onAuthStateChanged(function(){var t=Object(m.a)(o.a.mark((function t(a){var n,r,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=12;break}return n=N.a.auth().currentUser.uid,t.next=4,Ft.collection("users").doc(n).get();case 4:if(!(r=t.sent).empty){t.next=8;break}return l(null),t.abrupt("return",e());case 8:return(i=r.data()).joined=kt(i.date_added),l(i),t.abrupt("return",e());case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]);var i=a;return r.a.createElement(vt,null,r.a.createElement(Kt,{user:i,profile:!0}),r.a.createElement(fa,{user:i,listings:Na}))}var Sa=a(709),Ca=a(705);function Ia(e){return r.a.createElement(Ca.a,Object.assign({elevation:6,variant:"filled"},e))}var Ta=Object(p.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function _a(e){var t=e.msgSeverity,a=e.msg,l=e.onClose,i=Ta(),c=Object(n.useState)(!!a),o=Object(u.a)(c,2),s=o[0],m=o[1],p=function(e,t){"clickaway"!==t&&(m(!1),l&&l())};return r.a.createElement(r.a.Fragment,null,s&&r.a.createElement("div",{className:i.root},r.a.createElement(Sa.a,{open:s,autoHideDuration:6e3,onClose:p},r.a.createElement(Ia,{onClose:p,severity:t},a))))}a(3);var Da=a(687),Wa=Object(p.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:250,maxWidth:350},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2,backgroundColor:e.palette.secondary},noLabel:{marginTop:e.spacing(3)}}})),Ba={PaperProps:{style:{maxHeight:224,minWidth:300}}};function Fa(e,t,a){return{fontWeight:-1===t.indexOf(e)?a.typography.fontWeightRegular:a.typography.fontWeightMedium}}function La(e){var t=e.label,a=e.name,l=e.options,i=e.formSetter,c=e.style,o=e.defaultValue,s=void 0===o?[]:o,m=Wa(),p=Object(oe.a)(),d=r.a.useState([]),g=Object(u.a)(d,2),f=g[0],b=g[1];Object(n.useEffect)((function(){b(s)}),[s.length]);return r.a.createElement("div",null,r.a.createElement(rt.a,{className:m.formControl,style:c,color:"secondary"},r.a.createElement(nt.a,null,t),r.a.createElement(lt.a,{multiple:!0,name:a,value:f,defaultValue:s,onChange:function(e){b(e.target.value),i&&i(e.target.value)},input:r.a.createElement(Da.a,{id:"select-multiple-chip"}),renderValue:function(e){return r.a.createElement("div",{className:m.chips},e.map((function(e){return r.a.createElement(Qt.a,{key:e,label:e,className:m.chip})})))},MenuProps:Ba},l.map((function(e){return r.a.createElement(B.a,{key:e,value:e,style:Fa(e,f,p)},e)})))))}var Pa=a(120),Ra=a(322).initializeApp(Ft).collection("listings");function Aa(e){return Ma.apply(this,arguments)}function Ma(){return(Ma=Object(m.a)(o.a.mark((function e(t){var a,n,r,l,i,c,s,m,u,p,d,g,f,b,h,y,E;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.uid,n=t.firstName,r=t.lastName,l=t.email,i=t.phone,c=t.website,s=t.whatsapp,m=t.bio,u=t.languages,p=t.location,d=t.profilePicture,g=t.username,n&&r&&l){e.next=3;break}return e.abrupt("return",{message:{type:"error",content:"Missing a required field."}});case 3:return e.next=5,N.a.auth();case 5:if(f=e.sent,b=f.currentUser,b.uid===a){e.next=10;break}return e.abrupt("return",{message:{type:"error",content:"You're not authorized to perform this action."}});case 10:return(h={}).first_name=n,h.last_name=r,h.contact={},h.contact.email=l,h.contact.phone=i||"",h.contact.website=c||"",h.contact.whatsapp=s||"",h.bio=m||"",h.location=p||{},h.languages=u||[],h.date_updated=new Date,e.prev=22,e.next=25,Ft.collection("users").doc(a).update(h);case 25:return e.sent,e.next=28,pa(g);case 28:return y=e.sent,E={first_name:n,last_name:r,uid:a,username:g,profile_picture:d||""},e.next=32,Object(Pa.forEach)(y,(function(e){Ra.doc(e.id).update({owner:E})}));case 32:return e.abrupt("return",{message:{type:"success",content:"Your account has been successfully updated."}});case 35:return e.prev=35,e.t0=e.catch(22),console.error(e.t0),e.abrupt("return",{message:{type:"error",content:"You're information was not updated. Please try again later."}});case 39:case"end":return e.stop()}}),e,null,[[22,35]])})))).apply(this,arguments)}var qa=a(323),za=a(173),Va=a.n(za),Ha=a(172),Ya=a.n(Ha),Ga=a(174),Ua=a.n(Ga);function Ja(e,t){return Ka.apply(this,arguments)}function Ka(){return(Ka=Object(m.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=N.a.auth().onAuthStateChanged(function(){var e=Object(m.a)(o.a.mark((function e(r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=13;break}return e.prev=1,e.next=4,Ra.doc(t).delete();case 4:e.sent,a({message:{type:"success",content:"Your listing was successfully deleted."}}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("POSTING PROBLEM::",e.t0),a({message:{type:"error",content:"There was a problem deleting your listing. Please try again later"}});case 12:n();case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qa=a(120).forEach;function Za(e){return $a.apply(this,arguments)}function $a(){return($a=Object(m.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.auth();case 3:return e.next=5,pa(t);case 5:return a=e.sent,e.next=8,Qa(a,(function(e){return Ja(e.id)}));case 8:return e.abrupt("return",{message:{type:"success",content:"The listings have successfully been deleted."}});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{message:{type:"error",content:"there was a problem deleting your listings."}});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function Xa(){return en.apply(this,arguments)}function en(){return(en=Object(m.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.auth().currentUser;case 3:return t=e.sent,e.next=6,t.delete();case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function tn(e){return an.apply(this,arguments)}function an(){return(an=Object(m.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("user is...",t),e.prev=1,e.next=4,N.a.auth();case 4:return e.next=6,Za(t.username);case 6:return e.next=8,Ft.collection("users").doc(t.uid).delete();case 8:return Xa(),e.abrupt("return",{message:{type:"success",content:"Your account has been successfully updated."}});case 12:return e.prev=12,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",{message:{type:"error",content:"There was a problem deleting your account. Please try again later."}});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}var nn=Object(p.a)((function(e){return{modalContent:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),top:"50%",left:"50%",transform:"translate(-50%, -50%)",outlineColor:e.palette.secondary.light},buttonWrapper:{display:"flex",justifyContent:"center",marginTop:e.spacing(1.5),marginBottom:e.spacing(1.5)},deleteButton:{marginRight:e.spacing(2),fontFamily:e.typography.special,color:Ya.a[500],cursor:"pointer",display:"inline-flex",alignItems:"center"},title:{fontFamily:e.typography.special,color:e.palette.primary.dark,marginBottom:e.spacing(2)},progress:{display:"flex",justifyContent:"center"}}}));function rn(e){var t=e.user,a=nn(),l=(Object(U.g)(),Object(n.useContext)(S).logOut),i=Object(n.useState)(!1),c=Object(u.a)(i,2),s=c[0],p=c[1],d=Object(n.useState)({message:{}}),g=Object(u.a)(d,2),f=g[0],h=g[1],E=Object(n.useState)("START"),v=Object(u.a)(E,2),j=v[0],O=v[1],x=function(){p(!1)},N=function(){var e=Object(m.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O("LOADING"),e.next=3,tn(t,h);case 3:l();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{className:a.deleteButton,onClick:function(){p(!0)}},r.a.createElement(Va.a,null),"  ","Delete Account"),r.a.createElement(w.a,{open:s,onClose:x,"aria-labelledby":"delete your aCasa account","aria-describedby":"delete your aCasa account here",disableAutoFocus:!0},r.a.createElement("div",{className:a.modalContent},r.a.createElement("div",null,r.a.createElement(Ua.a,{onClick:x})),r.a.createElement(b.a,{component:"h4",variant:"h4",align:"center",className:a.title,color:"primary"},"Delete Account"),"START"===j&&!f.message.type&&r.a.createElement("div",null,r.a.createElement(b.a,null,r.a.createElement("b",null,"Warning:")," Deletion of accounts is permanent. It will also delete all listings you've created. Once you click delete below, you won't be able to recover the listing."),r.a.createElement("div",{className:a.buttonWrapper},r.a.createElement(_t,{onClick:N},"Delete Account"))),"LOADING"===j&&!f.message.type&&r.a.createElement("div",{className:a.progress},r.a.createElement(qe.a,{size:100}),r.a.createElement("p",null,"Deleting your account...")),f.message.type&&r.a.createElement("div",null,r.a.createElement(b.a,null,f.message.content," You'll be redirected to the homepage in a moment.")))))}var ln=Object(p.a)((function(e){return{title:{fontFamily:e.typography.special,color:e.palette.primary.main},progressWrapper:{display:"flex",justifyContent:"center",marginTop:e.spacing(8),marginBottom:e.spacing(8)},form:{padding:e.spacing(1),maxWidth:500},textInput:{width:300},sectionDivider:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},buttonWrapper:{display:"flex",justifyContent:"center",alignItems:"center"},submitButton:{margin:e.spacing(2),fontFamily:e.typography.special}}}));function cn(){var e=ln(),t=Object(U.g)(),a=Object(n.useState)({contact:{},location:{},languages:[]}),l=Object(u.a)(a,2),i=l[0],c=l[1],s=Object(n.useState)(""),p=Object(u.a)(s,2),d=p[0],g=p[1],f=Object(n.useState)(""),h=Object(u.a)(f,2),E=h[0],v=h[1],w=Object(n.useState)(""),j=Object(u.a)(w,2),O=j[0],x=j[1],k=Object(n.useState)(""),S=Object(u.a)(k,2),C=S[0],I=S[1],T=Object(n.useState)(""),_=Object(u.a)(T,2),D=_[0],W=_[1],B=Object(n.useState)(""),F=Object(u.a)(B,2),L=F[0],P=F[1],R=Object(n.useState)(""),A=Object(u.a)(R,2),M=A[0],q=A[1],z=Object(n.useState)(""),V=Object(u.a)(z,2),H=V[0],Y=V[1],G=Object(n.useState)(""),J=Object(u.a)(G,2),K=J[0],Q=J[1],Z=Object(n.useState)([]),$=Object(u.a)(Z,2),X=$[0],ee=$[1],te=Object(n.useState)({}),ae=Object(u.a)(te,2),ne=ae[0],re=ae[1],le=Object(n.useState)({msg:null,severity:null}),ie=Object(u.a)(le,2),ce=ie[0],oe=ie[1];Object(n.useEffect)((function(){var e=N.a.auth().onAuthStateChanged(function(){var t=Object(m.a)(o.a.mark((function t(a){var n,r,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=22;break}return n=N.a.auth().currentUser.uid,t.next=4,Ft.collection("users").doc(n).get();case 4:if(!(r=t.sent).empty){t.next=8;break}return c(null),t.abrupt("return");case 8:return l=r.data(),c(l),ee(l.languages),g(l.first_name),x(l.username),v(l.last_name),I(l.contact.email),W(l.contact.phone),P(l.contact.website),q(l.contact.whatsapp),Q(l.profile_picture),Y(l.bio),re(l.location||{}),t.abrupt("return",e());case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]);var se=function(e){switch(e.target.name){case"firstName":g(e.target.value);break;case"lastName":v(e.target.value);break;case"email":I(e.target.value);break;case"phone":W(e.target.value);break;case"website":P(e.target.value);break;case"whatsapp":q(e.target.value);break;case"bio":Y(e.target.value);break;case"location":case"languages":re(e.target.value);break;default:return}},me=function(){var e=Object(m.a)(o.a.mark((function e(){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.uid,e.next=3,Aa({firstName:d,lastName:E,email:C,phone:D,website:L,whatsapp:M,bio:H,location:ne,languages:X,uid:a,profilePicture:K,username:O});case 3:n=e.sent,oe({msg:n.message.content,severity:n.message.type}),n.message.type&&setTimeout((function(){t.push("/profile")}),1e3);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,null,r.a.createElement(xt,null,r.a.createElement(b.a,{variant:"h4",component:"h3",color:"primary",className:e.title},"Edit Account Info"),i.uid?r.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:me},r.a.createElement("div",{className:e.primaryInfo},r.a.createElement("div",null,r.a.createElement(ze.a,{id:"first-name",name:"firstName",label:"First Name",color:"secondary",value:d,defaultValue:i.first_name,className:e.textInput,onChange:se,required:!0})),r.a.createElement("div",null,r.a.createElement(ze.a,{id:"last-name",label:"Last Name",name:"lastName",color:"secondary",value:E,defaultValue:i.last_name,className:e.textInput,onChange:se,required:!0}))),r.a.createElement(fe.a,{className:e.sectionDivider}),r.a.createElement("div",{className:e.contact},r.a.createElement(b.a,{variant:"h5",component:"h3",color:"primary",className:e.title},"Contact Information"),r.a.createElement(b.a,{variant:"p",component:"p",color:"textSecondary"},"Prospective guests can use these methods to contact you."," "),r.a.createElement("div",null,r.a.createElement(ze.a,{id:"email",name:"email",label:"Email",type:"email",color:"secondary",value:C,defaultValue:i.contact.email,className:e.textInput,onChange:se,helperText:"This email is just for guests to contact you. It will not affect your login account.",required:!0})),r.a.createElement("div",null,r.a.createElement(ze.a,{id:"phone",name:"phone",label:"Phone",type:"tel",value:D,defaultValue:i.contact.phone,color:"secondary",onChange:se,className:e.textInput})),r.a.createElement("div",null,r.a.createElement(ze.a,{id:"website",name:"website",label:"Website",type:"url",value:L,defaultValue:i.contact.website,color:"secondary",onChange:se,className:e.textInput})),r.a.createElement("div",null,r.a.createElement(ze.a,{id:"whatsapp",label:"Whatsapp",name:"whatsapp",value:M,defaultValue:i.contact.whatsapp,type:"tel",onChange:se,color:"secondary",className:e.textInput}))),r.a.createElement(fe.a,{className:e.sectionDivider}),r.a.createElement("div",{className:e.additionalInfo},r.a.createElement(b.a,{variant:"h5",component:"h3",color:"primary",className:e.title},"Additional Information"),r.a.createElement(b.a,{variant:"p",component:"p",color:"textSecondary"},"Add a bit more information for prospective guests to have a better idea of who you are and why they should stay with you."),r.a.createElement("div",null,r.a.createElement(ze.a,{id:"bio",name:"bio",label:"Bio",multiline:!0,rows:4,value:H,defaultValue:i.bio,color:"secondary",onChange:se,style:{width:"100%"}})),r.a.createElement("div",null,r.a.createElement(La,{name:"languages",label:"Languages",defaultValue:X,options:qa,formSetter:ee})),r.a.createElement("div",null,ne.description&&r.a.createElement("div",{style:{paddingTop:".5em",paddingBottom:".5em"}},r.a.createElement(b.a,null,r.a.createElement("b",null,"Your current location is: ")," ",ne.description)),r.a.createElement(at,{variant:"standard",label:"Location",name:"location",inputVal:ne.description,defaultValue:i.location&&i.location.description?i.location.description:null,formSetter:re,className:e.textInput}))),r.a.createElement("div",{className:e.buttonWrapper},r.a.createElement(y.a,{variant:"contained",color:"primary",className:e.submitButton,onClick:me},"Update Profile")),r.a.createElement(fe.a,{className:e.sectionDivider}),r.a.createElement(rn,{user:i})):r.a.createElement("div",{className:e.progressWrapper},r.a.createElement(qe.a,{size:100})))),ce.msg&&r.a.createElement(_a,{msgSeverity:ce.severity,msg:ce.msg}))}var on=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(n.useState)(e),a=Object(u.a)(t,2),r=a[0],l=a[1],i=Object(n.useCallback)((function(e){return l(e.target.value)}),[]);return{value:r,onChange:i}},sn=a(69),mn=a(694),un=a(628),pn=a(695),dn=a(707);function gn(e){var t=e.name,a=e.label,n=e.formSetter,l=e.helperText,i=e.defaultValue,c=r.a.useState(i),o=Object(u.a)(c,2),s=o[0],m=o[1];return r.a.createElement(pn.a,{control:r.a.createElement(dn.a,{checked:s,onChange:function(e){var t=!s;m(t),n&&n(t)},name:t,helperText:l}),label:a})}var fn=a(706),bn=a(696),hn=a(627);function yn(e){var t=e.defaultValue,a=e.formLabel,n=e.ariaLabel,l=e.name,i=e.options,c=e.required,o=e.formSetter,s=r.a.useState(t),m=Object(u.a)(s,2),p=m[0],d=m[1];return r.a.createElement(rt.a,{component:"fieldset"},r.a.createElement(hn.a,{component:"legend",color:"secondary"},a),r.a.createElement(bn.a,{"aria-label":n,name:l,value:p||JSON.stringify(t),onChange:function(e){if(d(e.target.value),o){if("true"===i[0].value&&"false"===i[1].value)return void o("true"===e.target.value);o(p)}},required:c,row:!0},i.map((function(e){return r.a.createElement(pn.a,{value:e.value,control:r.a.createElement(fn.a,{checked:p===e.value}),label:e.label})}))))}var En=a(177),vn=a(324),wn=a.n(vn);function jn(e,t){return On.apply(this,arguments)}function On(){return(On=Object(m.a)(o.a.mark((function e(t,a){var n,r,l,i,c,s,u,p,d,g,f,b,h,y,E,v,w,j,O,x,k,S,C,I,T,_,D,W,B,F;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.title,r=t.type,l=t.description,i=t.active,c=t.price,s=t.start_date,u=t.end_date,p=t.location,d=t.location_description,g=t.shared,f=t.roommates,b=t.bedrooms,h=t.bathrooms,y=t.max_guests,E=t.wifi_speed,v=t.rules,w=t.pets,j=t.lgbtq,O=t.living_with_host,x=t.primary_img,k=t.additional_imgs,S=t.payment_methods,n&&p&&r&&s&&b&&h&&y&&x&&!(c<1)){e.next=4;break}return a({message:{type:"error",content:"Missing one or more required fields."}}),e.abrupt("return");case 4:C=(C=new Date).getTime(),I=n.split(" ").join("-"),T=encodeURI("".concat(wn.a.remove(I.slice(0,25)),"-").concat(C)),p.geometry&&(D=p.geometry.location,W=D.lat,B=D.lng,_=new N.a.firestore.GeoPoint(W,B)),F={title:n,type:r,active:i,price:c,start_date:s,end_date:u,location:p,description:l,location_description:d,shared:g,roommates:f,bedrooms:b,bathrooms:h,max_guests:y,wifi_speed:E,rules:v,pets:w,lgbtq:j,id:T,living_with_host:O,created_at:C,updated_at:C,primary_img:x,coordinates:_,additional_imgs:k,payment_methods:S},N.a.auth().onAuthStateChanged(function(){var e=Object(m.a)(o.a.mark((function e(t){var n,r,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=21;break}return e.next=3,N.a.auth().currentUser.uid;case 3:return n=e.sent,e.next=6,Ft.collection("users").doc(n).get();case 6:return r=(r=e.sent).data(),l={first_name:r.first_name,last_name:r.last_name,profile_picture:r.profile_picture,uid:r.uid,username:r.username},F.owner=l,e.prev=10,e.next=13,Ra.doc(T).set(F);case 13:e.sent,a({message:{type:"success",content:"Your Listing has been successfully posted."},redirectId:T}),e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(10),console.error(e.t0),e.abrupt("return",{message:{type:"error",content:"There was an error posting your listing. Please try again later."}});case 21:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t){return e.apply(this,arguments)}}());case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xn=Bt.storage("gs://acasa-bd3af.appspot.com");function Nn(e,t,a,n){var r=xn.ref(),l="".concat(Object(sa.a)(),"-").concat(e.name),i=r.child("".concat(t,"/").concat(l)).put(e);i.on("state_changed",(function(e){if(n){var t=Math.round(e.bytesTransferred/e.totalBytes*100);n(t)}}),(function(e){alert("There was a problem uploading the file. Please try again later."),console.error(e)}),(function(){i.snapshot.ref.getDownloadURL().then((function(e){if(!a)return e;a(e)}))}))}var kn=Object(p.a)((function(e){return{root:{display:"flex",alignItems:"center",flexDirection:"row"},button:{display:"inline-block"},imgWrapper:{padding:".5em",paddingLeft:"1em",display:"inline-block",position:"relative",zIndex:1,top:12},imgPreview:{width:100,height:100,backgroundPosition:"center center",backgroundSize:"cover",backgroundColor:e.palette.text.secondary}}}));function Sn(e){var t=e.multiple,a=e.required,l=e.formSetter,i=e.preview,c=Object(sa.a)(),s=Object(n.useState)(""),p=Object(u.a)(s,2),d=p[0],g=p[1],f=Object(n.useState)(0),b=Object(u.a)(f,2),h=b[0],y=b[1],E=kn(),v=function(){var e=Object(m.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.currentTarget.files[0],n=function(e){g(e),l&&l(e)},!a){e.next=6;break}return g("loading"),e.next=6,Nn(a,"listings",n,y);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",{className:E.button},r.a.createElement("input",{accept:"image/*",hidden:!0,id:"upload-img-".concat(c),multiple:t,type:"file",onChange:v}),r.a.createElement("label",{htmlFor:"upload-img-".concat(c)},r.a.createElement(_t,null,"Upload Image",a?"*":null))),r.a.createElement("div",{className:E.imgWrapper},"loading"===d&&r.a.createElement(qe.a,{value:h}),d&&"loading"!==d&&i&&r.a.createElement("div",{className:E.imgPreview,style:{backgroundImage:"url(".concat(d,")")}})))}var Cn=a(325),In=a.n(Cn);function Tn(e,t){return _n.apply(this,arguments)}function _n(){return(_n=Object(m.a)(o.a.mark((function e(t,a){var n,r,l,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xn.ref(),r="".concat(Object(sa.a)(),"-").concat(t.name),l=n.child("".concat(a,"/").concat(r)),e.next=5,l.put(t);case 5:return i=e.sent,e.next=8,i.ref.getDownloadURL();case 8:return c=e.sent,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dn=a(120).map;function Wn(e,t){return Bn.apply(this,arguments)}function Bn(){return(Bn=Object(m.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dn(t,(function(e){return Tn(e,a)}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fn=a(697),Ln=a(698),Pn=Object(p.a)((function(e){return{gridListRoot:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{flexWrap:"nowrap",transform:"translateZ(0)"},gridImg:{cursor:"pointer"},modalFrame:{display:"inline-block",outlineColor:e.palette.secondary.light,backgroundColor:"white"},imgModal:{maxHeight:600,maxWidth:900}}}));function Rn(e){var t=e.imgs,a=Pn(),l=Object(n.useState)(!1),i=Object(u.a)(l,2),c=i[0],o=i[1],s=Object(n.useState)(""),m=Object(u.a)(s,2),p=m[0],d=m[1],g=Object(n.useState)(""),f=Object(u.a)(g,2),b=f[0],h=f[1],y=function(e){o(!0),d(e.target.src),h(e.target.alt)};return r.a.createElement("div",{className:a.gridListRoot},r.a.createElement(Fn.a,{className:a.gridList,cols:2.5},t.map((function(e,t){return r.a.createElement(Ln.a,{key:e},r.a.createElement("img",{src:e,alt:e,onClick:y,className:a.gridImg}))}))),r.a.createElement(w.a,{open:c,onClose:function(){o(!1)},"aria-labelledby":"additional image preview","aria-describedby":"additional image preview",TransitionComponent:re.a,style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(re.a,{in:c},r.a.createElement("div",{className:a.modalFrame},r.a.createElement("img",{src:p,alt:b,className:a.imgModal})))))}a(416);var An=Object(p.a)((function(e){return{imagesLoading:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"white",padding:e.spacing(2)},progress:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}}}));function Mn(e){var t=e.formSetter,a=e.defaultImages,l=void 0===a?[]:a,i=An(),c=Object(n.useState)([]),s=Object(u.a)(c,2),p=s[0],d=s[1],g=Object(n.useState)(null),f=Object(u.a)(g,2),h=f[0],y=f[1],E=Object(oe.a)(),v={buttonStyles:{fontFamily:E.typography.special,padding:E.spacing(2),maxHeight:50,textAlign:"center",backgroundColor:E.palette.primary.main,borderRadius:E.spacing(.5)}},w=function(){var e=Object(m.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=4,Wn(a,"listings");case 4:n=e.sent,d(n),y(!1),t&&t(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(In.a,{withIcon:!0,buttonText:"Select Additional Images",buttonStyles:v.buttonStyles,onChange:w,imgExtension:[".jpg",".gif",".png",".webp"],maxFileSize:5242880}),r.a.createElement("div",{className:i.imgFrame},r.a.createElement(r.a.Fragment,null,!p.length&&!!l.length&&r.a.createElement(Rn,{imgs:l})),h&&r.a.createElement("div",{className:i.imagesLoading},r.a.createElement(qe.a,{size:100,className:i.progress}),r.a.createElement(b.a,{align:"center",component:"p"},"Images uploading. This can take a moment. Please be patient"," ",r.a.createElement("span",{role:"img","aria-label":"smile emoji"},"\ud83d\ude00"))),r.a.createElement(r.a.Fragment,null,!!p.length&&r.a.createElement(Rn,{imgs:p}))))}var qn=Object(p.a)((function(e){return{titleLogoWrapper:{display:"flex",alignItems:"center",flexDirection:"column",paddingBottom:e.spacing(2)},title:{fontFamily:e.typography.special,color:e.palette.primary.main,paddingBottom:e.spacing(1.5)},logo:{width:50,paddingBottom:e.spacing(1)},form:{padding:e.spacing(1),maxWidth:750},textInput:{width:300,margin:".5rem 0"},sectionDivider:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},buttonWrapper:{display:"flex",justifyContent:"center",alignItems:"center"},uploadOneImageWrapper:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},currentPrimaryImg:{display:"block",paddingBottom:e.spacing(2)},primaryImg:{maxWidth:250},submitButton:{marginTop:e.spacing(2),marginBottom:e.spacing(2),marginLeft:e.spacing(5),marginRight:e.spacing(5),fontFamily:e.typography.special,width:"100%",padding:e.spacing(1.5),fontSize:2*e.typography.fontSize}}})),zn=Object(ot.a)(Date.now(),"y-MM-d"),Vn=[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10+"}];function Hn(){var e=qn(),t=Object(n.useState)({msg:null,severity:null}),a=Object(u.a)(t,2),l=(a[0],a[1],on("")),i=Object(n.useState)(""),c=Object(u.a)(i,2),s=c[0],p=c[1],d=on(""),g=Object(n.useState)(!0),f=Object(u.a)(g,2),h=f[0],E=f[1],w=on(""),j=Object(n.useState)(zn),O=Object(u.a)(j,2),x=O[0],N=O[1],k=Object(n.useState)(""),S=Object(u.a)(k,2),C=S[0],I=S[1],T=Object(n.useState)({}),_=Object(u.a)(T,2),D=_[0],W=_[1],B=on(""),F=Object(n.useState)(!0),L=Object(u.a)(F,2),P=L[0],R=L[1],A=Object(n.useState)(!1),M=Object(u.a)(A,2),q=M[0],z=M[1],V=Object(n.useState)(""),H=Object(u.a)(V,2),Y=H[0],G=H[1],J=Object(n.useState)(""),K=Object(u.a)(J,2),Q=K[0],Z=K[1],$=Object(n.useState)(""),X=Object(u.a)($,2),ee=X[0],te=X[1],ae=Object(n.useState)(""),ne=Object(u.a)(ae,2),re=ne[0],le=ne[1],ie=on(""),ce=Object(n.useState)([]),oe=Object(u.a)(ce,2),se=oe[0],me=oe[1],ue=Object(n.useState)([]),pe=Object(u.a)(ue,2),de=pe[0],ge=pe[1],be=Object(n.useState)([]),he=Object(u.a)(be,2),ye=he[0],Ee=he[1],ve=Object(n.useState)(!1),we=Object(u.a)(ve,2),je=we[0],Oe=we[1],xe=Object(n.useState)(""),Ne=Object(u.a)(xe,2),ke=Ne[0],Se=Ne[1],Ce=Object(n.useState)([]),Ie=Object(u.a)(Ce,2),Te=Ie[0],_e=Ie[1],De=Object(n.useState)(!1),We=Object(u.a)(De,2),Be=(We[0],We[1],Object(n.useState)(null)),Fe=Object(u.a)(Be,2),Le=Fe[0],Pe=Fe[1],Re=function(){var e=Object(m.a)(o.a.mark((function e(t){var a,n,r,i,c,m,u,p,g;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),P||(z(!1),G("")),a=parseInt(d.value),n=parseInt(ee),r=parseInt(Q),i=parseInt(re),c="",Y&&(c=parseInt(Y)),m="",ie.value&&(m=parseInt(ie.value)),u=Object(sn.a)(x,"yyyy-MM-dd",new Date),p="",C&&(p=Object(sn.a)(C,"yyyy-MM-dd",new Date)),g={title:l.value,type:s,price:a,active:h,start_date:u,end_date:p,description:w.value,location:D,location_description:B.value,shared:P,roommates:c,living_with_host:q,bedrooms:r,bathrooms:n,max_guests:i,wifi_speed:m,rules:se,pets:de,lgbtq:je,primary_img:ke,additional_imgs:Te,payment_methods:ye},e.next=16,jn(g,Pe);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,Le&&"success"===Le.message.type&&r.a.createElement("div",null,r.a.createElement(U.a,{to:"/listings/".concat(Le.redirectId)}))),r.a.createElement(r.a.Fragment,null,Le&&r.a.createElement(r.a.Fragment,null,r.a.createElement(_a,{msgSeverity:Le.message.type,msg:Le.message.content,onClose:function(){return Pe(null)}}))),r.a.createElement(vt,null,r.a.createElement(xt,null,r.a.createElement("div",{className:e.titleLogoWrapper},r.a.createElement("img",{src:v.a,alt:"aCasa logo",className:e.logo}),r.a.createElement(b.a,{variant:"h4",component:"h3",color:"primary",align:"center",className:e.title},"Create Listing")),r.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:Re},r.a.createElement("div",{className:e.primaryInfo},r.a.createElement(b.a,{variant:"h5",component:"h3",color:"primary",className:e.title},"Basic Information"),r.a.createElement("div",null,r.a.createElement(ze.a,{name:"title",label:"Listing Title",color:"secondary",defaultValue:l.value,onChange:l.onChange,className:e.textInput,required:!0})),r.a.createElement("div",null,r.a.createElement(ct,{required:!0,labelText:"Property Type",name:"type",options:En,formSetter:p})),r.a.createElement("div",null,r.a.createElement(ze.a,{name:"price",type:"number",label:"Price per Month in Dollars",color:"secondary",className:e.textInput,defaultValue:d.value,onChange:d.onChange,InputProps:{inputProps:{min:1},startAdornment:r.a.createElement(mn.a,{position:"start"},"$")},required:!0,helperText:"NOTE: You can negotiate price with guests once they've contacted you. "})),r.a.createElement("div",null,r.a.createElement(yn,{formLabel:"Publish Now *",ariaLabel:"publish listing publicly",name:"active",required:!0,defaultValue:"true",formSetter:E,className:e.textInput,options:[{value:"true",label:"Yes"},{value:"false",label:"Not Right Now"}]})),r.a.createElement("div",null,r.a.createElement(ze.a,{name:"description",label:"Property Description",defaultValue:w.value,onChange:w.onChange,multiline:!0,rows:4,color:"secondary",style:{width:"100%"}}))),r.a.createElement(fe.a,{className:e.sectionDivider}),r.a.createElement("div",{className:e.dates},r.a.createElement(b.a,{variant:"h5",component:"h3",color:"primary",className:e.title},"Dates"),r.a.createElement(ut,{className:e.textInput,labelText:"Start Date",defaultValue:new Date,required:!0,disablePast:!0,formSetter:N}),r.a.createElement(ut,{className:e.textInput,labelText:"End Date",required:!1,disablePast:!0,helperText:"Only include if there is a fixed end date for the availability",formSetter:I})),r.a.createElement(fe.a,{className:e.sectionDivider}),r.a.createElement("div",{className:e.location},r.a.createElement(b.a,{variant:"h5",component:"h3",color:"primary",className:e.title},"Location"),D.description&&r.a.createElement("div",{style:{paddingTop:".5em",paddingBottom:".5em"}},r.a.createElement(b.a,null,r.a.createElement("b",null,"Your current location is: ")," ",D.description)),r.a.createElement(at,{variant:"standard",label:"Location",name:"location",required:!0,formSetter:W,className:e.textInput}),r.a.createElement(ze.a,{name:"location_description",label:"Location Description",multiline:!0,defaultValue:B.value,onChange:B.onChange,rows:4,color:"secondary",style:{width:"100%"}})),r.a.createElement(fe.a,{className:e.sectionDivider}),r.a.createElement("div",{className:e.dates},r.a.createElement(b.a,{variant:"h5",component:"h3",color:"primary",className:e.title},"Occupancy"),r.a.createElement("div",null,r.a.createElement(yn,{formLabel:"Shared *",ariaLabel:"apartment is shared option",name:"shared",required:!0,defaultValue:"true",className:e.textInput,formSetter:R,options:[{value:"true",label:"Yes"},{value:"false",label:"No"}]})),!0===P&&r.a.createElement(un.a,{row:!0,style:{display:"flex",alignItems:"center"}},r.a.createElement("div",null,r.a.createElement(ct,{required:!0,labelText:"Roommates",name:"roommates",formSetter:G,options:Vn,className:e.textInput})),r.a.createElement("div",null,r.a.createElement(gn,{label:"Living with Host",name:"living_with_host",formSetter:z,className:e.textInput}))),r.a.createElement(un.a,{row:!0},r.a.createElement("div",null,r.a.createElement(ct,{required:!0,labelText:"Bedrooms",name:"bedrooms",formSetter:Z,options:Vn})),r.a.createElement("div",null,r.a.createElement(ct,{required:!0,labelText:"Bathrooms",name:"bathrooms",formSetter:te,options:Vn})),r.a.createElement("div",null,r.a.createElement(ct,{required:!0,labelText:"Max Guests",name:"max_guests",formSetter:le,options:Vn})))),r.a.createElement(fe.a,{className:e.sectionDivider}),r.a.createElement("div",{className:e.contact},r.a.createElement(b.a,{variant:"h5",component:"h3",color:"primary",className:e.title},"Additional Information"),r.a.createElement(b.a,{variant:"p",component:"p",color:"textSecondary"},"It is highly recommended to include the following information to make your listing stand out and be more searchable."),r.a.createElement(un.a,{row:!0},r.a.createElement("div",null,r.a.createElement(ze.a,{name:"wifi_speed",type:"number",label:"Wifi speed (Mbps)",color:"secondary",InputProps:{startAdornment:r.a.createElement(mn.a,{position:"start"},r.a.createElement(ia.a,{color:"secondary"}))},className:e.textInput,defaultValue:ie.value,onChange:ie.onChange})),r.a.createElement("div",null,r.a.createElement(La,{options:["Quiet after 10 PM","No parties","No overnight guests","No smoking"],label:"House Rules",formSetter:me}))),r.a.createElement(un.a,{row:!0,style:{display:"flex",alignItems:"center"}},r.a.createElement("div",null,r.a.createElement(La,{options:["Cats","Dogs","Fish","Guinea Pigs","Hamsters","Insects","Rabbits","Reptiles"],label:"Pets",formSetter:ge})),r.a.createElement("div",null,r.a.createElement(La,{options:["Bank Transfer","Cash","Card","Cheque","Cryptocurrency","Other (discuss with host)"],label:"Payment Methods",formSetter:Ee})),r.a.createElement("div",{style:{paddingTop:12}},r.a.createElement(gn,{label:"LGBTQ+ Friendly",name:"lgbtq",formSetter:Oe})))),r.a.createElement(fe.a,{className:e.sectionDivider}),r.a.createElement("div",{className:e.images},r.a.createElement(b.a,{variant:"h5",component:"h3",color:"primary",className:e.title,style:{paddingBottom:".5em"}},"Images"),r.a.createElement("div",null,r.a.createElement(b.a,{component:"h4",variant:"h6"},"Select the listing's primary image"),r.a.createElement(b.a,{color:"textSecondary"},"This will be featured prominently throughout the site, so make you it's a picture you really like!"),r.a.createElement("div",{className:e.uploadOneImageWrapper},ke&&r.a.createElement("div",{className:e.currentPrimaryImg},r.a.createElement(b.a,{component:"p",variant:"h6",align:"center"},"Current Primary Image"),r.a.createElement("img",{src:ke,alt:ke,className:e.primaryImg})),r.a.createElement(Sn,{formSetter:Se,required:!0}))),r.a.createElement("div",null,r.a.createElement(b.a,{component:"h4",variant:"h6"},"Select additional images"),r.a.createElement(b.a,{color:"textSecondary"},"Add some more photos to help make your listing shine."),r.a.createElement(Mn,{formSetter:_e}))),r.a.createElement(fe.a,{className:e.sectionDivider}),r.a.createElement("div",{className:e.buttonWrapper},r.a.createElement(y.a,{variant:"contained",color:"primary",className:e.submitButton,type:"submit"},"Post Listing!"))))))}var Yn=Object(p.a)((function(e){return{img:{height:"100%",width:"100%",backgroundPosition:"center",backgroundSize:"cover",cursor:"pointer"},modalFrame:{display:"inline-block",outlineColor:e.palette.secondary.light,backgroundImage:"/assets/loading-spinner.gif"},imgModal:{maxHeight:600,maxWidth:900}}}));function Gn(e){var t=e.src,a=e.alt,l=(e.component,e.className),i=Yn(),c=Object(n.useState)(!1),o=Object(u.a)(c,2),s=o[0],m=o[1];return r.a.createElement("div",{className:i.imgWrapper},r.a.createElement("div",{className:l?"".concat(i.img," ").concat(l):i.img,style:{backgroundImage:"url(".concat(t,")")},onClick:function(){m(!0)}}),r.a.createElement(w.a,{open:s,onClose:function(){m(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(re.a,{in:s},r.a.createElement("div",{className:i.modalFrame},r.a.createElement("img",{src:t,alt:a,className:i.imgModal})))))}var Un=Object(p.a)((function(e){return{light:{backgroundColor:e.palette.primary.light},main:{backgroundColor:e.palette.primary.main},dark:{backgroundColor:e.palette.primary.dark}}}));function Jn(){Un();return r.a.createElement(vt,null,r.a.createElement(xt,{style:{padding:"3em",width:800,minHeight:500}},r.a.createElement(Mn,null),r.a.createElement("img",{src:"https://acasa-bd3af.appspot.com/listings/cfaad2d9-0beb-498b-b956-ba2ed56c326f-art-james-jean-feature.jpg?alt=media",alt:"idk anymore"})))}var Kn=a(327),Qn=a.n(Kn),Zn=a(328),$n=a.n(Zn),Xn=a(326),er=a.n(Xn),tr=Object(p.a)((function(e){return{pageWrapper:Object(ge.a)({width:"75vw",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-evenly",paddingTop:e.spacing(12),paddingBottom:e.spacing(12),paddingLeft:e.spacing(3),paddingRight:e.spacing(3)},e.breakpoints.down("sm"),{flexDirection:"column-reverse",paddingTop:e.spacing(6),paddingBottom:e.spacing(6)}),title:Object(ge.a)({fontFamily:e.typography.special,color:e.palette.primary.dark,paddingBottom:e.spacing(2)},e.breakpoints.down("sm"),{paddingTop:e.spacing(3)}),subtitle:{fontSize:1.5*e.typography.fontSize,color:e.palette.text.secondary,paddingBottom:e.spacing(2)},img:Object(ge.a)({maxWidth:450},e.breakpoints.down("sm"),{width:"90%"})}}));function ar(){var e=tr(),t=Object(n.useContext)(S).loggedIn;return r.a.createElement(vt,null,r.a.createElement(xt,{className:e.root},r.a.createElement("div",{className:e.pageWrapper},r.a.createElement("div",null,r.a.createElement(b.a,{component:"p",variant:"h4",className:e.title},"Awwww, snap!"),r.a.createElement(b.a,{className:e.subtitle},"We can't find the page you're looking for."),r.a.createElement(b.a,null,r.a.createElement("b",null,"Error Code:")," 404"),r.a.createElement("p",null,"Here are some useful links to get you back on track:"),r.a.createElement(St.a,{dense:!0},r.a.createElement(Ct.a,null,r.a.createElement(F.a,null,r.a.createElement(Qn.a,null)),r.a.createElement(L.a,{primary:r.a.createElement(f.a,{href:"/",color:"inherit"},"Home")})),r.a.createElement(Ct.a,null,r.a.createElement(F.a,null,r.a.createElement(ne.a,null)),r.a.createElement(L.a,{primary:r.a.createElement(f.a,{href:"/explore",color:"inherit"},"Search")})),t?r.a.createElement(Ct.a,null,r.a.createElement(F.a,null,r.a.createElement(M.a,null)),r.a.createElement(L.a,{primary:r.a.createElement(f.a,{href:"/profile",color:"inherit"},"Profile")})):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct.a,null,r.a.createElement(F.a,null,r.a.createElement($n.a,null)),r.a.createElement(L.a,{primary:r.a.createElement(f.a,{href:"/sign-up",color:"inherit"},"Sign Up")})),r.a.createElement(Ct.a,null,r.a.createElement(F.a,null,r.a.createElement(M.a,null)),r.a.createElement(L.a,{primary:r.a.createElement(f.a,{href:"/log-in",color:"inherit"},"Log In")}))))),r.a.createElement("div",{className:e.imgWrapper},r.a.createElement("img",{src:er.a,alt:"small creatures hiding in trees",className:e.img})))))}a(150),a(149),Object(p.a)((function(e){return{heartButton:{color:$t.a[500]}}}));var nr=Object(p.a)((function(e){return{root:Object(ge.a)({width:"100%",position:"sticky",minHeight:100,marginTop:e.spacing(1),top:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:500},e.breakpoints.down("sm"),{position:"static"}),mainContent:Object(ge.a)({display:"inline-flex",justifyContent:"space-between",alignItems:"center",paddingLeft:e.spacing(3),paddingRight:e.spacing(3),paddingTop:e.spacing(2),paddingBottom:e.spacing(1),boxSizing:"border-box",width:800,backgroundColor:e.palette.background.default},e.breakpoints.down("sm"),{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)}),title:{fontFamily:e.typography.special,color:e.palette.primary.dark,paddingBottom:e.spacing(1)},actionButtons:Object(ge.a)({display:"inline-flex",flexDirection:"row",justifyContent:"space-evenly"},e.breakpoints.down("sm"),{justifyContent:"flex-end"}),contactButton:Object(ge.a)({marginLeft:e.spacing(1.5),marginRight:e.spacing(1.5)},e.breakpoints.down("sm"),{marginLeft:e.spacing(0),marginRight:e.spacing(0)})}}));function rr(e){var t=e.listing,a=nr(),l=Object(n.useContext)(S).user.uid;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.root},r.a.createElement(ve.a,{className:a.mainContent,component:"div"},r.a.createElement("div",{className:a.info},r.a.createElement(b.a,{component:"p",variant:"p",color:"textSecondary"},t.location.description),r.a.createElement(b.a,{component:"h1",variant:"h4",className:a.title},t.title),r.a.createElement(b.a,{component:"p",variant:"h5"},"$",t.price,"/mo")),r.a.createElement("div",{className:a.actionButtons},t.owner.uid!==l?r.a.createElement(Ut,{username:t.owner.username,noName:!0}):r.a.createElement(f.a,{href:"/listings/".concat(t.id,"/edit")},r.a.createElement(_t,{href:"/listings/".concat(t.id,"/edit")},"Edit Listing")),r.a.createElement("span",{className:a.contactButton})))))}var lr=Object(p.a)((function(e){return{gridListRoot:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{flexWrap:"nowrap",transform:"translateZ(0)"},gridImg:{cursor:"pointer"},modalFrame:{display:"inline-block",outlineColor:e.palette.secondary.light,backgroundColor:"white"},imgModal:{maxHeight:600,maxWidth:900},primaryImgWrapper:{"&:hover":{position:"relative",zIndex:400,transform:"scale(1.05)"}},primaryImg:Object(ge.a)({width:500,height:300,backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:"/assets/loading-spinner.gif"},e.breakpoints.down("sm"),{width:300}),spacing:{margin:e.spacing(1)}}}));function ir(e){var t=e.imgs,a=e.listingTitle,l=lr(),i=Object(n.useState)(!1),c=Object(u.a)(i,2),o=c[0],s=c[1],m=Object(n.useState)(""),p=Object(u.a)(m,2),d=p[0],g=p[1],f=Object(n.useState)(""),b=Object(u.a)(f,2),h=b[0],y=b[1],E=function(e){s(!0),g(e.target.src),y(e.target.alt)};return r.a.createElement("div",{className:l.gridListRoot},r.a.createElement(Fn.a,{className:l.gridList,cols:2.5},t.map((function(e,t){return r.a.createElement(Ln.a,{key:e},r.a.createElement("img",{src:e,alt:"".concat(a," img ").concat(t+1),onClick:E,className:l.gridImg}))}))),r.a.createElement(w.a,{open:o,onClose:function(){s(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",TransitionComponent:re.a,style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(re.a,{in:o},r.a.createElement("div",{className:l.modalFrame},r.a.createElement("img",{src:d,alt:h,className:l.imgModal})))))}function cr(e){var t=e.primaryImg,a=e.additionalImgs,n=e.title,l=Object(It.a)(e,["primaryImg","additionalImgs","title"]),i=lr();return r.a.createElement("section",l,r.a.createElement(ve.a,{className:i.primaryImgWrapper,style:{marginBottom:"1em",maxWidth:500,margin:"0 auto",padding:".5em"}},r.a.createElement(Gn,{src:t,alt:n,className:i.primaryImg})),r.a.createElement("div",{className:i.spacing}),a&&!!a.length&&r.a.createElement(xt,null,r.a.createElement(ir,{imgs:a,title:n})))}var or=a(333),sr=a.n(or),mr=a(334),ur=a.n(mr),pr=a(335),dr=a.n(pr),gr=a(125),fr=a(331),br=Object(gr.withScriptjs)(Object(gr.withGoogleMap)((function(e){var t=e.lat,a=e.lng;return r.a.createElement(gr.GoogleMap,{defaultZoom:15,defaultCenter:{lat:t,lng:a},defaultOptions:{styles:fr}},r.a.createElement(gr.Marker,{position:{lat:t,lng:a}}))})));function hr(e){e.placeName;var t=e.lat,a=e.lng,n=Object(It.a)(e,["placeName","lat","lng"]);return r.a.createElement(r.a.Fragment,null,t&&a?r.a.createElement(br,Object.assign({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBSHvxwJqoYbeiJTby6ijIkR74Bia1bJ0s&v=3.exp&libraries=geometry,drawing,places",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:400}}),mapElement:r.a.createElement("div",{style:{height:"100%"}}),lat:t,lng:a},n)):r.a.createElement("div",{style:{width:"100%",height:400,display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(qe.a,{size:100}))," ")}var yr=a(332),Er=a.n(yr);function vr(e){return wr.apply(this,arguments)}function wr(){return(wr=Object(m.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ra.doc(t).get();case 2:if(!(a=e.sent).empty){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",a.data());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jr=Object(p.a)((function(e){return{contentWrapper:Object(ge.a)({display:"grid",maxWidth:1200,gridTemplateColumns:"2.25fr 1fr",gridTemplateRows:"auto auto auto"},e.breakpoints.down("sm"),{display:"flex",flexDirection:"column"}),mainContent:{margin:e.spacing(1),gridColumn:"1 / 2",gridRow:"1/4"},availability:{margin:e.spacing(1),gridColumn:"2 / 3",gridRow:"1/2"},contactOwner:{margin:e.spacing(1),gridColumn:"2 / 3",gridRow:"2/3"},title:{color:e.palette.primary.dark,fontFamily:e.typography.special},chips:{marginTop:e.spacing(1),marginBottom:e.spacing(1),display:"flex",justifyContent:"center"},chip:Object(ge.a)({backgroundColor:e.palette.secondary.light,margin:e.spacing(1),padding:e.spacing(.5)},e.breakpoints.down("xs"),{margin:e.spacing(.25),padding:e.spacing(.25),fontSize:.75*e.typography.fontSize}),listingDescription:{marginTop:e.spacing(2),paddingLeft:e.spacing(5),paddingRight:e.spacing(5)},sectionDivider:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},locationTopContent:{paddingBottom:e.spacing(1.5)},locationDescription:{marginTop:e.spacing(1.5)},mapWrapper:{margin:e.spacing(2),marginTop:e.spacing(4)},availableNow:{color:e.palette.secondary.dark,fontFamily:e.typography.special},ownerInfo:{display:"inline-flex",justifyContent:"left",alignItems:"center",paddingTop:e.spacing(2.5),paddingBottom:e.spacing(2.5),paddingLeft:e.spacing(1.5)},contactButton:{marginTop:e.spacing(2),alignSelf:"center",justifySelf:"center"}}}));function Or(){var e=Object(n.useState)({owner:{},additional_imgs:[],location:{geometry:{location:{}}},payment_methods:[]}),t=Object(u.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(!1),c=Object(u.a)(i,2),s=c[0],p=c[1],d=jr(),g=Object(U.i)().id,h=a.shared?"Room in shared ".concat(a.type):"Whole ".concat(a.type);Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]);var y=Object(n.useCallback)(Object(m.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vr(g);case 2:t=e.sent,l(t),a=(a=new Date).getTime(),n=t.start_date.toMillis(),p(n<=a);case 8:case"end":return e.stop()}}),e)}))),[g]);return Object(n.useEffect)((function(){y()}),[y]),r.a.createElement(r.a.Fragment,null,r.a.createElement(rr,{listing:a}),r.a.createElement(vt,null,r.a.createElement("div",null,r.a.createElement(cr,{title:a.title,primaryImg:a.primary_img,additionalImgs:a.additional_imgs})),r.a.createElement("main",{className:d.contentWrapper},r.a.createElement("section",{className:d.mainContent},r.a.createElement(xt,null,a.title&&r.a.createElement("div",null,r.a.createElement(b.a,{className:d.title,component:"h3",variant:"h5",align:"center"},h),r.a.createElement(k.a,{className:d.chips},r.a.createElement(Qt.a,{icon:r.a.createElement(ea.a,null),label:a.bedrooms>=10?"".concat(a.bedrooms,"+ bedroom"):"".concat(a.bedrooms," bedroom"),className:d.chip}),r.a.createElement(Qt.a,{icon:r.a.createElement(aa.a,null),label:a.max_guests>=10?"".concat(a.max_guests,"+ guest(s)"):"".concat(a.max_guests," guest(s)"),className:d.chip}),r.a.createElement(Qt.a,{icon:r.a.createElement(ra.a,null),label:a.bathrooms>=10?"".concat(a.bathrooms,"+ bathroom"):"".concat(a.bathrooms," bathroom"),className:d.chip}))),a.description&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(b.a,{className:d.listingDescription},a.description))),r.a.createElement(fe.a,{className:d.sectionDivider}),r.a.createElement("div",null,r.a.createElement(b.a,{component:"h2",variant:"h5",className:d.title},"Additional Info"),r.a.createElement(St.a,{dense:!0},a.wifi&&r.a.createElement(Ct.a,null,r.a.createElement(F.a,null,r.a.createElement(ia.a,{color:"secondary"})),r.a.createElement(L.a,{primary:r.a.createElement(b.a,null,r.a.createElement("b",null,"Wifi:")," ",a.wifi_speed," mb/s")})),a.wifi&&r.a.createElement(Ct.a,null,r.a.createElement(F.a,null,r.a.createElement(ia.a,{color:"secondary"})),r.a.createElement(L.a,{primary:r.a.createElement(b.a,null,r.a.createElement("b",null,"Wifi:")," ",a.wifi_speed," mb/s")})),a.lgbtq&&r.a.createElement(Ct.a,null,r.a.createElement(F.a,null,r.a.createElement(Er.a,{color:"secondary"})),r.a.createElement(L.a,{primary:r.a.createElement(b.a,null,"LGBTQ+ Friendly")})),r.a.createElement(Ct.a,null,r.a.createElement(F.a,null,r.a.createElement(sr.a,{color:"secondary"})),r.a.createElement(L.a,{primary:r.a.createElement(b.a,null,r.a.createElement("b",null,"Pets:")," ",a.pets&&a.pets.length?a.pets.join(", "):"None")})),r.a.createElement(Ct.a,null,r.a.createElement(F.a,null,r.a.createElement(ur.a,{color:"secondary"})),r.a.createElement(L.a,{primary:r.a.createElement(b.a,null,r.a.createElement("b",null,"Payment Methods:")," ",a.payment_methods&&a.payment_methods.length?a.payment_methods.join(", "):"Discuss with host")})),r.a.createElement(Ct.a,null,r.a.createElement(F.a,null,r.a.createElement(dr.a,{color:"secondary"})),r.a.createElement(L.a,{primary:r.a.createElement(b.a,null,r.a.createElement("b",null,"House Rules:")," ",a.rules&&a.rules.length?a.rules.join(", "):"Discuss with host")}))),r.a.createElement(fe.a,{className:d.sectionDivider})),r.a.createElement("div",null,r.a.createElement("div",{className:d.locationTopContent},r.a.createElement(b.a,{component:"h2",variant:"h5",className:d.title,style:{paddingRight:"1.5em"}},"Location"),r.a.createElement(b.a,{component:"p",variant:"p",className:d.locationDescription},a.location_description)),r.a.createElement("div",null,r.a.createElement("div",{className:d.mapWrapper},r.a.createElement(hr,{placeName:a.location.description,lat:a.location.geometry?a.location.geometry.location.lat:null,lng:a.location.geometry?a.location.geometry.location.lng:null})))))),r.a.createElement("section",{className:d.availability},r.a.createElement(xt,null,r.a.createElement(b.a,{component:"h2",variant:"h5",className:d.title},"Availability"),r.a.createElement(St.a,{dense:!0},r.a.createElement(Ct.a,null,r.a.createElement(L.a,{primary:r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,a.start_date&&s&&r.a.createElement(b.a,{className:d.availableNow,align:"center",variant:"h6"},"Available Now!")),r.a.createElement(r.a.Fragment,null,a.start_date&&!s&&r.a.createElement(b.a,{align:"center"},r.a.createElement("b",null,"Available from:")," ",kt(a.start_date))))})),r.a.createElement(Ct.a,null,r.a.createElement(L.a,{primary:r.a.createElement(r.a.Fragment,null,a.end_date?r.a.createElement(b.a,{align:"center"},r.a.createElement("b",null,"Available until:")," ",kt(a.end_date)):r.a.createElement(b.a,{align:"center"},"No specified end date"))}))))),r.a.createElement("section",{className:d.contactOwner},r.a.createElement(xt,null,r.a.createElement(b.a,{component:"h3",variant:"h5",className:d.title,style:{textAlign:"center"}},"Owner Info"),r.a.createElement("div",{className:d.ownerInfo},r.a.createElement(Nt.a,{src:a.owner.profile_picture,alt:"".concat(a.owner.first_name," ").concat(a.owner.last_name),style:{marginRight:5,display:"inline-block"}}),"Listing by"," ",r.a.createElement(f.a,{href:"/users/".concat(a.owner.username),style:{marginLeft:5}},"".concat(a.owner.first_name," ").concat(a.owner.last_name))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(Ut,{username:a.owner.username,className:d.contactButton})))))))}var xr=a(336),Nr=a.n(xr);var kr=a(120).map;function Sr(e,t,a,n,r){return Cr.apply(this,arguments)}function Cr(){return(Cr=Object(m.a)(o.a.mark((function e(t,a,n,r,l){var i,c,s,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ra.near({center:new N.a.firestore.GeoPoint(t,a),radius:n||15}),e.next=3,i.get();case 3:return c=e.sent,s=c.docs,e.next=7,kr(s,(function(e){return e.data()}));case 7:return m=e.sent,r&&"everything"!==r.toLowerCase()&&(m=m.filter((function(e){return e.type===r.toLowerCase()}))),e.abrupt("return",{results:m});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ir=a(337),Tr=a.n(Ir),_r=Object(p.a)((function(e){return{title:{fontFamily:e.typography.special,color:e.palette.primary.dark,paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},searchResultsWrapper:{minWidth:"70vw"},sectionDivider:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},resultsWrapper:{minHeight:"60vh"},progressWrapper:{display:"flex",justifyContent:"center",marginTop:e.spacing(8),marginBottom:e.spacing(8)},noResultsImgWrapper:{display:"flex",width:"100%",JustifyContent:"center",alignItems:"center",paddingTop:e.spacing(5),paddingBottom:e.spacing(5)},noResultsImg:{maxWidth:300,display:"inline-block",margin:"0 auto"},demoSearch:{marginTop:e.spacing(2),marginBottom:e.spacing(2)}}}));function Dr(e){var t=e.locationDescription,a=e.lat,l=e.lng,i=e.hometype,c=e.startDate,s=e.searchRadiusKm,p=_r(),d=Object(n.useState)([]),g=Object(u.a)(d,2),h=g[0],y=g[1],E=Object(n.useState)(!0),v=Object(u.a)(E,2),w=v[0],j=v[1],O=function(){var e=Object(m.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sr(a,l,s,i,c);case 2:t=e.sent,y(t.results),j(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){t&&Object(m.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O());case 1:case"end":return e.stop()}}),e)})))()}),[t]),r.a.createElement("div",null,r.a.createElement(xt,null,r.a.createElement("div",{className:p.searchResultsWrapper},r.a.createElement(b.a,{component:"h1",variant:"h4",className:p.title},"Search results for: ",t),c&&r.a.createElement(b.a,null,r.a.createElement("b",null,"Start Date: "),kt(c)),i&&r.a.createElement(b.a,null,r.a.createElement("b",null,"Home type: "),i),r.a.createElement(fe.a,{className:p.sectionDivider}),r.a.createElement("section",{className:p.resultsWrapper},w&&r.a.createElement("div",{className:p.progressWrapper},r.a.createElement(qe.a,{size:100,color:"primary"})),w?null:h.length?r.a.createElement(ua,{listings:h}):r.a.createElement("div",null,r.a.createElement(b.a,{component:"p",variant:"h5",className:p.title,align:"center"},"We got nothing."),r.a.createElement(b.a,{color:"textSecondary",align:"center"},"No listings match your search parameters. Please try another search."),r.a.createElement(b.a,{align:"center",className:p.demoSearch},"Don't know where to start? Try"," ",r.a.createElement(f.a,{href:"/search?lat=40.7127753&lng=-74.0059728&query=New%20York,%20NY,%20USA&startDate=&homeType="},"New York, NY")),r.a.createElement("div",{className:p.noResultsImgWrapper},r.a.createElement("img",{src:Tr.a,alt:"man staring into an empty void",className:p.noResultsImg})))))))}var Wr=a(338),Br=a.n(Wr),Fr=Object(p.a)((function(e){return{title:{fontFamily:e.typography.special,color:e.palette.primary.dark,paddingTop:e.spacing(2),paddingBottom:e.spacing(4)},noQuery:{minWidth:"70vw",minHeight:"70vh"},searchImgWrapper:{display:"flex",width:"100%",JustifyContent:"center",alignItems:"center",paddingTop:e.spacing(5),paddingBottom:e.spacing(5)},searchImg:{maxWidth:300,display:"inline-block",margin:"0 auto"},demoSearch:{marginBottom:e.spacing(2)}}}));function Lr(e){var t,a=Fr(),l=Nr.a.parse(window.location.search),i=Object(n.useState)({description:l.query,lat:parseFloat(l.lat),lng:parseFloat(l.lng),hometype:l.homeType,startDate:l.homeType?(t=l.startDate,Object(sn.a)(t,"yyyy-MM-dd",new Date)):"",searchRadiusKm:l.searchRadius||15}),c=Object(u.a)(i,2),o=c[0],s=c[1],m=Object(n.useState)(Date.now()),p=Object(u.a)(m,2),d=p[0],g=p[1];return r.a.createElement("div",null,r.a.createElement(vt,null,r.a.createElement(yt,{setSearch:function(e){s(e),g(Date.now())}}),!o.description&&r.a.createElement(xt,null,r.a.createElement("div",{className:a.noQuery},r.a.createElement(b.a,{variant:"h4",className:a.title,align:"center"},"Get searching!"),r.a.createElement(b.a,{align:"center",className:a.demoSearch},"Don't know where to start? Try"," ",r.a.createElement(f.a,{href:"/search?lat=40.7127753&lng=-74.0059728&query=New%20York,%20NY,%20USA&startDate=&homeType="},"New York, NY")),r.a.createElement("div",{className:a.searchImgWrapper},r.a.createElement("img",{src:Br.a,alt:"woman looking at galaxy with phone vector art",className:a.searchImg})))),o.description&&!!d&&r.a.createElement(Dr,{locationDescription:o.description,lat:o.lat,lng:o.lng,searchRadiusKm:o.searchRadiusKm,startDate:o.startDate,hometype:o.hometype})))}function Pr(){return r.a.createElement(vt,null,r.a.createElement(xt,{style:{margin:"2em .5em 5em"}},r.a.createElement("div",{style:{minHeight:"65vh",display:"flex",alignItems:"center",padding:"1em"}},r.a.createElement(Z,null))))}function Rr(e){if(e){var t=e.toDate();return Object(ot.a)(t,"yyyy-MM-dd")}return""}function Ar(e,t){return Mr.apply(this,arguments)}function Mr(){return(Mr=Object(m.a)(o.a.mark((function e(t,a){var n,r,l,i,c,s,u,p,d,g,f,b,h,y,E,v,w,j,O,x,k,S,C,I,T,_,D,W,B;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.title,r=t.id,l=t.type,i=t.description,c=t.active,s=t.price,u=t.start_date,p=t.end_date,d=t.location,g=t.location_description,f=t.shared,b=t.roommates,h=t.bedrooms,y=t.bathrooms,E=t.max_guests,v=t.wifi_speed,w=t.rules,j=t.pets,O=t.lgbtq,x=t.living_with_host,k=t.primary_img,S=t.additional_imgs,C=t.payment_methods,n&&d&&l&&u&&h&&y&&E&&k){e.next=4;break}return a({message:{type:"error",content:"Missing one or more required fields."}}),e.abrupt("return");case 4:I=new Date,d.geometry&&(_=d.geometry.location,D=_.lat,W=_.lng,T=new N.a.firestore.GeoPoint(D,W)),B={title:n,id:r,type:l,active:c,price:s,start_date:u,end_date:p,location:d,description:i,location_description:g,shared:f,roommates:b,bedrooms:h,bathrooms:y,max_guests:E,wifi_speed:v,rules:w,pets:j,lgbtq:O,living_with_host:x,created_at:I,updated_at:I,primary_img:k,coordinates:T,additional_imgs:S,payment_methods:C},N.a.auth().onAuthStateChanged(function(){var e=Object(m.a)(o.a.mark((function e(t){var n,l,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=19;break}return n=N.a.auth().currentUser.uid,e.next=4,Ft.collection("users").doc(n).get();case 4:return l=(l=e.sent).data(),i={first_name:l.first_name,last_name:l.last_name,profile_picture:l.profile_picture,uid:l.uid,username:l.username},B.owner=i,e.prev=8,e.next=11,Ra.doc(r).update(B);case 11:e.sent,a({message:{type:"success",content:"Your Listing has been successfully updated."},redirectId:r}),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(8),console.error(e.t0),e.abrupt("return",{message:{type:"error",content:"There was an error updating your listing. Please try again later."}});case 19:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qr=Object(p.a)((function(e){return{modalContent:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),top:"50%",left:"50%",transform:"translate(-50%, -50%)",outlineColor:e.palette.secondary.light},buttonWrapper:{display:"flex",justifyContent:"center",marginTop:e.spacing(1.5),marginBottom:e.spacing(1.5)},deleteButton:{marginRight:e.spacing(2),fontFamily:e.typography.special,color:Ya.a[500],cursor:"pointer",display:"inline-flex",alignItems:"center"},title:{fontFamily:e.typography.special,color:e.palette.primary.dark,marginBottom:e.spacing(2)},progress:{display:"flex",justifyContent:"center"}}}));function zr(e){var t=e.listing,a=qr(),l=Object(U.g)(),i=Object(n.useState)(!1),c=Object(u.a)(i,2),s=c[0],p=c[1],d=Object(n.useState)({message:{}}),g=Object(u.a)(d,2),f=g[0],h=g[1],E=Object(n.useState)("START"),v=Object(u.a)(E,2),j=v[0],O=v[1],x=function(){p(!1)},N=function(){var e=Object(m.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O("LOADING"),e.next=3,Ja(t.id,h);case 3:setTimeout((function(){l.push("/profile")}),3e3);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){f.message.type}),[f.message]),r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{className:a.deleteButton,onClick:function(){p(!0)}},r.a.createElement(Va.a,null),"  ","Delete Listing"),r.a.createElement(w.a,{open:s,onClose:x,"aria-labelledby":"delete listing","aria-describedby":"delete your listing here",disableAutoFocus:!0},r.a.createElement("div",{className:a.modalContent},r.a.createElement("div",null,r.a.createElement(Ua.a,{onClick:x})),r.a.createElement(b.a,{component:"h4",variant:"h4",align:"center",className:a.title,color:"primary"},"Delete Listing"),"START"===j&&!f.message.type&&r.a.createElement("div",null,r.a.createElement(b.a,null,r.a.createElement("b",null,"Warning:")," Deletion of listings is permanent, and once you click delete below, you won't be able to recover the listing."),r.a.createElement("div",{className:a.buttonWrapper},r.a.createElement(_t,{onClick:N},"Delete"))),"LOADING"===j&&!f.message.type&&r.a.createElement("div",{className:a.progress},r.a.createElement(qe.a,{size:100}),r.a.createElement("p",null,"Deleting your listing...")),f.message.type&&r.a.createElement("div",null,r.a.createElement(b.a,null,f.message.content," You'll be redirected to your profile in a moment.")))))}var Vr=Object(p.a)((function(e){return{titleLogoWrapper:{display:"flex",alignItems:"center",flexDirection:"column",paddingBottom:e.spacing(2)},title:{fontFamily:e.typography.special,color:e.palette.primary.main,paddingBottom:e.spacing(1.5)},logo:{width:50,paddingBottom:e.spacing(1)},progressWrapper:Object(ge.a)({display:"flex",justifyContent:"center",marginTop:e.spacing(8),marginBottom:e.spacing(8),minWidth:450},e.breakpoints.down("sm"),{maxWidth:"100%"}),form:{padding:e.spacing(1),maxWidth:750},textInput:{width:300,margin:".5rem 0"},sectionDivider:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},buttonWrapper:{display:"flex",justifyContent:"center",alignItems:"center"},uploadOneImageWrapper:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},currentPrimaryImg:{display:"block",paddingBottom:e.spacing(2)},primaryImg:{maxWidth:250},submitButton:{marginTop:e.spacing(2),marginBottom:e.spacing(2),marginLeft:e.spacing(5),marginRight:e.spacing(5),fontFamily:e.typography.special,width:"100%",padding:e.spacing(1.5),fontSize:2*e.typography.fontSize}}})),Hr=(Object(ot.a)(Date.now(),"y-MM-d"),[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10+"}]);function Yr(){var e=Vr(),t=Object(U.i)().id,a=Object(U.g)(),l=Object(n.useContext)(S).user.uid,i=Object(n.useState)({msg:null,severity:null}),c=Object(u.a)(i,2),s=(c[0],c[1],Object(n.useState)("")),p=Object(u.a)(s,2),d=p[0],g=p[1],f=Object(n.useState)(""),h=Object(u.a)(f,2),E=h[0],w=h[1],j=Object(n.useState)(""),O=Object(u.a)(j,2),x=O[0],N=O[1],k=Object(n.useState)(null),C=Object(u.a)(k,2),I=C[0],T=C[1],_=Object(n.useState)(""),D=Object(u.a)(_,2),W=D[0],B=D[1],F=Object(n.useState)(null),L=Object(u.a)(F,2),P=L[0],R=L[1],A=Object(n.useState)(null),M=Object(u.a)(A,2),q=M[0],z=M[1],V=Object(n.useState)({}),H=Object(u.a)(V,2),Y=H[0],G=H[1],J=Object(n.useState)(""),K=Object(u.a)(J,2),Q=K[0],Z=K[1],$=Object(n.useState)(null),X=Object(u.a)($,2),ee=X[0],te=X[1],ae=Object(n.useState)(null),ne=Object(u.a)(ae,2),re=ne[0],le=ne[1],ie=Object(n.useState)(""),ce=Object(u.a)(ie,2),oe=ce[0],se=ce[1],me=Object(n.useState)(""),ue=Object(u.a)(me,2),pe=ue[0],de=ue[1],ge=Object(n.useState)(""),be=Object(u.a)(ge,2),he=be[0],ye=be[1],Ee=Object(n.useState)(""),ve=Object(u.a)(Ee,2),we=ve[0],je=ve[1],Oe=Object(n.useState)(""),xe=Object(u.a)(Oe,2),Ne=xe[0],ke=xe[1],Se=Object(n.useState)([]),Ce=Object(u.a)(Se,2),Ie=Ce[0],Te=Ce[1],_e=Object(n.useState)([]),De=Object(u.a)(_e,2),We=De[0],Be=De[1],Fe=Object(n.useState)([]),Le=Object(u.a)(Fe,2),Pe=Le[0],Re=Le[1],Ae=Object(n.useState)(null),Me=Object(u.a)(Ae,2),Ve=Me[0],He=Me[1],Ye=Object(n.useState)(null),Ge=Object(u.a)(Ye,2),Ue=Ge[0],Je=Ge[1],Ke=Object(n.useState)(null),Qe=Object(u.a)(Ke,2),Ze=Qe[0],$e=Qe[1],Xe=Object(n.useState)(!1),et=Object(u.a)(Xe,2),tt=(et[0],et[1]),nt=Object(n.useState)(null),rt=Object(u.a)(nt,2),lt=rt[0],it=rt[1],ot=Object(n.useState)({}),st=Object(u.a)(ot,2),mt=st[0],pt=st[1];Object(n.useEffect)((function(){Object(m.a)(o.a.mark((function e(){var n,r,i,c,s,m,u,p,d,f,b,h,y,E,v,j,O,x,k,S,C,I,_;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=32;break}return e.next=3,vr(t);case 3:if((n=e.sent).owner.uid===l){e.next=7;break}return a.push("/listings/".concat(n.id)),e.abrupt("return");case 7:r=n.title,i=n.type,c=n.description,s=n.active,m=n.price,u=n.start_date,p=n.end_date,d=n.location,f=n.location_description,b=n.shared,h=n.roommates,y=n.bedrooms,E=n.bathrooms,v=n.max_guests,j=n.wifi_speed,O=n.rules,x=n.pets,k=n.lgbtq,S=n.living_with_host,C=n.primary_img,I=n.additional_imgs,_=n.payment_methods,pt(n),g(r),tt(t),w(i),B(c),T(s),N(m),R(Rr(u)),z(Rr(p)),G(d),Z(f),te(b),se(h),de(y),ye(E),je(v),ke(j),Te(O),Be(x),He(k),le(S),Je(C),$e(I),Re(_);case 32:case"end":return e.stop()}}),e)})))()}),[l,t]);var dt=function(){var e=Object(m.a)(o.a.mark((function e(a){var n,r,l,i,c,s,m,u,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),ee||(le(!1),se("")),n=parseInt(x),r=parseInt(he),l=parseInt(pe),i=parseInt(we),c="",oe&&(c=parseInt(oe)),s="",Ne.value&&(s=parseInt(Ne)),m=Object(sn.a)(P,"yyyy-MM-dd",new Date),u="",q&&(u=Object(sn.a)(q,"yyyy-MM-dd",new Date)),p={title:d,type:E,price:n,active:I,start_date:m,end_date:u,description:W,location:Y,location_description:Q,shared:ee,roommates:c,living_with_host:re,bedrooms:l,bathrooms:r,max_guests:i,wifi_speed:s,rules:Ie,pets:We,lgbtq:Ve,primary_img:Ue,additional_imgs:Ze,payment_methods:Pe,id:t},e.next=16,Ar(p,it);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,lt&&"success"===lt.message.type&&r.a.createElement("div",null,r.a.createElement(U.a,{to:"/listings/".concat(lt.redirectId)}))),r.a.createElement(r.a.Fragment,null,lt&&r.a.createElement(r.a.Fragment,null,r.a.createElement(_a,{msgSeverity:lt.message.type,msg:lt.message.content,onClose:function(){return it(null)}}))),r.a.createElement(vt,null,r.a.createElement(xt,null,r.a.createElement("div",{className:e.titleLogoWrapper},r.a.createElement("img",{src:v.a,alt:"aCasa logo",className:e.logo}),r.a.createElement(b.a,{variant:"h4",component:"h3",color:"primary",align:"center",className:e.title},"Update Listing")),d?r.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:dt},r.a.createElement("div",{className:e.primaryInfo},r.a.createElement(b.a,{variant:"h5",component:"h3",color:"primary",className:e.title},"Basic Information"),r.a.createElement("div",null,r.a.createElement(ze.a,{name:"title",label:"Listing Title",color:"secondary",defaultValue:d,onChange:function(e){return g(e.target.value)},className:e.textInput,required:!0})),r.a.createElement("div",null,r.a.createElement(ct,{required:!0,labelText:"Property Type",name:"type",options:En,formSetter:w,defaultValue:E})),r.a.createElement("div",null,x&&r.a.createElement(ze.a,{name:"price",type:"number",label:"Price per Month in Dollars",color:"secondary",className:e.textInput,defaultValue:x,onChange:function(e){return N(e.target.value)},InputProps:{startAdornment:r.a.createElement(mn.a,{position:"start"},"$")},required:!0,helperText:"NOTE: You can negotiate price with guests once they've contacted you. "})),r.a.createElement("div",null,null!==I&&r.a.createElement(yn,{formLabel:"Publish Now *",ariaLabel:"publish listing publicly",name:"active",required:!0,defaultValue:JSON.stringify(I),formSetter:T,className:e.textInput,options:[{value:"true",label:"Yes"},{value:"false",label:"Not Right Now"}]})),r.a.createElement("div",null,r.a.createElement(ze.a,{name:"description",label:"Property Description",defaultValue:W,onChange:function(e){return B(e.target.value)},multiline:!0,rows:4,color:"secondary",style:{width:"100%"}}))),r.a.createElement(fe.a,{className:e.sectionDivider}),r.a.createElement("div",{className:e.dates},r.a.createElement(b.a,{variant:"h5",component:"h3",color:"primary",className:e.title},"Dates"),P&&r.a.createElement(ut,{className:e.textInput,labelText:"Start Date",defaultValue:P,required:!0,formSetter:R}),null!==q&&r.a.createElement(ut,{className:e.textInput,defaultValue:q,labelText:"End Date",disablePast:!0,required:!1,helperText:"Only include if there is a fixed end date for the availability",formSetter:z})),r.a.createElement(fe.a,{className:e.sectionDivider}),r.a.createElement("div",{className:e.location},r.a.createElement(b.a,{variant:"h5",component:"h3",color:"primary",className:e.title},"Location"),Y.description&&r.a.createElement("div",{style:{paddingTop:".5em",paddingBottom:".5em"}},r.a.createElement(b.a,null,r.a.createElement("b",null,"Your current location is: ")," ",Y.description)),r.a.createElement(at,{variant:"standard",label:"Location",name:"location",required:!0,formSetter:G,className:e.textInput}),r.a.createElement(ze.a,{name:"location_description",label:"Location Description",multiline:!0,defaultValue:Q,onChange:function(e){return Z(e.target.value)},rows:4,color:"secondary",style:{width:"100%"}})),r.a.createElement(fe.a,{className:e.sectionDivider}),r.a.createElement("div",{className:e.dates},r.a.createElement(b.a,{variant:"h5",component:"h3",color:"primary",className:e.title},"Occupancy"),r.a.createElement("div",null,null!==ee&&r.a.createElement(yn,{formLabel:"Shared *",ariaLabel:"apartment is shared option",name:"shared",required:!0,defaultValue:JSON.stringify(ee),className:e.textInput,formSetter:te,options:[{value:"true",label:"Yes"},{value:"false",label:"No"}]})),!0===ee&&r.a.createElement(un.a,{row:!0,style:{display:"flex",alignItems:"center"}},r.a.createElement("div",null,r.a.createElement(ct,{required:!0,labelText:"Roommates",name:"roommates",defaultValue:oe,formSetter:se,options:Hr,className:e.textInput})),r.a.createElement("div",null,null!==re&&r.a.createElement(gn,{label:"Living with Host",name:"living_with_host",formSetter:le,className:e.textInput,defaultValue:re}))),r.a.createElement(un.a,{row:!0},r.a.createElement("div",null,r.a.createElement(ct,{required:!0,labelText:"Bedrooms",name:"bedrooms",formSetter:de,options:Hr,defaultValue:pe})),r.a.createElement("div",null,r.a.createElement(ct,{required:!0,labelText:"Bathrooms",name:"bathrooms",formSetter:ye,options:Hr,defaultValue:he})),r.a.createElement("div",null,r.a.createElement(ct,{required:!0,labelText:"Max Guests",name:"max_guests",formSetter:je,options:Hr,defaultValue:we})))),r.a.createElement(fe.a,{className:e.sectionDivider}),r.a.createElement("div",{className:e.contact},r.a.createElement(b.a,{variant:"h5",component:"h3",color:"primary",className:e.title},"Additional Information"),r.a.createElement(b.a,{variant:"p",component:"p",color:"textSecondary"},"It is highly recommended to include the following information to make your listing stand out and be more searchable."),r.a.createElement(un.a,{row:!0},r.a.createElement("div",null,Ne&&r.a.createElement(ze.a,{name:"wifi_speed",type:"number",label:"Wifi speed (Mbps)",color:"secondary",InputProps:{startAdornment:r.a.createElement(mn.a,{position:"start"},r.a.createElement(ia.a,{color:"secondary"}))},className:e.textInput,defaultValue:Ne,onChange:Ne.onChange})),r.a.createElement("div",null,r.a.createElement(La,{options:["Quiet after 10 PM","No parties","No overnight guests","No smoking"],label:"House Rules",formSetter:Te,defaultValue:Ie}))),r.a.createElement(un.a,{row:!0,style:{display:"flex",alignItems:"center"}},r.a.createElement("div",null,r.a.createElement(La,{options:["Cats","Dogs","Fish","Guinea Pigs","Hamsters","Insects","Rabbits","Reptiles"],label:"Pets",formSetter:Be,defaultValue:We})),r.a.createElement("div",null,r.a.createElement(La,{options:["Bank Transfer","Cash","Card","Cheque","Cryptocurrency","Other (discuss with host)"],label:"Payment Methods",formSetter:Re,defaultValue:Pe})),r.a.createElement("div",{style:{paddingTop:12}},null!==Ve&&r.a.createElement(gn,{label:"LGBTQ+ Friendly",name:"lgbtq",formSetter:He,defaultValue:Ve})))),r.a.createElement(fe.a,{className:e.sectionDivider}),r.a.createElement("div",{className:e.images},r.a.createElement(b.a,{variant:"h5",component:"h3",color:"primary",className:e.title,style:{paddingBottom:".5em"}},"Images"),r.a.createElement("div",null,r.a.createElement(b.a,{component:"h4",variant:"h6"},"Select the listing's primary image"),r.a.createElement(b.a,{color:"textSecondary"},"This will be featured prominently throughout the site, so make you it's a picture you really like!"),r.a.createElement("div",{className:e.uploadOneImageWrapper},Ue&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.currentPrimaryImg},r.a.createElement(b.a,{component:"p",variant:"h6",align:"center"},"Current Primary Image"),r.a.createElement("img",{src:Ue,alt:Ue,className:e.primaryImg})),r.a.createElement(Sn,{formSetter:Je,required:!0})))),r.a.createElement("div",null,r.a.createElement(b.a,{component:"h4",variant:"h6"},"Select additional images"),r.a.createElement(b.a,{color:"textSecondary"},r.a.createElement("b",null,"NOTE:")," at this time you can only bulk add photos, so if you want to keep your current photos and add others, you need to add them again."),null!==Ze&&r.a.createElement(Mn,{formSetter:$e,defaultImages:Ze}))),r.a.createElement(fe.a,{className:e.sectionDivider}),r.a.createElement("div",{className:e.buttonWrapper},r.a.createElement(y.a,{variant:"contained",color:"primary",className:e.submitButton,type:"submit"},"Update Listing!")),mt.title&&r.a.createElement(zr,{listing:mt})):r.a.createElement("div",{className:e.progressWrapper},r.a.createElement(qe.a,{size:100,color:"primary"})))))}var Gr=a(713),Ur=a(692),Jr=a(699),Kr=a(339),Qr=a.n(Kr),Zr=a(178),$r=a.n(Zr),Xr=a(179),el=a.n(Xr),tl=a(180),al=a.n(tl),nl=Object(p.a)((function(e){return{contentWrapper:Object(ge.a)({width:450},e.breakpoints.down("xs"),{width:"92%"}),bitmojiButton:{backgroundImage:"url(".concat("","/assets/img/bitmoji-neutral.png)"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",height:66,width:50,position:"fixed",bottom:10,left:15,zIndex:25,cursor:"pointer","&:hover":{backgroundImage:"url(".concat("","/assets/img/bitmoji-smile.png)")}},precache:{position:"absolute",bottom:0,left:0,opacity:.1,width:2},imgWrapper:{display:"flex",justifyContent:"center",alignItems:"center",margin:"".concat(e.spacing(2)," 0"),width:"100%"},img:{maxWidth:160,marginTop:e.spacing(2),marginBottom:e.spacing(2)},title:{color:e.palette.primary.dark,fontFamily:e.typography.special},contactInfo:Object(ge.a)({marginLeft:e.spacing(10)},e.breakpoints.down("xs"),{marginLeft:e.spacing(.5)})}})),rl=r.a.forwardRef((function(e,t){return r.a.createElement(Jr.a,Object.assign({direction:"up",ref:t},e))}));function ll(){var e=nl(),t=Object(n.useState)(!1),a=Object(u.a)(t,2),l=a[0],i=a[1];return r.a.createElement("div",{className:e.contentWrapper},r.a.createElement("div",{className:e.bitmojiButton,onClick:function(){i(!0)}}),r.a.createElement("img",{className:e.precache,src:"/assets/img/bitmoji-smile.png",alt:"smiling ben precache img"}),r.a.createElement(Gr.a,{open:l,TransitionComponent:rl,keepMounted:!0,onClose:function(){i(!1)},"aria-labelledby":"alert-dialog-contact-info","aria-describedby":"alert-dialog-ben-perlmutter-contact-information",className:e.dialog},r.a.createElement("div",{className:e.contentWrapper},r.a.createElement("div",{className:e.imgWrapper},r.a.createElement("img",{className:e.img,src:"/assets/img/bitmoji-location-pin.png",alt:"Ben emoji location pin"})),r.a.createElement(b.a,{id:"ben-permutter-contact",align:"center",component:"h3",variant:"h4",className:e.title},"Ben Perlmutter"),r.a.createElement(Ur.a,{className:e.contactInfo},r.a.createElement(St.a,{component:"nav","aria-label":"main mailbox folders"},r.a.createElement(Ct.a,null,r.a.createElement(F.a,null,r.a.createElement($r.a,null)),r.a.createElement(L.a,{primary:r.a.createElement(f.a,{href:"https://ben.perlmutter.io",target:"_blank"},"ben.perlmutter.io")})),r.a.createElement(Ct.a,null,r.a.createElement(F.a,null,r.a.createElement(Qr.a,null)),r.a.createElement(L.a,{primary:r.a.createElement(f.a,{href:"mailto:ben@perlmutter.io"},"ben@perlmutter.io")})),r.a.createElement(Ct.a,null,r.a.createElement(F.a,null,r.a.createElement(wa.a,null)),r.a.createElement(L.a,{primary:r.a.createElement(f.a,{href:"https://github.com/bpmutter",target:"_blank"},"Github")})),r.a.createElement(Ct.a,null,r.a.createElement(F.a,null,r.a.createElement(el.a,null)),r.a.createElement(L.a,{primary:r.a.createElement(f.a,{href:"https://linkedin.com/in/ben-perlmutter",target:"_blank"},"LinkedIn")})),r.a.createElement(Ct.a,null,r.a.createElement(F.a,null,r.a.createElement(al.a,null)),r.a.createElement(L.a,{primary:r.a.createElement(f.a,{href:"https://twitter.com/bpmutter",target:"_blank"},"Twitter")})))))))}var il=a(340),cl=a.n(il),ol=Object(p.a)((function(e){return{contentWrapper:Object(ge.a)({width:450,padding:e.spacing(2)},e.breakpoints.down("xs"),{width:"90%"}),iconButton:{backgroundColor:"rgba(2,18,26, .075)",borderRadius:"50%",height:50,width:50,position:"fixed",bottom:90,left:15,zIndex:25,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{backgroundColor:"rgba(2,18,26, .25)"}},icon:{color:e.palette.secondary.main,opacity:.95,fontSize:"2.25em"},imgWrapper:{display:"flex",justifyContent:"center",alignItems:"center",margin:"".concat(e.spacing(2)," 0"),width:"100%"},img:{maxWidth:100,marginTop:e.spacing(2),marginBottom:e.spacing(2)},title:{color:e.palette.primary.dark,fontFamily:e.typography.special,marginBottom:e.spacing(3)},aboutInfo:{fontSize:1.25*e.typography.fontSize},contactIcon:{fontSize:1.5*e.typography.fontSize,margin:e.spacing(1)}}})),sl=r.a.forwardRef((function(e,t){return r.a.createElement(Jr.a,Object.assign({direction:"down",ref:t},e))}));function ml(){var e=ol(),t=Object(n.useState)(!1),a=Object(u.a)(t,2),l=a[0],i=a[1];return r.a.createElement("div",{className:e.contentWrapper},r.a.createElement(h.a,{className:e.iconButton,onClick:function(){i(!0)}},r.a.createElement(cl.a,{className:e.icon})),r.a.createElement(Gr.a,{open:l,TransitionComponent:sl,keepMounted:!0,onClose:function(){i(!1)},"aria-labelledby":"alert-dialog-contact-info","aria-describedby":"alert-dialog-ben-perlmutter-contact-information",className:e.dialog},r.a.createElement("div",{className:e.contentWrapper},r.a.createElement("div",{className:e.imgWrapper},r.a.createElement("img",{className:e.img,src:"/logo-big.webp",alt:"aCasa logo"})),r.a.createElement(b.a,{id:"ben-permutter-contact",align:"center",component:"h3",variant:"h4",className:e.title},"About aCasa"),r.a.createElement("div",{className:e.aboutInfo},r.a.createElement("p",null,"aCasa is a medium-term listing platform."),r.a.createElement("p",null,"Home seekers can browse homes based on location, view home info relevant to medium-term stays, and contact the owners to continue the conversation on other mediums."),r.a.createElement("p",null,"Homeowners can post, update, and delete listings. They also have a dedicated profile page that they can update and share to build their business."),r.a.createElement("p",null,"aCasa was made with a React frontend and a Firebase serverless backend. Learn more and view the source code on"," ",r.a.createElement(f.a,{href:"https://github.com/bpmutter/acasa",target:"_blank",rel:"noopener"},"Github"),"."),r.a.createElement(b.a,{color:"textSecondary",align:"center"},"Made with \u2764\ufe0f by ","Ben Perlmutter, ",(new Date).getFullYear()),r.a.createElement(b.a,{variant:"body2",color:"textSecondary",align:"center",className:e.icons},r.a.createElement(h.a,{color:"secondary",href:"https://ben.perlmutter.io/",target:"_blank",rel:"noopener"},r.a.createElement($r.a,{className:e.contactIcon})),r.a.createElement(h.a,{color:"secondary",href:"https://github.com/bpmutter",target:"_blank",rel:"noopener"},r.a.createElement(wa.a,{className:e.contactIcon})),r.a.createElement(h.a,{color:"secondary",href:"https://linkedin.com/in/ben-perlmutter",target:"_blank",rel:"noopener"},r.a.createElement(el.a,{className:e.contactIcon})),r.a.createElement(h.a,{color:"secondary",href:"https://twitter.com/bpmutter",target:"_blank",rel:"noopener"},r.a.createElement(al.a,{className:e.contactIcon})))))))}var ul=a(41),pl=a(341);var dl=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{minHeight:"94vh"}},r.a.createElement(le.a,null,r.a.createElement(ul.a,{utils:pl.a},r.a.createElement(de,null),r.a.createElement(U.d,null,r.a.createElement(U.b,{path:"/",exact:!0},r.a.createElement(jt,null)),r.a.createElement(xa,{exact:!0,path:"/profile"},r.a.createElement(ka,null)),r.a.createElement(xa,{exact:!0,path:"/profile/settings"},r.a.createElement(cn,null)),r.a.createElement(xa,{path:"/create-listing"},r.a.createElement(Hn,null)),r.a.createElement(U.b,{path:"/users/:username"},r.a.createElement(Ea,null)),r.a.createElement(xa,{path:"/listings/:id/edit"},r.a.createElement(Yr,null)),r.a.createElement(U.b,{path:"/listings/:id"},r.a.createElement(Or,null)),r.a.createElement(U.b,{path:"/testing"},r.a.createElement(U.d,null,r.a.createElement(U.b,{exact:!0,path:"/testing"},r.a.createElement(Jn,null)),r.a.createElement(U.b,{path:"/testing/listing"},r.a.createElement(Or,null)))),r.a.createElement(U.b,{exact:!0,path:"/search"},r.a.createElement(Lr,null)),r.a.createElement(U.b,{exact:!0,path:"/login"},r.a.createElement(Pr,null)),r.a.createElement(U.b,{exact:!0,path:"/signup"},r.a.createElement(Pr,null)),r.a.createElement(U.b,{path:"*"},r.a.createElement(ar,null))))),r.a.createElement(ml,null),r.a.createElement(ll,null)),r.a.createElement(Oa,null))},gl=a(700),fl=a(342),bl=a(710),hl=Object(fl.a)({palette:{primary:{main:"#8e24aa"},secondary:{main:"#1de9b6"},gradients:{primary:"linear-gradient(90deg, rgba(142,36,170,1) 0%, rgba(254,102,197,1) 100%)",secondary:"linear-gradient(90deg, rgba(29,233,182,1) 20%, rgba(34,193,195,1) 100%)"}},typography:{special:"'Fredoka One', Roboto, Arial, sans-serif"}});hl=Object(bl.a)(hl);var yl=Object(fl.a)({});function El(e){return vl.apply(this,arguments)}function vl(){return(vl=Object(m.a)(o.a.mark((function e(t){var a,n,r,l,i,c,s,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.additionalUserInfo,n=a.isNewUser,r=a.profile,e.next=3,N.a.auth().currentUser.uid;case 3:if(l=e.sent,i={},c=(c=new Date).getTime(),i.username="".concat(r.given_name.split(" ").join("").toLowerCase(),"-").concat(r.family_name.split(" ").join("").toLowerCase(),"-").concat(c),i.first_name=r.given_name,i.last_name=r.family_name,i.profile_picture=r.picture,i.contact={email:r.email},s=new Date,i.date_added=s,i.date_updated=s,i.oAuthInfo=r,i.uid=l,i.contact.email=r.email,m=null,!n){e.next=30;break}return e.prev=20,e.next=23,Ft.collection("users").doc(l).set(i);case 23:e.sent,e.next=29;break;case 26:e.prev=26,e.t0=e.catch(20),console.error(e.t0);case 29:m=l;case 30:return e.abrupt("return",m);case 31:case"end":return e.stop()}}),e,null,[[20,26]])})))).apply(this,arguments)}function wl(){return jl.apply(this,arguments)}function jl(){return(jl=Object(m.a)(o.a.mark((function e(){var t,a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.auth().currentUser.uid;case 2:return t=e.sent,e.next=5,Ft.collection("users").doc(t);case 5:return a=e.sent,e.next=8,a.get();case 8:if((n=e.sent).exists){e.next=13;break}return e.abrupt("return");case 13:return r=n.data(),e.abrupt("return",r);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ol(e){return xl.apply(this,arguments)}function xl(){return(xl=Object(m.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=N.a.auth().onAuthStateChanged(function(){var e=Object(m.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wl();case 2:r=e.sent,t(r),a();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}yl=Object(bl.a)(yl);var Nl=function(){var e=JSON.parse(localStorage.getItem("loggedIn")),t=Object(n.useState)(e),a=Object(u.a)(t,2),l=a[0],i=a[1],c=Object(n.useState)({username:""}),p=Object(u.a)(c,2),d=p[0],g=p[1],f=Object(n.useState)([]),b=Object(u.a)(f,2),h=b[0],y=b[1],E=function(){var e=Object(m.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,El(t);case 2:e.sent?v():y(["It looks like there is already an account using this email. Log in with that account or choose a new log in method"].concat(Object(s.a)(h)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(m.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wl();case 2:t=e.sent,g(t),i(!0),localStorage.setItem("loggedIn",!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){l&&Object(m.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ol(g);case 2:case"end":return e.stop()}}),e)})))()}),[d.username]);var w={user:d,loggedIn:l,logIn:v,logOut:function(){N.a.auth().signOut(),i(!1),localStorage.setItem("loggedIn",!1)},signUp:E};return r.a.createElement(S.Provider,{value:w},r.a.createElement(gl.a,{theme:hl},r.a.createElement(dl,null)))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Nl,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},63:function(e,t,a){e.exports=a.p+"static/media/logo-big.17aa38cc.webp"}},[[369,1,2]]]);
//# sourceMappingURL=main.c95e45c4.chunk.js.map